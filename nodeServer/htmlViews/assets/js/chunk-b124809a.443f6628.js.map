{"version":3,"sources":["webpack:///./src/views/taskConfigCenter/taskLibraryManage/index.vue?8817","webpack:///./src/views/taskConfigCenter/taskLibraryManage/component/editHandler.vue?79cd","webpack:///./src/views/taskConfigCenter/taskLibraryManage/index.vue?ff51","webpack:///./src/views/taskConfigCenter/taskLibraryManage/component/editHandler.vue?6ad6","webpack:///./src/views/taskConfigCenter/taskLibraryManage/component/editHandler.vue","webpack:///./src/views/taskConfigCenter/taskLibraryManage/component/editHandler.vue?6d2d","webpack:///./src/views/taskConfigCenter/taskLibraryManage/component/editHandler.vue?c344","webpack:///./src/views/taskConfigCenter/taskLibraryManage/index.vue","webpack:///./src/views/taskConfigCenter/taskLibraryManage/index.vue?db6e","webpack:///./src/views/taskConfigCenter/taskLibraryManage/index.vue?fc33"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","slot","staticStyle","on","back","_v","editHandler","taskManage","addTask","queryParams","model","value","callback","$$v","$set","expression","_l","item","key","id","user","loadData","handleReset","class","tagsList","some","val","tagName","$event","selectTag","_s","num","tableData","loading","columns","total","page","limit","selectionChange","handleCurrent","handleSize","editVisible","editData","editCancel","staticRenderFns","visible","calcel","directives","name","rawName","data","dealId","cancel","confirm","status","stationUserOptions","length","loadUsers","prop","type","align","label","width","showOverflowTooltip","h","record","checked","keyMonitoring","isMonthlyTarget","stationUser","stationId","taskStation","then","res","error","$message","message","taskIds","forEach","push","dealName","cancelEdit","deep","immediate","component","selections","taskName","tags","isManyOperation","tagList","headerAlign","actions","action","props","click","edit","style","padding","copy","useIt","command","handleCommand","bind","trigger","iconClass","map","$route","query","scenesId","scenesType","$router","path","row","flag","Object","prototype","toString","call","arr","rows","sceneId","concat","msg","success","tag","console","log","tagIndex","findIndex","splice","allTag","loadTags","loadDicts","components"],"mappings":"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","file":"assets/js/chunk-b124809a.443f6628.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=28c001d8&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=28c001d8&lang=scss&scoped=true&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editHandler.vue?vue&type=style&index=0&id=40386354&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editHandler.vue?vue&type=style&index=0&id=40386354&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"task-library-manage\"},[_c('base-panel',{attrs:{\"title\":\"任务库管理\"}},[_c('template',{slot:\"title-right\"},[_c('el-button',{staticStyle:{\"margin-left\":\"10px\"},on:{\"click\":_vm.back}},[_vm._v(\"返回\")]),_c('el-button',{staticStyle:{\"margin-left\":\"10px\"},on:{\"click\":_vm.editHandler}},[_vm._v(\" 修改办理人 \")]),_c('el-button',{staticStyle:{\"margin-left\":\"10px\"},on:{\"click\":_vm.taskManage}},[_vm._v(\" 阶段设置 \")]),_c('el-button',{staticStyle:{\"margin-left\":\"10px\"},on:{\"click\":_vm.addTask}},[_vm._v(\" 新增任务 \")])],1),_c('div',{staticClass:\"task-library-manage-form-con\"},[_c('el-form',{staticClass:\"task-library-manage-form\",attrs:{\"inline\":true,\"label-suffix\":\" :\",\"size\":\"mini\",\"model\":_vm.queryParams}},[_c('el-row',[_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',{attrs:{\"label\":\"任务名称\"}},[_c('el-input',{attrs:{\"clearable\":\"\",\"placeholder\":\"请输入视图名称\"},model:{value:(_vm.queryParams.taskName),callback:function ($$v) {_vm.$set(_vm.queryParams, \"taskName\", $$v)},expression:\"queryParams.taskName\"}})],1)],1),_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',{attrs:{\"label\":\"责任人\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\",\"clearable\":\"\",\"filterable\":\"\"},model:{value:(_vm.queryParams.stationUser),callback:function ($$v) {_vm.$set(_vm.queryParams, \"stationUser\", $$v)},expression:\"queryParams.stationUser\"}},_vm._l((_vm.stationUserOptions),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.user,\"value\":item.id}})}),1)],1)],1),_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',[_c('el-checkbox',{model:{value:(_vm.queryParams.isManyOperation),callback:function ($$v) {_vm.$set(_vm.queryParams, \"isManyOperation\", $$v)},expression:\"queryParams.isManyOperation\"}},[_vm._v(\" 屏蔽多任务状态 \")])],1)],1),_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.loadData}},[_vm._v(\"搜索\")]),_c('el-button',{on:{\"click\":_vm.handleReset}},[_vm._v(\"重置\")])],1)],1)],1),_c('el-row',[_c('el-form-item',{staticClass:\"tagsClass\",attrs:{\"label\":\"流程标签\"}},_vm._l((_vm.tagList),function(item){return _c('el-tag',{key:item,class:!_vm.tagsList.some(function (val) { return val.tagName === item.tagName; })\n                  ? ''\n                  : 'selectedTag',on:{\"click\":function($event){return _vm.selectTag(item)}}},[_vm._v(\" \"+_vm._s(item.tagName)+\" (\"+_vm._s(item.num)+\") \")])}),1)],1)],1)],1),_c('base-table',{staticClass:\"sortTable noTableBorder\",attrs:{\"border\":\"\",\"data-source\":_vm.tableData,\"loading\":_vm.loading,\"height\":360,\"columns\":_vm.columns(),\"has-pagination\":\"\",\"show-summary\":false,\"total\":_vm.total,\"current-page\":_vm.page,\"page-size\":_vm.limit,\"border-style\":true},on:{\"selectionChange\":_vm.selectionChange,\"handleCurrent\":_vm.handleCurrent,\"handleSize\":_vm.handleSize}})],2),_c('edit-handler',{attrs:{\"visible\":_vm.editVisible,\"data\":_vm.editData},on:{\"cancelEmit\":_vm.editCancel}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":\"修改办理人\",\"visible\":_vm.visible,\"width\":\"50%\",\"close-on-click-modal\":false,\"before-close\":_vm.calcel},on:{\"update:visible\":function($event){_vm.visible=$event}}},[_c('span',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}]},[_c('div',{staticClass:\"title\"},[_vm._v(\"已选择的任务\")]),_c('base-table',{staticClass:\"sortTable noTableBorder\",attrs:{\"border\":\"\",\"data-source\":_vm.data,\"columns\":_vm.columns(),\"show-summary\":false,\"border-style\":true}}),_c('div',{staticClass:\"title\"},[_vm._v(\"请选择您要修改的任务办理人\")]),_c('span',[_vm._v(\"办理人：\")]),_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.dealId),callback:function ($$v) {_vm.dealId=$$v},expression:\"dealId\"}},_vm._l((_vm.stationUserOptions),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.user,\"value\":item.id}})}),1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.cancel}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.confirm}},[_vm._v(\"确 定\")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue, Prop, Emit, Watch, Ref } from 'vue-property-decorator';\r\nimport { getUserInfoByStationId, editDealBatch } from '@api/taskLibraryManage';\r\n@Component\r\nexport default class EditHandler extends Vue {\r\n  name: 'EditHandler';\r\n  @Emit('cancelEmit')\r\n  cancelEdit() {}\r\n  @Prop() visible: boolean;\r\n  @Prop() data: Record<string, any>;\r\n  @Watch('data', { deep: true, immediate: true })\r\n  dataChange(val) {\r\n    if (val && val.length) {\r\n      this.loadUsers(val);\r\n    }\r\n  }\r\n  private status = '';\r\n  private dealId = '';\r\n  private loading = false;\r\n  private stationUserOptions: Array<any> = [];\r\n  columns() {\r\n    return [\r\n      {\r\n        prop: '',\r\n        type: 'index',\r\n        align: 'center',\r\n        label: '序号',\r\n        width: '60'\r\n      },\r\n      {\r\n        prop: 'taskName',\r\n        label: '任务名称',\r\n        'header-align': 'left',\r\n        showOverflowTooltip: true,\r\n        'min-width': '100'\r\n      },\r\n      {\r\n        prop: 'taskDesc',\r\n        label: '任务描述',\r\n        'header-align': 'left',\r\n        showOverflowTooltip: true,\r\n        'min-width': '120'\r\n      },\r\n      {\r\n        prop: 'taskStationName',\r\n        label: '责任岗位',\r\n        'header-align': 'center',\r\n        showOverflowTooltip: true,\r\n        'min-width': '80'\r\n      },\r\n      {\r\n        prop: 'stationUserName',\r\n        label: '责任人',\r\n        'header-align': 'center',\r\n        showOverflowTooltip: true,\r\n        'min-width': '80'\r\n      },\r\n      {\r\n        prop: 'status',\r\n        label: '任务状态',\r\n        'header-align': 'center',\r\n        showOverflowTooltip: true,\r\n        'min-width': '80',\r\n        render: (h, record) => {\r\n          return h('span', record.record.checked ? '已启用' : '未启用');\r\n        }\r\n      },\r\n      {\r\n        prop: 'stageName',\r\n        label: '所属阶段',\r\n        'header-align': 'center',\r\n        showOverflowTooltip: true,\r\n        'min-width': '80'\r\n      },\r\n      {\r\n        prop: 'keyMonitoring',\r\n        label: '是否关键监控点任务',\r\n        'header-align': 'center',\r\n        align: 'center',\r\n        width: 200,\r\n        showOverflowTooltip: true,\r\n        'min-width': '80',\r\n        render: (h, record) => {\r\n          return h('span', record.record.keyMonitoring ? '是' : '否');\r\n        }\r\n      },\r\n      {\r\n        prop: 'isMonthlyTarget',\r\n        label: '是否月度目标',\r\n        'header-align': 'center',\r\n        align: 'center',\r\n        showOverflowTooltip: true,\r\n        width: '120',\r\n        render: (h, record) => {\r\n          return h('span', record.record.isMonthlyTarget ? '是' : '否');\r\n        }\r\n      }\r\n    ];\r\n  }\r\n  loadUsers(val) {\r\n    this.dealId = val[0].stationUser;\r\n    const data = {\r\n      stationId: val[0].taskStation,\r\n      status: '0'\r\n    };\r\n    if (!val[0].taskStation) {\r\n      this.$message.error('请确认该任务存在责任岗位');\r\n    } else {\r\n      getUserInfoByStationId(data).then((res) => {\r\n        this.loading = true;\r\n        if (!res.error) {\r\n          this.stationUserOptions = res.data;\r\n        } else {\r\n          this.$message.error(`获取办理人失败${res.error.message}`);\r\n        }\r\n        this.loading = false;\r\n      });\r\n    }\r\n  }\r\n  confirm() {\r\n    const taskIds: Array<any> = [];\r\n    this.data.forEach((item) => {\r\n      taskIds.push(item.id);\r\n    });\r\n    let dealName = '';\r\n    this.stationUserOptions.forEach((item) => {\r\n      if (item.id === this.dealId) {\r\n        dealName = item.user;\r\n      }\r\n    });\r\n    const data = { dealId: this.dealId, taskIds, dealName };\r\n    editDealBatch(data).then((res) => {\r\n      if (!res.error) {\r\n        this.cancel();\r\n      } else {\r\n        this.$message.error(`修改失败${res.error.message}`);\r\n      }\r\n    });\r\n  }\r\n  cancel() {\r\n    this.cancelEdit();\r\n  }\r\n}\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editHandler.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editHandler.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./editHandler.vue?vue&type=template&id=40386354&scoped=true&\"\nimport script from \"./editHandler.vue?vue&type=script&lang=ts&\"\nexport * from \"./editHandler.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./editHandler.vue?vue&type=style&index=0&id=40386354&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"40386354\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n// 修改办理人\r\nimport editHandler from './component/editHandler.vue';\r\nimport { Vue, Component } from 'vue-property-decorator';\r\nimport { cloneDeep } from 'lodash';\r\nimport {\r\n  loadData, // 列表\r\n  deleteTask, // 删除\r\n  listTagsAndTaskCount, // 标签\r\n  dicts, // 标签\r\n  copyTask, // 复制任务\r\n  enableTask //启用任务\r\n} from '@api/taskLibraryManage';\r\n\r\n@Component({\r\n  components: { editHandler }\r\n})\r\nexport default class TaskLibraryManage extends Vue {\r\n  private tableData: Array<any> = [];\r\n  private total = 0;\r\n  private page = 1;\r\n  private limit = 10;\r\n  private loading = false;\r\n  private selections: Array<any> = [];\r\n\r\n  // 修改办理人\r\n  private editVisible = false;\r\n  private editData: Array<any> = [];\r\n\r\n  //搜索条件\r\n  private queryParams: any = {\r\n    taskName: '',\r\n    stationUser: '',\r\n    tags: [],\r\n    isManyOperation: false\r\n  };\r\n  private tagsList: Array<any> = [];\r\n\r\n  // 搜索\r\n  private taskName = '';\r\n  private stationUserOptions = [];\r\n  private tagList: Array<any> = [];\r\n  columns() {\r\n    return [\r\n      {\r\n        prop: '',\r\n        type: 'selection',\r\n        label: '序号',\r\n        width: '60'\r\n      },\r\n      {\r\n        prop: '',\r\n        type: 'index',\r\n        align: 'center',\r\n        label: '序号',\r\n        width: '60'\r\n      },\r\n      {\r\n        prop: 'taskName',\r\n        label: '任务名称',\r\n        'header-align': 'left',\r\n        showOverflowTooltip: true,\r\n        'min-width': '100'\r\n      },\r\n      {\r\n        prop: 'taskDesc',\r\n        label: '任务描述',\r\n        'header-align': 'left',\r\n        showOverflowTooltip: true,\r\n        'min-width': '120'\r\n      },\r\n      {\r\n        prop: 'taskStationName',\r\n        label: '责任岗位',\r\n        'header-align': 'left',\r\n        showOverflowTooltip: true,\r\n        'min-width': '80'\r\n      },\r\n      {\r\n        prop: 'stationUserName',\r\n        label: '责任人',\r\n        'header-align': 'left',\r\n        showOverflowTooltip: true,\r\n        'min-width': '80'\r\n      },\r\n      {\r\n        prop: 'status',\r\n        label: '任务状态',\r\n        'header-align': 'left',\r\n        showOverflowTooltip: true,\r\n        'min-width': '80',\r\n        render: (h, record) => {\r\n          return h('span', record.record.checked ? '已启用' : '未启用');\r\n        }\r\n      },\r\n      {\r\n        prop: 'stageName',\r\n        label: '所属阶段',\r\n        'header-align': 'left',\r\n        showOverflowTooltip: true,\r\n        'min-width': '80'\r\n      },\r\n      {\r\n        prop: 'keyMonitoring',\r\n        label: '是否关键监控点任务',\r\n        'header-align': 'left',\r\n        align: 'left',\r\n        width: 200,\r\n        showOverflowTooltip: true,\r\n        'min-width': '80',\r\n        render: (h, record) => {\r\n          return h('span', record.record.keyMonitoring ? '是' : '否');\r\n        }\r\n      },\r\n      {\r\n        prop: 'isMonthlyTarget',\r\n        label: '是否月度目标',\r\n        'header-align': 'left',\r\n        align: 'left',\r\n        showOverflowTooltip: true,\r\n        'min-width': '80',\r\n        render: (h, record) => {\r\n          return h('span', record.record.isMonthlyTarget ? '是' : '否');\r\n        }\r\n      },\r\n      {\r\n        align: 'center',\r\n        label: '操作',\r\n        width: '300',\r\n        headerAlign: 'center',\r\n        render: (h: any, { record }: any) => {\r\n          const actions = [\r\n            { name: '修改办理人', action: 'editHandler' },\r\n            { name: '删除', action: 'delRow' }\r\n          ];\r\n          return h('div', {}, [\r\n            h(\r\n              'el-button',\r\n              {\r\n                props: {\r\n                  type: 'text'\r\n                },\r\n                on: {\r\n                  click: () => this.edit(record)\r\n                }\r\n              },\r\n              '修改'\r\n            ),\r\n            h(\r\n              'span',\r\n              {\r\n                style: {\r\n                  padding: '0 6px'\r\n                }\r\n              },\r\n              '|'\r\n            ),\r\n            h(\r\n              'el-button',\r\n              {\r\n                props: {\r\n                  type: 'text'\r\n                },\r\n                on: {\r\n                  click: () => this.copy(record)\r\n                }\r\n              },\r\n              '复制'\r\n            ),\r\n            h(\r\n              'span',\r\n              {\r\n                style: {\r\n                  padding: '0 6px'\r\n                }\r\n              },\r\n              '|'\r\n            ),\r\n            h(\r\n              'el-button',\r\n              {\r\n                props: {\r\n                  type: 'text'\r\n                },\r\n                on: {\r\n                  click: () => this.useIt(record)\r\n                }\r\n              },\r\n              record.checked ? '停用' : '启用'\r\n            ),\r\n            h(\r\n              'span',\r\n              {\r\n                style: {\r\n                  padding: '0 6px'\r\n                }\r\n              },\r\n              '|'\r\n            ),\r\n            h(\r\n              'el-dropdown',\r\n              {\r\n                on: {\r\n                  command: this.handleCommand.bind(this, record)\r\n                },\r\n                props: {\r\n                  trigger: 'click'\r\n                }\r\n              },\r\n              [\r\n                h(\r\n                  'el-button',\r\n                  {\r\n                    props: {\r\n                      type: 'text'\r\n                    }\r\n                  },\r\n                  [\r\n                    '更多',\r\n                    h('svg-icon', {\r\n                      props: {\r\n                        iconClass: 'icon_down_backups'\r\n                      },\r\n                      class: 'icon'\r\n                    })\r\n                  ]\r\n                ),\r\n                h(\r\n                  'el-dropdown-menu',\r\n                  {\r\n                    slot: 'dropdown'\r\n                  },\r\n                  actions.map((item) => {\r\n                    return h(\r\n                      'el-dropdown-item',\r\n                      {\r\n                        props: {\r\n                          command: item.action\r\n                        }\r\n                      },\r\n                      item.name\r\n                    );\r\n                  })\r\n                )\r\n              ]\r\n            )\r\n          ]);\r\n        }\r\n      }\r\n    ];\r\n  }\r\n\r\n  // 新增任务\r\n  addTask() {\r\n    const { scenesId, scenesType } = this.$route.query;\r\n    this.$router.push({\r\n      path: '/taskConfigCenter/addTasks',\r\n      query: { scenesId, scenesType }\r\n    });\r\n  }\r\n\r\n  // 修改办理人\r\n  editHandler(row: Record<string, any>) {\r\n    this.editData = [];\r\n    if (this.selections.length) {\r\n      const flag = this.selections.some((item) => {\r\n        item.taskStation === this.selections[0].taskStation;\r\n      });\r\n      if (flag) {\r\n        this.editData = this.selections;\r\n        this.editVisible = true;\r\n      } else {\r\n        this.$message.error('请确认所有任务都为同一责任岗位');\r\n      }\r\n    } else if (Object.prototype.toString.call(row) === '[object Object]') {\r\n      const arr: Array<any> = [];\r\n      arr.push(row);\r\n      this.editData = arr;\r\n      this.editVisible = true;\r\n    }\r\n  }\r\n\r\n  // 关闭修改办理人弹窗\r\n  editCancel() {\r\n    this.editVisible = false;\r\n    this.loadData();\r\n  }\r\n\r\n  // 多选\r\n  selectionChange(val: Array<any>) {\r\n    this.selections = val;\r\n  }\r\n\r\n  // 获取列表\r\n  loadData() {\r\n    this.loading = true;\r\n    const { limit, page, queryParams } = this;\r\n    const { scenesId } = this.$route.query;\r\n    queryParams.tags = [];\r\n    this.tagsList.map((item) => {\r\n      queryParams.tags.push(item.tagName);\r\n    });\r\n    const data = {\r\n      scenesId,\r\n      limit,\r\n      page,\r\n      ...queryParams\r\n    };\r\n    loadData(data).then((res) => {\r\n      if (!res.error) {\r\n        this.tableData = res.data.rows;\r\n        this.total = res.data.total;\r\n        // if (!this.tagList.some((item) => item.tagName === '全部')) {\r\n        //   this.tagList.unshift({ tagName: '全部', num: this.total });\r\n        // }\r\n      } else {\r\n        this.$message.error(`任务列表访问失败:${res.error.message}`);\r\n      }\r\n      this.loading = false;\r\n    });\r\n  }\r\n  // 获取标签\r\n  loadTags() {\r\n    this.tagList = [];\r\n    const { scenesId } = this.$route.query;\r\n    listTagsAndTaskCount({ sceneId: scenesId }).then((res) => {\r\n      if (!res.error) {\r\n        this.tagList = this.tagList.concat(res.data);\r\n      } else {\r\n        this.$message.error(`获取标签失败:${res.error.message}`);\r\n      }\r\n    });\r\n  }\r\n  //获取责任人\r\n  loadDicts() {\r\n    dicts().then((res) => {\r\n      if (!res.error) {\r\n        this.stationUserOptions = res.data;\r\n      } else {\r\n        this.$message.error(`获取责任人失败:${res.error.message}`);\r\n      }\r\n    });\r\n  }\r\n  // 修改任务\r\n  edit(row: any) {\r\n    const { id } = row;\r\n    const { scenesId, scenesType } = this.$route.query;\r\n    this.$router.push({\r\n      path: '/taskConfigCenter/addTasks',\r\n      query: { id, scenesId, scenesType }\r\n    });\r\n  }\r\n  // 复制\r\n  copy(row: any) {\r\n    this.loading = true;\r\n    const { id } = row;\r\n    const { scenesId, scenesType } = this.$route.query;\r\n    copyTask({ id }).then((res) => {\r\n      if (!res.error) {\r\n        this.loading = false;\r\n        this.$router.push({\r\n          path: '/taskConfigCenter/addTasks',\r\n          query: { id: res.data, scenesId, scenesType }\r\n        });\r\n      } else {\r\n        this.loading = false;\r\n        this.$message.error(`复制失败:${res.error.message}`);\r\n      }\r\n    });\r\n  }\r\n  // 启用\r\n  useIt(row) {\r\n    const msg = row.checked === 0 ? '启用' : '停用';\r\n    enableTask({ id: row.id }).then((res) => {\r\n      if (!res.error) {\r\n        row.checked = (row.checked + 1) % 2;\r\n        this.$message.success(`${msg}成功`);\r\n      } else {\r\n        this.$message.error(`${msg}失败:${res.error.message}`);\r\n      }\r\n    });\r\n  }\r\n  // 删除\r\n  delRow(row) {\r\n    const { id } = row;\r\n    deleteTask({ id }).then((res) => {\r\n      if (!res.error) {\r\n        this.loadData();\r\n      } else {\r\n        this.$message.error(`删除失败:${res.error.message}`);\r\n      }\r\n    });\r\n  }\r\n\r\n  handleCurrent(val) {\r\n    this.page = val;\r\n    this.loadData();\r\n  }\r\n  handleSize(val) {\r\n    this.limit = val;\r\n    this.page = 1;\r\n    this.loadData();\r\n  }\r\n  // 标签点击\r\n  selectTag(tag: any) {\r\n    if (tag.tagName === '全部') {\r\n      if (this.tagsList.length === this.tagList.length) {\r\n        this.tagsList = [];\r\n      } else {\r\n        this.tagsList = cloneDeep(this.tagList);\r\n      }\r\n    } else {\r\n      console.log(tag);\r\n      const tagIndex = this.tagsList.findIndex(function(item) {\r\n        return item.tagName === tag.tagName;\r\n      });\r\n      console.log(tagIndex);\r\n      if (tagIndex === -1) {\r\n        this.tagsList.push(tag);\r\n        if (this.tagsList.length === this.tagList.length - 1) {\r\n          this.tagsList.push({ tagName: '全部', num: this.total });\r\n        }\r\n      } else {\r\n        this.tagsList.splice(tagIndex, 1);\r\n        const allTag = this.tagsList.findIndex(function(item) {\r\n          return item.tagName === '全部';\r\n        });\r\n        if (allTag !== -1) {\r\n          this.tagsList.splice(allTag, 1);\r\n        }\r\n      }\r\n    }\r\n    this.loadData();\r\n  }\r\n  handleReset() {\r\n    this.queryParams = {\r\n      taskName: '',\r\n      stationUser: '',\r\n      tags: [],\r\n      isManyOperation: false\r\n    };\r\n    this.loadData();\r\n  }\r\n\r\n  //阶段设置\r\n  taskManage() {\r\n    const { scenesId, scenesType } = this.$route.query;\r\n    this.$router.push({\r\n      path: '/taskConfigCenter/orchestrationTask',\r\n      query: { scenesId, scenesType }\r\n    });\r\n  }\r\n  // 列表更多\r\n  handleCommand(row: any, command: any) {\r\n    this[command](row);\r\n  }\r\n  // 返回\r\n  back() {\r\n    this.$router.push('/taskConfigCenter/businessScenarioManage');\r\n  }\r\n\r\n  created() {\r\n    this.loadData();\r\n    this.loadTags();\r\n    this.loadDicts();\r\n  }\r\n}\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=28c001d8&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=28c001d8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"28c001d8\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}