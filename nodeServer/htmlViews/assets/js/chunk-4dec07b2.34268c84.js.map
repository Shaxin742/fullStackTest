{"version":3,"sources":["webpack:///./src/mixins/paramCache.js","webpack:///./src/views/pushService/index.vue?0b31","webpack:///./src/views/pushService/index.vue","webpack:///./src/views/pushService/index.vue?6334","webpack:///./src/views/pushService/index.vue?4dda","webpack:///./src/views/pushService/index.vue?806b"],"names":["extractProps","paramKeys","sources","target","key","val","cloneDeep","cacheKeys","namespace","keep","computed","moduleName","this","$route","path","cacheParams","$store","state","dataCache","params","methods","mapMutations","cacheParamData","SET_CACHE_PARAMS","recoveryDataParams","created","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","actions","pushServiceData","loading","columns","total","page","limit","on","handleCurrent","handleSize","slot","nativeOn","$event","preventDefault","type","indexOf","_k","keyCode","seathData","model","value","callback","$$v","serviceName","expression","_v","updateData","dialogVisibleData","setDetermines","cancelDialog","radio","staticRenderFns","registerHooks","paramsCacheMixin","copy","quoteData","compatibleId","compatible","viewStateData","text","_this","prop","label","align","showOverflowTooltip","formatter","viewStatusFormatter","width","headerAlign","code","hidden","startShow","onClick","row","startBtn","stopShow","blockShow","disabled","editDisabled","editBook","previewBook","copyBook","deleteDisabled","deletePush","icon","goHttp","title","gotolink","status","statusCode","id","then","error","pushServiceList","$message","message","length","to","from","next","$router","push","kind","query","dataList","name","viewData","data","rows","$confirm","confirmButtonText","cancelButtonText","catch","column","cellValue","isCompatible","mixins","component"],"mappings":"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","file":"assets/js/chunk-4dec07b2.34268c84.js","sourcesContent":["import { mapMutations } from 'vuex';\r\nimport cloneDeep from 'lodash/cloneDeep';\r\n\r\nfunction extractProps(paramKeys, sources, target = {}) {\r\n  /**\r\n   * 从源对象中提取指定属性到目标对象\r\n   * @argument paramKeys 需要提取的属性名称组成的数组\r\n   */\r\n  for (const key of paramKeys) {\r\n    const val = sources[key];\r\n    if (val) {\r\n      if (typeof val === 'object') {\r\n        target[key] = cloneDeep(val);\r\n      } else {\r\n        target[key] = val;\r\n      }\r\n    }\r\n  }\r\n\r\n  return target;\r\n}\r\n\r\n/**\r\n * 组件data临时缓存mixin，用于将组件data中的数据提升到store中\r\n * 比如实现分页查询页面从编辑页返回后显示编辑前的页码\r\n * cacheKeys: 组件中待缓存的data中的属性名，属性值不能是函数\r\n * namespace：命名空间，处理一个路由下有多个组件的情况\r\n * keep：是否保留缓存结果，若为true，则不再阅读之后清除\r\n */\r\nexport default function(cacheKeys, namespace, keep) {\r\n  return {\r\n    computed: {\r\n      moduleName() {\r\n        return `${this.$route.path}${namespace ? '_' + namespace : ''}`;\r\n      },\r\n      cacheParams() {\r\n        return this.$store.state.dataCache.params[this.moduleName];\r\n      }\r\n    },\r\n    methods: {\r\n      ...mapMutations(['SET_CACHE_PARAMS']),\r\n      cacheParamData() {\r\n        /**\r\n         * 缓存组件data中的数据\r\n         */\r\n        this.SET_CACHE_PARAMS({\r\n          moduleName: this.moduleName,\r\n          params: extractProps(cacheKeys, this)\r\n        });\r\n      },\r\n      recoveryDataParams() {\r\n        /**\r\n         * 恢复组件data中被缓存的参数,如果不传，则默认使用cacheParamKeys\r\n         */\r\n        if (this.cacheParams) {\r\n          //  直接提取缓存对象中的参数到组件data中\r\n          extractProps(cacheKeys, this.cacheParams, this);\r\n          //  阅后即焚\r\n          if (!keep) {\r\n            this.SET_CACHE_PARAMS({\r\n              moduleName: this.moduleName\r\n            });\r\n          }\r\n        }\r\n      }\r\n    },\r\n    created() {\r\n      this.recoveryDataParams();\r\n    }\r\n  };\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"servicePush\"},[_c('base-table-panel',{staticClass:\"sortTable noTableBorder pushTable\",attrs:{\"title\":\"数据推送服务\",\"right-btns\":_vm.actions(),\"data-source\":_vm.pushServiceData,\"loading\":_vm.loading,\"height\":360,\"columns\":_vm.columns(),\"has-pagination\":\"\",\"show-summary\":false,\"total\":_vm.total,\"current-page\":_vm.page,\"page-size\":_vm.limit,\"border-style\":true,\"can-edit\":\"\"},on:{\"handleCurrent\":_vm.handleCurrent,\"handleSize\":_vm.handleSize}},[_c('template',{slot:\"operate-left\"},[_c('el-form',{staticClass:\"operate-left-form\",attrs:{\"inline\":true,\"label-suffix\":\":\",\"size\":\"mini\"},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{attrs:{\"label\":\"服务名称\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入视图名称\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.seathData($event)}},model:{value:(_vm.serviceName),callback:function ($$v) {_vm.serviceName=$$v},expression:\"serviceName\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.seathData}},[_vm._v(\"搜索\")]),_c('el-button',{on:{\"click\":_vm.updateData}},[_vm._v(\"重置\")])],1)],1)],1)],2),_c('simple-dialog',{attrs:{\"dialog-title\":\"修改\",\"dialog-visible\":_vm.dialogVisibleData,\"dialog-width\":\"300px\",\"botton-show\":\"true\",\"cancel-text\":\"取消\",\"save-text\":\"确定\"},on:{\"saveEmit\":_vm.setDetermines,\"cancelEmit\":_vm.cancelDialog}},[_c('el-radio',{attrs:{\"label\":\"0\"},model:{value:(_vm.radio),callback:function ($$v) {_vm.radio=$$v},expression:\"radio\"}},[_vm._v(\"兼容性\")]),_c('el-radio',{attrs:{\"label\":\"1\"},model:{value:(_vm.radio),callback:function ($$v) {_vm.radio=$$v},expression:\"radio\"}},[_vm._v(\"非兼容性\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Vue, Component } from 'vue-property-decorator';\r\nimport { viewDataQuery, statusChange, deleteViewData } from '@api/viewData';\r\nimport paramsCache from '@mixins/paramCache';\r\nimport { arrayFind } from '@utils/util';\r\nComponent.registerHooks(['beforeRouteLeave']);\r\nconst paramsCacheMixin = paramsCache([\r\n  'page',\r\n  'limit',\r\n  'total',\r\n  'pushServiceData',\r\n  'serviceName'\r\n]);\r\n@Component({\r\n  mixins: [paramsCacheMixin]\r\n})\r\nexport default class PushServiceIndex extends Vue {\r\n  pushServiceData: Array<any> = [];\r\n  serviceName = '';\r\n  loading = false;\r\n  page = 1;\r\n  limit = 10;\r\n  total = 10;\r\n  copy = false;\r\n  quoteData: Array<any> = [];\r\n  compatibleId: any = '';\r\n  compatible = 0;\r\n  dialogVisibleData = false;\r\n  radio: any = '0';\r\n  viewStateData: Array<any> = [\r\n    {\r\n      text: '未启用',\r\n      value: 1\r\n    },\r\n    {\r\n      text: '已启用',\r\n      value: 0\r\n    },\r\n    {\r\n      text: '已过期',\r\n      value: 2\r\n    },\r\n    {\r\n      text: '已停用',\r\n      value: 3\r\n    }\r\n  ];\r\n  columns() {\r\n    const _this = this;\r\n    return [\r\n      {\r\n        prop: '',\r\n        label: '',\r\n        type: 'index',\r\n        align: 'center',\r\n        'min-width': '60'\r\n      },\r\n      {\r\n        prop: 'name',\r\n        label: '服务名称',\r\n        'header-align': 'left',\r\n        showOverflowTooltip: true,\r\n        'min-width': '100'\r\n      },\r\n      {\r\n        prop: 'status',\r\n        align: 'center',\r\n        label: '服务状态',\r\n        showOverflowTooltip: true,\r\n        'min-width': '80',\r\n        formatter: _this.viewStatusFormatter\r\n      },\r\n      {\r\n        prop: '',\r\n        align: 'center',\r\n        label: '操作',\r\n        width: '290',\r\n        headerAlign: 'center',\r\n        actions: [\r\n          {\r\n            code: 'startUsing',\r\n            text: '启用',\r\n            hidden: _this.startShow,\r\n            onClick: (row) => _this.startBtn(row, 0)\r\n          },\r\n          {\r\n            code: 'pastDue',\r\n            text: '过期',\r\n            hidden: _this.stopShow,\r\n            onClick: (row) => _this.startBtn(row, 2)\r\n          },\r\n          {\r\n            code: 'blockUp',\r\n            text: '停用',\r\n            hidden: _this.blockShow,\r\n            onClick: (row) => _this.startBtn(row, 3)\r\n          },\r\n          {\r\n            code: 'edit',\r\n            text: '修改',\r\n            disabled: _this.editDisabled,\r\n            onClick: _this.editBook\r\n          },\r\n          {\r\n            code: 'preview',\r\n            text: '详情',\r\n            onClick: _this.previewBook\r\n          },\r\n          {\r\n            code: 'edit',\r\n            text: '复制',\r\n            onClick: _this.copyBook\r\n          },\r\n          {\r\n            code: 'delete',\r\n            text: '删除',\r\n            disabled: _this.deleteDisabled,\r\n            onClick: _this.deletePush\r\n          }\r\n        ]\r\n      }\r\n    ];\r\n  }\r\n\r\n  actions() {\r\n    const _this = this;\r\n    return [\r\n      {\r\n        icon: 'add-line',\r\n        onClick: _this.goHttp,\r\n        type: '',\r\n        title: '新增'\r\n      },\r\n      {\r\n        icon: 'link-line',\r\n        onClick: _this.gotolink,\r\n        type: '',\r\n        title: '连接器管理'\r\n      }\r\n    ];\r\n  }\r\n  //视图状态status:0启用，1未启用，2已过期，3已停用\r\n  //当前状态是【未启用】，则只添加【启用】按钮。如果状态是【已启用】，则增加【停止，过期】，若当前状态是【已过期】，则增加【停用】按钮,还有一个状态叫已停用,按钮隐藏\r\n  //停止对应的是未启用\r\n\r\n  //显示启用按钮\r\n  startShow(row: any) {\r\n    // console.log(row.status)\r\n    //未启用状态1对应==>启用按钮\r\n    if (row.status === 1) {\r\n      return false; //显示\r\n    } else {\r\n      return true;\r\n    }\r\n  }\r\n  stopShow(row: any) {\r\n    //已启用状态0对应==>停止、过期按钮\r\n    if (row.status === 0) {\r\n      return false;\r\n    } else {\r\n      return true;\r\n    }\r\n  }\r\n  blockShow(row: any) {\r\n    //已过期状态2对应==>停用按钮\r\n    if (row.status === 2) {\r\n      return false;\r\n    } else {\r\n      return true;\r\n    }\r\n  }\r\n  startBtn(row: any, statusCode) {\r\n    statusChange(row.id, statusCode).then(({ error }) => {\r\n      if (!error) {\r\n        this.$message({\r\n          type: 'success',\r\n          message: '状态转换成功!'\r\n        });\r\n        this.pushServiceList();\r\n      } else {\r\n        this.pushServiceList();\r\n        this.$message.error('状态转换失败：' + error.message);\r\n      }\r\n    });\r\n  }\r\n  created() {\r\n    !this.pushServiceData.length && this.pushServiceList();\r\n  }\r\n\r\n  beforeRouteLeave(to, from, next) {\r\n    this.cacheParamData();\r\n    next();\r\n  }\r\n  // 连接器管理\r\n  gotolink() {\r\n    this.$router.push('/sysSupport/dataService/connector');\r\n  }\r\n  // 修改禁选\r\n  editDisabled(row: any) {\r\n    if (row.status === 2) {\r\n      return true;\r\n    }\r\n  }\r\n  // 删除禁选\r\n  deleteDisabled(row: any) {\r\n    if (row.status !== 1) {\r\n      return true;\r\n    }\r\n  }\r\n  // 修改选择\r\n  editBook(row: any) {\r\n    this.compatible = row.kind;\r\n    this.compatibleId = row.id;\r\n    this.dialogVisibleData = true;\r\n  }\r\n  // 详情\r\n  previewBook(row: any) {\r\n    this.$router.push({\r\n      path: 'detailData',\r\n      query: {\r\n        id: row.id\r\n      }\r\n    });\r\n  }\r\n  // 复制\r\n  copyBook(row: any) {\r\n    this.copy = true;\r\n    this.compatible = row.kind;\r\n    this.compatibleId = row.id;\r\n    this.setDetermines();\r\n  }\r\n  // 数据查询\r\n  pushServiceList() {\r\n    this.loading = true;\r\n    const dataList = {\r\n      limit: this.limit,\r\n      page: this.page,\r\n      name: this.serviceName,\r\n      type: 1\r\n      // kind: ''\r\n    };\r\n    viewDataQuery(dataList).then((data) => {\r\n      if (data.error) {\r\n        this.$message.error(data.error.message);\r\n      } else {\r\n        this.loading = false;\r\n        this.pushServiceData = data.data.rows;\r\n        this.total = data.data.total;\r\n      }\r\n    });\r\n  }\r\n  // 删除\r\n  deletePush(row: any) {\r\n    const params = {\r\n      id: row.id\r\n    };\r\n    this.$confirm('您确定要删除这条记录?', '提示', {\r\n      confirmButtonText: '确定',\r\n      cancelButtonText: '取消',\r\n      type: 'warning'\r\n    })\r\n      .then(() => {\r\n        deleteViewData(params).then(({ error }) => {\r\n          if (error) {\r\n            this.$message.error(error.message);\r\n          } else {\r\n            this.$message({\r\n              type: 'success',\r\n              message: '删除成功!'\r\n            });\r\n            this.pushServiceList();\r\n          }\r\n        });\r\n      })\r\n      .catch(() => {\r\n        this.$message({\r\n          type: 'info',\r\n          message: '已取消删除'\r\n        });\r\n      });\r\n  }\r\n  // 重置\r\n  updateData() {\r\n    this.serviceName = '';\r\n  }\r\n  // 搜索\r\n  seathData() {\r\n    this.pushServiceList();\r\n  }\r\n  cancelDialog() {\r\n    this.dialogVisibleData = false;\r\n  }\r\n  // 新增\r\n  goHttp() {\r\n    this.$router.push('httpPushService');\r\n  }\r\n  viewStatusFormatter(row: object, column: object, cellValue: number) {\r\n    if (arrayFind(this.viewStateData, 'value', cellValue)) {\r\n      return arrayFind(this.viewStateData, 'value', cellValue).text;\r\n    } else {\r\n      return '';\r\n    }\r\n  }\r\n  // 修改 - 确定\r\n  setDetermines() {\r\n    if (this.copy === true) {\r\n      this.$router.push({\r\n        path: 'httpPushService',\r\n        query: { id: this.compatibleId }\r\n      });\r\n    } else {\r\n      this.$router.push({\r\n        path: 'httpPushService',\r\n        query: { id: this.compatibleId, isCompatible: this.radio }\r\n      });\r\n    }\r\n  }\r\n  // 分页\r\n  handleSize(val: number) {\r\n    this.limit = val;\r\n    this.page = 1;\r\n    this.pushServiceList();\r\n  }\r\n  handleCurrent(val: number) {\r\n    this.page = val;\r\n    this.pushServiceList();\r\n  }\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=64c193ee&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}