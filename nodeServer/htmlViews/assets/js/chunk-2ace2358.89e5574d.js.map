{"version":3,"sources":["webpack:///./src/views/pageTemplate/components/tableChart.vue?86ca","webpack:///./src/views/pageTemplate/components/previewTemplate.vue?cf91","webpack:///./src/views/pageTemplate/components/previewTemplate.vue","webpack:///./src/views/pageTemplate/components/previewTemplate.vue?7d42","webpack:///./src/views/pageTemplate/components/previewTemplate.vue?d13f","webpack:///./src/views/pageTemplate/components/monitorSteps.vue?e119","webpack:///./node_modules/core-js/modules/es.array.reduce.js","webpack:///./src/views/processConfig/customForm/compoents/ueditor.vue?c638","webpack:///src/views/processConfig/customForm/compoents/ueditor.vue","webpack:///./src/views/processConfig/customForm/compoents/ueditor.vue?6f01","webpack:///./src/views/processConfig/customForm/compoents/ueditor.vue","webpack:///./src/views/pageTemplate/components/previewTemplate.vue?363a","webpack:///./src/views/pageTemplate/components/monitorChart.vue?1683","webpack:///./src/views/processConfig/customForm/compoents/mixin.ts","webpack:///./node_modules/vuex-class/lib/bindings.js","webpack:///./src/views/processConfig/customForm/compoents/previewFormChild.vue?9b30","webpack:///./src/views/processConfig/customForm/compoents/previewForm.vue?8a3a","webpack:///./src/views/processConfig/customForm/compoents/previewFormChild.vue?39b7","webpack:///./src/views/processConfig/customForm/compoents/previewFormChild.vue","webpack:///./src/views/processConfig/customForm/compoents/previewFormChild.vue?4a6f","webpack:///./src/views/processConfig/customForm/compoents/previewFormChild.vue?6484","webpack:///./src/views/processConfig/customForm/compoents/previewForm.vue","webpack:///./src/views/processConfig/customForm/compoents/previewForm.vue?b9f0","webpack:///./src/views/processConfig/customForm/compoents/previewForm.vue?1855","webpack:///./src/views/pageTemplate/components/CustomForm.vue?d677","webpack:///./src/mixins/paramCache.js","webpack:///./node_modules/core-js/modules/es.set.js","webpack:///./node_modules/core-js/internals/collection-strong.js","webpack:///./src/views/processConfig/customForm/compoents/previewFormChild.vue?4253","webpack:///./node_modules/core-js/internals/collection.js","webpack:///./src/views/pageTemplate/components/templateBlock.vue?06e4","webpack:///./src/views/pageTemplate/components/tableChart.vue?638c","webpack:///./src/views/pageTemplate/components/tableChart.vue","webpack:///./src/views/pageTemplate/components/tableChart.vue?2369","webpack:///./src/views/pageTemplate/components/tableChart.vue?383f","webpack:///./src/views/pageTemplate/components/pieChart.vue?53f1","webpack:///./src/views/pageTemplate/components/pieChart.vue","webpack:///./src/views/pageTemplate/components/pieChart.vue?47ba","webpack:///./src/views/pageTemplate/components/pieChart.vue?ba31","webpack:///./src/views/pageTemplate/components/lineChart.vue?c118","webpack:///./src/views/pageTemplate/components/lineChart.vue","webpack:///./src/views/pageTemplate/components/lineChart.vue?7fed","webpack:///./src/views/pageTemplate/components/lineChart.vue?677d","webpack:///./src/views/pageTemplate/components/barChart.vue?8a9e","webpack:///./src/views/pageTemplate/components/barChart.vue","webpack:///./src/views/pageTemplate/components/barChart.vue?115d","webpack:///./src/views/pageTemplate/components/barChart.vue?71ce","webpack:///./src/views/pageTemplate/components/CustomForm.vue?3e04","webpack:///./src/views/pageTemplate/components/CustomForm.vue","webpack:///./src/views/pageTemplate/components/CustomForm.vue?1e6d","webpack:///./src/views/pageTemplate/components/CustomForm.vue?545d","webpack:///./src/views/pageTemplate/components/monitorChart.vue?bbc9","webpack:///./src/views/pageTemplate/components/monitorChart.vue","webpack:///./src/views/pageTemplate/components/monitorChart.vue?236b","webpack:///./src/views/pageTemplate/components/monitorChart.vue?45f7","webpack:///./src/views/pageTemplate/components/monitorSteps.vue?2c0d","webpack:///./src/views/pageTemplate/components/monitorSteps.vue","webpack:///./src/views/pageTemplate/components/monitorSteps.vue?028a","webpack:///./src/views/pageTemplate/components/monitorSteps.vue?5aaf","webpack:///./src/views/pageTemplate/components/templateBlock.vue","webpack:///./src/views/pageTemplate/components/templateBlock.vue?d125","webpack:///./src/views/pageTemplate/components/templateBlock.vue?d675","webpack:///./src/views/pageTemplate/utils/util.js","webpack:///./node_modules/core-js/modules/es.array.every.js","webpack:///./src/views/processConfig/customForm/compoents/previewForm.vue?4117","webpack:///./src/views/pageTemplate/components/CustomForm.vue?f619","webpack:///./node_modules/core-js/internals/freezing.js","webpack:///./src/views/pageTemplate/index.vue?2ca3","webpack:///./src/views/pageTemplate/index.vue","webpack:///./src/views/pageTemplate/index.vue?9c1f","webpack:///./src/views/pageTemplate/index.vue?9845","webpack:///./src/assets/images/outer.png","webpack:///./src/views/pageTemplate/index.vue?2e42","webpack:///./node_modules/core-js/internals/array-reduce.js","webpack:///./src/views/pageTemplate/components/templateBlock.vue?7ce1","webpack:///./src/views/viewDateManagent/component/addContent.vue?2d6a","webpack:///./src/views/viewDateManagent/component/addContent.vue","webpack:///./src/views/viewDateManagent/component/addContent.vue?6201","webpack:///./src/views/viewDateManagent/component/addContent.vue?c82e","webpack:///./node_modules/core-js/internals/internal-metadata.js","webpack:///./src/views/processConfig/customForm/compoents/previewForm.vue?aa65"],"names":["render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","staticClass","_l","block","empty","key","id","style","gridColumn","gridRow","margin","gridColumnEnd","COLUMNS","attrs","multipleData","beRelatedFromItemList","on","getRealContentById","queryRelationDataset","getDataByCard","staticRenderFns","previewGrid","loading","initGoodsBlocks","forEach","item","goods","type","columns","format","formatter","templateId","getTemplateDetail","currentGrid","initBlockParamsAndContent","pageTemplate","then","data","error","$message","message","grid","JSON","parse","Base64","decode","blocks","dataSetId","param","viewId","queryParams","i","len","length","queryParam","required","push","code","rows","isEdit","$set","list","stepsList","index","preview","queryName","previewParams","dataList","info","query","innerItem","valueBy","relationChart","relationBlock","relationChartField","formItems","formItem","relationFormItem","formItemKey","formItemValue","params","monitorName","map","formList","filter","indexOf","components","TemplateBlock","component","$","$reduce","left","arrayMethodIsStrict","arrayMethodUsesToLength","STRICT_METHOD","USES_TO_LENGTH","1","target","proto","forced","reduce","callbackfn","arguments","undefined","staticStyle","ref","editorOption","disable","$event","onEditBlur","itemValue","onEditorFocus","onEditorReady","alertValue","decimalNum","model","callback","$$v","quillEditor","content","modules","toolbar","theme","props","Function","default","Object","Boolean","computed","editor","$refs","myQuillEditor","quill","methods","onEditorBlur","console","log","$emit","saveHtml","alert","PreviewFormMixin","formAttributeAlert","userCode","fileList","modifysVisible","dialogSwitch","dialogTitle","labelTable","modifyHistoryList","modifyColumns","addTableList","formConfig","tableCompareContainer","tableCompareColumns","historyLoading","editMarks","nameScript","scriptList","uploadHeader","Authorization","childFromExist","importFiles","importDialogVisible","uploadTableKey","lastCall","commonHistoryColumns","prop","label","align","newVal","ok","stringify","e","mode","renderView","refreshView","formHandle","editable","readable","registerChangeListeners","filterText","ft","addFormLinkFields","textLinkValue","loadTableCols","defaultValueBind","loadShowConfig","sourceDataType","setTimeout","dataQueryList","listQueryHandle","dataSetVal","dataViewQueryHandle","flowVisibleCode","getFlowVariablehttp","listeners","change","refreshLoading","datas","loadTableData","prototype","hasOwnProperty","call","defaultValue","valueShow","scriptComputHandle","mutexSetList","mutexTableLoading","rowIndex","colProp","val","itemKey","clearTimeout","handleDoInput","isPre","tableObj","editColObj","currentRowRecord","hasEditColIndex","findIndex","handleTableColScript","tableItem","scriptObservers","observer","handleType","extendObj2","dataItem","editMarkIndex","extendObj","scriptConfig","computTableColEditControl","staticColumnDefaultValue","entity","resultValue","addSetList","addSet","showValueConfig","oriCols","cols","showType","linkFather","expandObservers","insertFlag","j","so","childKey","extendColName","bindField","computeColsShowHide","doFlowVariableQuery","result","computVaild","symbolShow","Array","isArray","join","inputValue","showForm","doExtendColsHidden","expandList","vaildFormShow","linkList","selectedItem","addItem","afterCols","colsAdd","addSetCols","col","fieldCode","hidden","oriCol","targetType","parameterList","sc","showObservers","field","linkFields","Set","add","flag","filterObservers","dataLink","datasFilter","queryObservers","linkSetItem","getFormLinkValue","viewsId","typeData","emitDVEvent","doStaticColumnComput","def","headIndex","internalObservers","buttonChange","dvObservers","tableType","fieldType","defaultList","cfgType","bindType","detail","defValue","some","sta","computDefaultValue","bindTarget","bindExpress","defResult","dvc","setFormatWapper","vars","Promise","resolve","reject","expresses","taskId","handleId","itemListData","itemList","dataValue","dataLabel","washTableFlowVariable","set","addDataSetVal","mutexSet","addViewDataLists","row","ori","newd","keys","substring","lastIndexOf","ignoreCurrVal","childFromChange","focus","realValue","blur","accuracyNum","accuracy","Number","childChange","all","resove","valueType","relationVal","paramsValues","every","pv","re","pa","catch","registerFormScriptParam","unStaticFlag","currentRow","ignoreFlag","serList","returnData","reItem","scriptType","meteorShower","par","replace","RegExp","script","paramsList","methodChage","eval","newData","splice","ind","oriData","oriDatas","doInput","oldV","reqBody","fetchBtnService","btn","fetchOrdinaryBtnService","linkPromise","linkDef","targetCol","setLink","targetObjectBut","fromItem","targetTableCol","ele","optionsList","option","dataHandle","fields","from","fs","av","addViewData","addDataValue","fie","associatedNodeList","addSetType","addDataLink","viewData","authStationAndUsers","stationId","taskDealStationId","mergeExtendColsView","sort","pre","aft","records","record","loadingPrimKey","history","queryItemImprint","doExtendColsQuery","tabList","recordsHanle","addDataQueryList","addFlowVariablesLink","textListLabel","fobj","pl","staticDef","variableDef","colsItem","staticList","staticType","staticDataList","showCols","staticFilter","staticCheck","staticText","itemType","express","cr","year","yearSign","month","monthSign","day","daySign","parseFloat","offset","os","sign","relationship","split","someItem","targetFun","everyItem","targetItem","typetDiff","isNaN","filterConfig","strategy","filterType","textLinkFather","textLink","textLinkMethod","filterValue","String","orFlag","computWapper","itemData","colsDatas","itemDatas","comput","condition","handleTableDatasChange","pushDatas","tableAddList","oris","linkDatas","afterDatas","theOne","opt","column","columnIndex","beModified","property","fileName","startIndex","endIndex","fileTypeList","path","processInstanceId","compareTableDatas","imprint","reverse","editHistorys","hr","eh","edit","preValue","$confirm","confirmButtonText","cancelButtonText","uploadForm","FormData","append","raw","success","$delete","targeTableItem","targetCols","tableDataArr","obj","itemName","nu","netUpload","clearFiles","file","headers","show","addTemplate","colsDiff","same","advance","formAttribute","doTableRowAdd","cancelSwitch","upload","uploadFiles","fileItem","uid","fileIndex","fileItems","response","url","warning","associatedLink","scriptLinkConfig","itemItem","doOrdinaryButtonQuery","resultList","linkedSerVal","fetch","setWay","bindingTargets","scriptTargets","paramDefList","doTableCellBtn","itemTable","buttonParameter","tableFormConfig","formType","editer","config","configFormatCol","actions","buttonAdd","text","fieldName","onClick","changeClickBut","addLine","deleteEdit","cellValue","deep","immediate","State","createBindingHelper","Getter","Action","Mutation","namespace","helper","createNamespacedHelper","namespacedHelper","a","b","options","merge","warn","bindTo","mapFn","makeDecorator","componentOptions","_a","mapObject","extractNamespace","n","res","labelWidth","labelPosition","span","_e","exportTable","_v","uploadTable","addChange","showHistoryCompare","rules","computeCellClass","loadingColumns","debunceInput","buttonType","_s","alertType","centerFont","description","showIcon","refInFor","successList","scopedSlots","_u","fn","fileType","handleFileRemove","download","status","placeholder","multiple","itemMultiple","optionsType","certain","tableFormSave","treeDataTest","doUpload","closeDialog","handleUploadFileChange","onRemove","getVisible","$store","state","user","userInfo","usercode","customItemRender","ueditor","addContent","previewFormChild","form","splitTable","batRows","prev","cur","tr","bat","ssame","extractProps","paramKeys","sources","cloneDeep","cacheKeys","keep","moduleName","$route","cacheParams","dataCache","mapMutations","cacheParamData","SET_CACHE_PARAMS","recoveryDataParams","created","collection","collectionStrong","module","exports","init","defineProperty","f","create","redefineAll","bind","anInstance","iterate","defineIterator","setSpecies","DESCRIPTORS","fastKey","InternalStateModule","setInternalState","internalStateGetterFor","getterFor","getConstructor","wrapper","CONSTRUCTOR_NAME","IS_MAP","ADDER","C","that","iterable","first","last","size","getInternalState","define","previous","entry","getEntry","next","removed","clear","boundFunction","has","get","setStrong","ITERATOR_NAME","getInternalCollectionState","getInternalIteratorState","iterated","kind","done","global","isForced","redefine","InternalMetadataModule","isObject","fails","checkCorrectnessOfIteration","setToStringTag","inheritIfRequired","common","IS_WEAK","NativeConstructor","NativePrototype","Constructor","exported","fixMethod","KEY","nativeMethod","entries","REQUIRED","instance","HASNT_CHAINING","THROWS_ON_PRIMITIVES","ACCEPT_ITERABLES","BUGGY_ZERO","$instance","dummy","constructor","showBlockName","blockName","blockQueryParams","class","minWidth","width","componentkey","_g","_b","tag","tableBox","$attrs","$listeners","echartsBoxForm","echartsBox","dataSource","height","cellClick","cell","event","displayTemplateDetail","canSet","h","clearable","input","handleUpdateData","currentBlock","changeGrid","resizeChart","chart","tooltip","trigger","color","legend","orient","series","initChart","resize","$el","setOption","refreshChart","clickChart","radius","pieType","center","roseType","itemStyle","emphasis","shadowBlur","shadowOffsetX","shadowColor","normal","borderColor","borderWidth","off","oldVal","refreshData","xData","seriesData","yaxis","items","seriesList","xaxis","showSymbol","symbolSize","textStyle","animation","axisPointer","right","bottom","containLabel","yAxis","nameTextStyle","padding","axisLine","axisTick","splitLine","lineStyle","xAxis","nameLocation","axisLabel","rotate","x","y","alignWithLabel","saveAddress","saveFormData","loop","vaildForm","paramsObtain","stopPropagation","window","cancelBubble","stopBubble","updateActiveBlock","updateActiveFormItem","activeFormItem","washFormEditable","paramId","detailAddress","childParam","itemChild","vaild","tempArr","activeBlock","formItemQueryParams","perviewForm","monitorColor","handleQueryData","customColor","completeCount","completed","allCount","_m","percentage","uncomplete","refs","componentBlock","TableBlock","PieBlock","LineBlock","BarBlock","CustomForm","MonitorChart","MonitorSteps","changeBlockFields","dataNode","fun","changeTableConfig","changePieConfig","changLineConfig","changBarConfig","changeMonitorChartConfig","node","arrayFind","headerAlign","showOverflowTooltip","getFormatter","attrFlag","lineChartArr","barArr","getGridROWS","item1","item2","gridRowEnd","getGridCOLUMNS","thousandthFormatter","currencyFormatter","dateFormat","date","d","Date","getFullYear","getMonth","getDate","$every","isExtensible","preventExtensions","titleBtns","templateList","total","currentPage","pageSize","handleCurrent","handleSize","slot","templateName","selectList","previewDialogVisible","dialogVisible","saveDialog","cancelDialog","menuRules","selectedMenu","menuData","defaultProps","handleNodeClick","registerHooks","paramsCacheMixin","children","menuTitle","currentTemplate","showError","formatMenuData","_this","statusText","release","modify","copy","delete","title","icon","addPageTemplate","getTemplateList","page","$nextTick","previewTemplate","initPreviewTemplate","register","registerMenu","operation","parentId","parentMenuId","parentCode","parentMenuCode","menuCode","href","parent","order","doRelease","currentStatus","$router","menuForm","validate","valid","element","menuTree","treeItems","removeAttribute","getElementsByClassName","setAttribute","to","authorizes","getters","PreviewTemplate","mixins","aFunction","toObject","IndexedObject","toLength","createMethod","IS_RIGHT","argumentsLength","memo","O","self","TypeError","dialogTestSwitch","spread","visible","handleQuery","handleReset","kong","dataModel","dafalutValue","TimePickerOptions","disabled","AdvancedScreening","hiddenKeys","FREEZING","METADATA","setMetadata","it","objectID","weakData","getWeakData","onFreeze","meta"],"mappings":"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","file":"assets/js/chunk-2ace2358.89e5574d.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tableChart.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tableChart.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"preivew-grid-layout\"},_vm._l((_vm.previewGrid),function(block){return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!block.empty),expression:\"!block.empty\"}],key:block.id,staticClass:\"grid-item\",style:({\n      gridColumn: ((block.gridColumnStart) + \" / \" + (block.gridColumnEnd)),\n      gridRow: ((block.gridRowStart) + \" / \" + (block.gridRowEnd)),\n      // height: `${block.height * 320}px`,\n      margin:\n        block.gridColumnEnd - 1 !== _vm.COLUMNS ? '0 20px 20px 0' : '0 0 20px 0'\n    })},[_c('TemplateBlock',{attrs:{\"preview\":true,\"data-source\":_vm.multipleData[block.id],\"block\":block,\"beRelatedFromItemList\":_vm.beRelatedFromItemList},on:{\"getRealContentById\":_vm.getRealContentById,\"queryRelationDataset\":_vm.queryRelationDataset,\"getDataByCard\":_vm.getDataByCard}})],1)}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue, Prop } from 'vue-property-decorator';\r\nimport Base64 from '@utils/Base64';\r\nimport { pageTemplateDetail } from '@api/pageTemplate';\r\nimport { dataViewQuery } from '@api/viewData';\r\nimport { arrayFind } from '@utils/util';\r\nimport TemplateBlock from './templateBlock.vue';\r\nimport { cloneDeep } from 'lodash';\r\nimport { getFormatter, getGridCOLUMNS } from '../utils/util';\r\n\r\n@Component({\r\n  components: { TemplateBlock }\r\n})\r\nexport default class PreviewTemplate extends Vue {\r\n  @Prop() templateId?: any; // 传过来了模板id，此时需要根据id查询模板详情\r\n  @Prop() currentGrid?: Array<any>; // 直接将模板所需gird传过来了，不需要查询详情，可以直接显示\r\n\r\n  private previewGrid: any = null; // 弹窗的布局及对应数据源\r\n  private multipleData: any = {}; // 数据源详细数据\r\n  private loading = false;\r\n\r\n  get COLUMNS() {\r\n    return getGridCOLUMNS(this.previewGrid);\r\n  }\r\n\r\n  // 当前页面中所有被设置为视图参数的表单项\r\n  get beRelatedFromItemList() {\r\n    const beRelatedFromItemList: Array<any> = [];\r\n    if (this.previewGrid) {\r\n      this.previewGrid.map((item) => {\r\n        if (item && item.goods && item.goods.queryParams) {\r\n          const formList = item.goods.queryParams.filter(\r\n            (innerItem) => innerItem.valueBy === '2'\r\n          );\r\n          formList.map((i) => {\r\n            if (beRelatedFromItemList.indexOf(i.relationFormItem) === -1) {\r\n              beRelatedFromItemList.push(i.relationFormItem);\r\n            }\r\n          });\r\n        }\r\n      });\r\n    }\r\n    return beRelatedFromItemList;\r\n  }\r\n\r\n  // 初始化每个块的获取数据源参数，根据参数值获取方式区分出来; 还在这里获取了真实数据\r\n  initBlockParamsAndContent(initGoodsBlocks?: any) {\r\n    this.previewGrid.forEach((item: any) => {\r\n      if (initGoodsBlocks) {\r\n        const block = arrayFind(initGoodsBlocks, 'blockId', item.goods);\r\n        if (block.type === 'table') {\r\n          block.columns.forEach((item) => {\r\n            if (item.format) {\r\n              item.formatter = getFormatter(item.format);\r\n            }\r\n          });\r\n        }\r\n        item.goods = block;\r\n      }\r\n\r\n      this.getRealContentById(item);\r\n    });\r\n  }\r\n\r\n  // 打开预览弹窗\r\n  initPreviewTemplate() {\r\n    if (this.templateId) {\r\n      this.getTemplateDetail();\r\n    } else {\r\n      this.previewGrid = cloneDeep(this.currentGrid);\r\n      this.initBlockParamsAndContent();\r\n    }\r\n  }\r\n\r\n  // 获取页面模板详情\r\n  getTemplateDetail() {\r\n    this.loading = true;\r\n    pageTemplateDetail({ id: this.templateId }).then(({ data, error }: any) => {\r\n      this.loading = false;\r\n      if (!error) {\r\n        const grid = JSON.parse(Base64.decode(data.style));\r\n        const blocks = data.blocks;\r\n        this.previewGrid = grid;\r\n        // blocks: 如果是在列表页预览，则需要根据id获取到模板详情，获取到的详情数据中的good是一个对应于 blocks 中blockId的字符串\r\n        this.initBlockParamsAndContent(blocks);\r\n      } else {\r\n        this.$message.error(error.message || '获取数据失败');\r\n      }\r\n    });\r\n  }\r\n\r\n  // 获取每个块的真实数据\r\n  getRealContentById(block: any) {\r\n    if (block.goods && block.goods.type !== 'monitorSteps') {\r\n      if (!block.goods || !block.goods.dataSetId) {\r\n        return;\r\n      }\r\n      const param: any = { viewId: block.goods.dataSetId };\r\n      const queryParams: any = [];\r\n      for (let i = 0, len = block.goods.queryParams.length; i < len; i++) {\r\n        const queryParam = block.goods.queryParams[i];\r\n        if (queryParam.required === 0 && !queryParam.value) {\r\n          // 必选参数为空时不做查询\r\n          // this.$message.warning(`${block.goods.blockName}中数据源必选参数为空！`);\r\n          // this.$set(this.multipleData, block.id, []);\r\n          return;\r\n        }\r\n        queryParams.push({\r\n          code: queryParam.code,\r\n          type: queryParam.type,\r\n          value: queryParam.value\r\n        });\r\n      }\r\n      param.queryParams = queryParams;\r\n\r\n      dataViewQuery(param).then(({ data, error }: any) => {\r\n        if (!error) {\r\n          if (block.goods.type === 'table') {\r\n            data.rows.forEach((item: any) => {\r\n              item.isEdit = true;\r\n            });\r\n          }\r\n          this.$set(this.multipleData, block.id, data.rows);\r\n        } else {\r\n          this.$message.error(error.message || '获取数据失败');\r\n        }\r\n      });\r\n    } else {\r\n      const list = block.goods ? block.goods.stepsList : [];\r\n      list.forEach((item: any, index: any) => {\r\n        if (item.dataSetId) {\r\n          const queryParam: any = { viewId: item.dataSetId };\r\n          const preview: any = [];\r\n          if (block.goods.queryParams) {\r\n            block.goods.queryParams.forEach((item) => {\r\n              if (item.code === 'monitorName') {\r\n                item.value = block.goods.queryName;\r\n              }\r\n              preview.push({\r\n                code: item.code,\r\n                type: item.type,\r\n                value: item.value\r\n              });\r\n            });\r\n          }\r\n          queryParam.previewParams = preview;\r\n          dataViewQuery(queryParam).then(\r\n            ({ data, error }: { data: any; error: any }) => {\r\n              if (!error) {\r\n                const dataList = cloneDeep(this.multipleData);\r\n                if (this.multipleData[block.id]) {\r\n                  dataList[block.id][index] = data.rows;\r\n                  this.multipleData = dataList;\r\n                } else {\r\n                  dataList[block.id] = [];\r\n                  dataList[block.id][index] = data.rows;\r\n                  this.multipleData = dataList;\r\n                }\r\n              } else {\r\n                this.$message.error(error.message || '获取数据失败');\r\n              }\r\n            }\r\n          );\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  // 根据关联图表或表单项查询数据\r\n  queryRelationDataset(info: any) {\r\n    if (!this.previewGrid) {\r\n      return;\r\n    }\r\n    this.previewGrid.forEach((item) => {\r\n      if (item.goods && item.goods.queryParams) {\r\n        let query = false;\r\n        item.goods.queryParams.forEach((innerItem) => {\r\n          // 点击图表某一区域触发与之相关联图表的查询\r\n          if (info.type === 'chart') {\r\n            if (\r\n              innerItem.valueBy === '3' &&\r\n              innerItem.relationChart === info.relationBlock\r\n            ) {\r\n              query = true;\r\n              this.$set(innerItem, 'value', info[innerItem.relationChartField]);\r\n            }\r\n          }\r\n\r\n          // 点击表单块中的查询按钮触发与表单项关联的图表数据查询\r\n          if (info.type === 'formItem') {\r\n            if (innerItem.valueBy === '2') {\r\n              for (let i = 0, len = info.formItems.length; i < len; i++) {\r\n                const formItem = info.formItems[i];\r\n                if (innerItem.relationFormItem === formItem.formItemKey) {\r\n                  query = true;\r\n                  this.$set(innerItem, 'value', formItem.formItemValue);\r\n                  break;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        });\r\n        if (query) {\r\n          this.getRealContentById(item);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  // 监控卡片关联表格数据\r\n  getDataByCard(info) {\r\n    if (!this.previewGrid) {\r\n      return;\r\n    }\r\n    this.previewGrid.forEach((block) => {\r\n      if (\r\n        block.goods &&\r\n        block.goods.type === 'table' &&\r\n        block.goods.dataSetId\r\n      ) {\r\n        const params = {\r\n          viewId: block.goods.dataSetId,\r\n          monitorName: info.monitorName\r\n        };\r\n        dataViewQuery(params).then(\r\n          ({ data, error }: { data: any; error: any }) => {\r\n            if (!error) {\r\n              data.rows.forEach((item: any) => {\r\n                item.isEdit = true;\r\n              });\r\n              this.$set(this.multipleData, block.id, data.rows);\r\n            } else {\r\n              this.$message.error(error.message || '获取数据失败');\r\n            }\r\n          }\r\n        );\r\n      }\r\n    });\r\n  }\r\n}\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./previewTemplate.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./previewTemplate.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./previewTemplate.vue?vue&type=template&id=f2968642&scoped=true&\"\nimport script from \"./previewTemplate.vue?vue&type=script&lang=ts&\"\nexport * from \"./previewTemplate.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./previewTemplate.vue?vue&type=style&index=0&id=f2968642&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f2968642\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./monitorSteps.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./monitorSteps.vue?vue&type=style&index=0&lang=scss&\"","'use strict';\nvar $ = require('../internals/export');\nvar $reduce = require('../internals/array-reduce').left;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('reduce');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('reduce', { 1: 0 });\n\n// `Array.prototype.reduce` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH }, {\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    return $reduce(this, callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"edit_container\",staticStyle:{\"height\":\"158px\"}},[_c('quill-editor',{ref:\"myQuillEditor\",staticClass:\"quillEditor\",attrs:{\"options\":_vm.editorOption,\"disabled\":_vm.disable},on:{\"blur\":function($event){return _vm.onEditBlur(_vm.itemValue.value)},\"focus\":function($event){return _vm.onEditorFocus($event)},\"ready\":function($event){return _vm.onEditorReady($event)},\"change\":function($event){return _vm.alertValue($event, 400, _vm.decimalNum)}},model:{value:(_vm.itemValue.value),callback:function ($$v) {_vm.$set(_vm.itemValue, \"value\", $$v)},expression:\"itemValue.value\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"edit_container\" style=\"height:158px;\">\r\n    <quill-editor\r\n      ref=\"myQuillEditor\"\r\n      v-model=\"itemValue.value\"\r\n      class=\"quillEditor\"\r\n      :options=\"editorOption\"\r\n      :disabled=\"disable\"\r\n      @blur=\"onEditBlur(itemValue.value)\"\r\n      @focus=\"onEditorFocus($event)\"\r\n      @ready=\"onEditorReady($event)\"\r\n      @change=\"alertValue($event, 400, decimalNum)\"\r\n    >\r\n    </quill-editor>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { quillEditor } from 'vue-quill-editor';\r\nimport 'quill/dist/quill.core.css';\r\nimport 'quill/dist/quill.snow.css';\r\nimport 'quill/dist/quill.bubble.css';\r\nexport default {\r\n  name: 'QuillEditor',\r\n  components: {\r\n    quillEditor\r\n  },\r\n  data() {\r\n    return {\r\n      content: `<p>hello world</p>`,\r\n      editorOption: {\r\n        modules: {\r\n          toolbar: [\r\n            ['bold', 'italic', 'underline', 'strike'], // 加粗，斜体，下划线，删除线\r\n            ['blockquote', 'code-block'], // 引用，代码块\r\n            [{ header: 1 }, { header: 2 }], // 标题，键值对的形式；1、2表示字体大小\r\n            [{ list: 'ordered' }, { list: 'bullet' }][ // 列表\r\n              ({ script: 'sub' }, { script: 'super' })\r\n            ], // 上下标\r\n            [{ indent: '-1' }, { indent: '+1' }], // 缩进\r\n            [{ direction: 'rtl' }][{ size: ['small', false, 'large', 'huge'] }] // 文本方向 // 字体大小\r\n            // [{ header: [1, 2, 3, 4, 5, 6, false] }][ // 几级标题\r\n            // ({ color: [] }, { background: [] })\r\n            // ], // 字体颜色，字体背景颜色\r\n            // [{ font: [] }], // 字体\r\n            // [{ align: [] }], // 对齐方式\r\n            // ['clean'], // 清除字体样式\r\n            // ['image', 'video'] // 上传图片、上传视频\r\n          ]\r\n        },\r\n        theme: 'snow'\r\n      }\r\n    };\r\n  },\r\n  props: {\r\n    onEditBlur: {\r\n      type: Function,\r\n      default: () => ''\r\n    },\r\n    itemValue: {\r\n      type: Object,\r\n      default: () => {}\r\n    },\r\n    disable: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  computed: {\r\n    editor() {\r\n      return this.$refs.myQuillEditor.quill;\r\n    }\r\n  },\r\n  methods: {\r\n    onEditorBlur(itemValue) {\r\n      console.log(itemValue, 'itemValue');\r\n      this.$emit('onEditorBlur', itemValue);\r\n    }, // 失去焦点事件\r\n    onEditorFocus() {}, // 获得焦点事件\r\n    onEditorReady() {},\r\n    saveHtml: function(event) {\r\n      alert(this.itemValue);\r\n    },\r\n    alertValue(e, strValue, decimalNum) {}\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ueditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ueditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ueditor.vue?vue&type=template&id=00f8b57d&\"\nimport script from \"./ueditor.vue?vue&type=script&lang=js&\"\nexport * from \"./ueditor.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./previewTemplate.vue?vue&type=style&index=0&id=f2968642&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./previewTemplate.vue?vue&type=style&index=0&id=f2968642&lang=scss&scoped=true&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./monitorChart.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./monitorChart.vue?vue&type=style&index=0&lang=scss&\"","import { Vue, Prop, Watch } from 'vue-property-decorator';\r\nimport moment from 'moment';\r\nimport { cloneDeep } from 'lodash';\r\nimport { arrayFind, currencyFormatter } from '@utils/util';\r\nimport { getSessionStorage } from '@utils/storage';\r\nimport {\r\n  queryEditMarks,\r\n  attachmentDownload,\r\n  fetchBatchFlowVariable,\r\n  fetchMeteorShower,\r\n  tableDownload,\r\n  tableUpload\r\n} from '@api/processAssignment';\r\nimport { dataViewQueryWithAuth, fetchPushService } from '@api/viewData';\r\nexport default class PreviewFormMixin extends Vue {\r\n  @Prop({ default: {} }) formAttribute: any;\r\n  @Prop({ default: 'task' }) mode: string;\r\n  @Prop({ default: '' }) taskId: string;\r\n  @Prop({ default: '' }) processInstanceId: string;\r\n  @Prop({ default: '' }) taskDealStationId: string;\r\n  public formAttributeAlert: any = {};\r\n  public userCode = '';\r\n  public fileList: Array<any> = [];\r\n  public modifysVisible = false;\r\n  public dialogSwitch = false;\r\n  public dialogTitle = '新增';\r\n  public labelTable = '';\r\n  public modifyHistoryList: Array<any> = [];\r\n  public modifyColumns: Array<any> = [];\r\n  public addTableList: Array<any> = [];\r\n  public formConfig: any = {};\r\n  public tableCompareContainer: Array<any> = [];\r\n  public tableCompareColumns: Array<any> = [];\r\n  public historyLoading = false;\r\n  public editMarks: any = {};\r\n  public nameScript = '';\r\n  public scriptList: any = {};\r\n  public uploadHeader: any = {\r\n    Authorization: getSessionStorage('auth_token')\r\n  };\r\n  public childFromExist = false;\r\n  public importFiles: Array<any> = [];\r\n  public importDialogVisible = false;\r\n  public loading = false;\r\n  public uploadTableKey = '';\r\n  public lastCall: any = null;\r\n  public commonHistoryColumns: Array<any> = [\r\n    {\r\n      prop: 'taskName',\r\n      label: '修改节点',\r\n      'header-align': 'left',\r\n      align: 'left'\r\n    },\r\n    {\r\n      prop: 'value',\r\n      label: '修改结果',\r\n      'header-align': 'left',\r\n      align: 'left'\r\n    },\r\n    {\r\n      prop: 'handler',\r\n      label: '修改人',\r\n      'header-align': 'left',\r\n      align: 'left'\r\n    },\r\n    {\r\n      prop: 'taskTime',\r\n      label: '修改时间',\r\n      'header-align': 'left',\r\n      align: 'left'\r\n    }\r\n  ];\r\n\r\n  @Watch('formAttribute', { deep: true, immediate: true })\r\n  getVisible(newVal: any) {\r\n    // 加上此判断，防止监听进入死循环\r\n    let ok = '';\r\n    try {\r\n      ok = JSON.stringify(this.formConfig);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n\r\n    if (JSON.stringify(newVal) !== ok) {\r\n      if (newVal && newVal.formList) {\r\n        if (this.mode !== 'preview') {\r\n          this.renderView(newVal);\r\n        } else {\r\n          this.refreshView(newVal);\r\n        }\r\n      }\r\n    }\r\n  }\r\n  refreshView(formHandle) {\r\n    this.formConfig = formHandle;\r\n  }\r\n\r\n  renderView(formHandle) {\r\n    this.formConfig = { ...formHandle };\r\n    // 提前注册表单项变动监听器\r\n    this.formConfig.formList.forEach((item) => {\r\n      if (item.editable === 1 || item.readable === 1) {\r\n        // 增加 editMarks 对象，记录表单项的修改记录\r\n        if (item.type !== 'table') {\r\n          this.registerChangeListeners(item);\r\n          // 下拉框数据过滤设置\r\n          if (item.filterText && item.filterText.length > 0) {\r\n            item.filterText.forEach((ft) =>\r\n              this.addFormLinkFields(item, ft.textLinkValue)\r\n            );\r\n          }\r\n        } else {\r\n          // 注册拓展列显示隐藏监听\r\n          this.loadTableCols(item);\r\n        }\r\n        // 默认值绑定\r\n        this.defaultValueBind(item);\r\n\r\n        // 显示隐藏控制\r\n        this.loadShowConfig(item);\r\n      }\r\n    });\r\n\r\n    // 加载表单项数据资源\r\n    this.formConfig.formList.forEach((item) => {\r\n      if (item.editable === 1 || item.readable === 1) {\r\n        if (\r\n          item.type === 'select' ||\r\n          item.type === 'checkboxGroup' ||\r\n          item.type === 'radioGroup' ||\r\n          item.type === 'transfer'\r\n        ) {\r\n          this.$set(item, 'optionsList', []);\r\n          this.$set(item, 'optionsType', '');\r\n          if (item.sourceDataType === 'dataView') {\r\n            // 等待表单关联字段收集完成\r\n            setTimeout(() => {\r\n              if (item.dataQueryList.length > 0) {\r\n                this.listQueryHandle(\r\n                  item,\r\n                  item.dataQueryList,\r\n                  item.dataSetVal,\r\n                  'selectView'\r\n                );\r\n              } else {\r\n                this.dataViewQueryHandle(item.dataSetVal, item, 'selectView');\r\n              }\r\n            }, 500);\r\n          } else if (item.sourceDataType === 'variable') {\r\n            if (item.flowVisibleCode) {\r\n              this.getFlowVariablehttp('variableChange', item);\r\n            }\r\n          } else if (item.sourceDataType === 'static') {\r\n            // 添加静态选项初始化事件触发支持\r\n            if (item.value) {\r\n              setTimeout(() => {\r\n                if (item.listeners && item.listeners.change) {\r\n                  item.listeners.change(item.value, 'auto');\r\n                }\r\n              }, 500);\r\n            }\r\n          }\r\n        } else if (item.type === 'table') {\r\n          if (!item.refreshLoading && item.datas && item.datas.length > 0) {\r\n            // 每次加载都全量刷新拓展列\r\n            this.loadTableData(item, item.datas);\r\n          } else {\r\n            item.datas = [];\r\n            if (\r\n              Object.prototype.hasOwnProperty.call(item, 'defaultValue') &&\r\n              item.defaultValue.valueShow\r\n            ) {\r\n              this.scriptComputHandle(item, item.defaultValue, 'tableDefault');\r\n            } else {\r\n              if (item.mutexSetList && item.mutexSetList.length > 0) {\r\n                // 多数据源处理\r\n                this.mutexTableLoading(item);\r\n              } else if (item.flowVisibleCode) {\r\n                this.getFlowVariablehttp('table', item);\r\n              } else {\r\n                if (item.dataQueryList.length > 0) {\r\n                  this.listQueryHandle(\r\n                    item,\r\n                    item.dataQueryList,\r\n                    item.dataSetVal,\r\n                    'table'\r\n                  );\r\n                } else {\r\n                  this.dataViewQueryHandle(item.dataSetVal, item, 'table');\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  debunceInput(rowIndex, colProp, val, itemKey) {\r\n    if (this.lastCall) {\r\n      clearTimeout(this.lastCall);\r\n    }\r\n    this.lastCall = setTimeout(() => {\r\n      this.handleDoInput(rowIndex, colProp, val, itemKey, false);\r\n    }, 500);\r\n  }\r\n\r\n  handleDoInput(rowIndex, colProp, val, itemKey, isPre) {\r\n    const tableObj = this.editMarks[itemKey];\r\n    const editColObj = { prop: colProp };\r\n    if (isPre) {\r\n      editColObj['preValue'] = val;\r\n    } else {\r\n      editColObj['value'] = val;\r\n    }\r\n    if (!tableObj) {\r\n      // 1.该表格没有被改动过\r\n      this.$set(this.editMarks, itemKey, { [rowIndex]: [editColObj] });\r\n    } else {\r\n      const currentRowRecord = tableObj[rowIndex];\r\n      // 2.表格被修改过，判断行\r\n      if (currentRowRecord) {\r\n        // 2.1 该行被修改过 判断列是否被修改\r\n        const hasEditColIndex = currentRowRecord.findIndex((item) => {\r\n          return item.prop === colProp;\r\n        });\r\n        if (hasEditColIndex === -1) {\r\n          currentRowRecord.push(editColObj);\r\n        } else {\r\n          // currentRowRecord.splice(hasEditColIndex, 1, editColObj);\r\n          currentRowRecord[hasEditColIndex]['value'] = val;\r\n        }\r\n      } else {\r\n        // 2.2说明该行没有被修改过\r\n        this.$set(tableObj, rowIndex, [editColObj]);\r\n      }\r\n      // 触发表格关联计算\r\n      if (!isPre) {\r\n        this.handleTableColScript(rowIndex, colProp, itemKey);\r\n      }\r\n    }\r\n  }\r\n\r\n  handleTableColScript(rowIndex, colProp, itemKey) {\r\n    const tableItem = arrayFind(this.formConfig.formList, 'key', itemKey);\r\n    if (tableItem.scriptObservers) {\r\n      tableItem.scriptObservers.forEach((observer) => {\r\n        // 过滤单元格变更事件监听器\r\n        if (\r\n          observer.handleType === 'staticDefaultValue' ||\r\n          observer.handleType === 'hiddenDatas'\r\n        ) {\r\n          // 触发对当前单元格监听的执行\r\n          if (\r\n            observer.extendObj2.dataItem.editMarkIndex === rowIndex &&\r\n            observer.extendObj.value === colProp\r\n          ) {\r\n            this.scriptComputHandle(\r\n              observer.item,\r\n              observer.scriptConfig,\r\n              observer.handleType,\r\n              observer.extendObj,\r\n              observer.extendObj2\r\n            );\r\n          }\r\n        }\r\n\r\n        // 支持触发全表数据监听器\r\n        if (observer.handleType === 'defaultValue') {\r\n          // 触发对当前单元格监听的执行\r\n          this.scriptComputHandle(\r\n            observer.item,\r\n            observer.scriptConfig,\r\n            observer.handleType,\r\n            observer.extendObj,\r\n            observer.extendObj2\r\n          );\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  handleTableDatasChange(item) {\r\n    this.computTableColEditControl(item);\r\n    // 表格列默认值关联配置\r\n    this.staticColumnDefaultValue(item);\r\n    // 外挂代码，添加表格脚本支持\r\n    if (item.listeners && item.scriptObservers) {\r\n      item.scriptObservers.forEach((entity: any) => {\r\n        if (\r\n          entity.handleType !== 'staticDefaultValue' &&\r\n          entity.handleType !== 'hiddenDatas'\r\n        ) {\r\n          entity.extendObj.resultValue = item.datas; // 设置绑定参数的值\r\n          this.scriptComputHandle(\r\n            entity.item,\r\n            entity.scriptConfig,\r\n            entity.handleType,\r\n            entity.extendObj,\r\n            entity.extendObj2\r\n          );\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  loadTableCols(item) {\r\n    if (item.addSetList && item.addSetList.length > 0) {\r\n      item.addSetList.forEach((addSet) => {\r\n        if (addSet.showValueConfig) {\r\n          // 缓存原始cols配置\r\n          if (!item.oriCols) {\r\n            item.oriCols = item.cols;\r\n          }\r\n          if (addSet.showValueConfig.showType === 'form') {\r\n            const linkFather = arrayFind(\r\n              this.formConfig.formList,\r\n              'key',\r\n              addSet.showValueConfig.valueShow\r\n            );\r\n            if (linkFather) {\r\n              if (!linkFather.expandObservers) {\r\n                linkFather.expandObservers = [];\r\n              }\r\n\r\n              let insertFlag = true;\r\n              for (let j = 0; j < linkFather.expandObservers.length; j++) {\r\n                const so = linkFather.expandObservers[j];\r\n                if (\r\n                  so.childKey === item.key &&\r\n                  so.extendColName === addSet.extendColName\r\n                ) {\r\n                  insertFlag = false;\r\n                  break;\r\n                }\r\n              }\r\n              if (insertFlag) {\r\n                linkFather.expandObservers.push({\r\n                  ...addSet,\r\n                  childKey: item.key\r\n                });\r\n              }\r\n\r\n              if (!linkFather.listeners) {\r\n                this.registerChangeListeners(linkFather);\r\n              }\r\n              if (addSet.showValueConfig.bindField) {\r\n                this.addFormLinkFields(\r\n                  linkFather,\r\n                  addSet.showValueConfig.bindField\r\n                );\r\n              }\r\n              if (linkFather.value || linkFather.value === false) {\r\n                this.computeColsShowHide(linkFather);\r\n              }\r\n            }\r\n          } else if (addSet.showValueConfig.showType === 'variable') {\r\n            this.doFlowVariableQuery(addSet.showValueConfig.valueShow).then(\r\n              (data: any) => {\r\n                if (data || data === '') {\r\n                  let result = 'none';\r\n                  if (\r\n                    this.computVaild(\r\n                      addSet.showValueConfig.symbolShow,\r\n                      data ? (Array.isArray(data) ? data.join(',') : data) : '',\r\n                      addSet.showValueConfig.inputValue,\r\n                      addSet.showValueConfig\r\n                    )\r\n                  ) {\r\n                    result = 'show';\r\n                  }\r\n                  addSet.showForm = result;\r\n                  this.doExtendColsHidden(item, addSet);\r\n                }\r\n              }\r\n            );\r\n          } else if (addSet.showValueConfig.showType === 'script') {\r\n            this.scriptComputHandle(\r\n              item,\r\n              addSet.showValueConfig,\r\n              'tableCols',\r\n              null,\r\n              addSet\r\n            );\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  computeColsShowHide(item) {\r\n    item.expandObservers &&\r\n      item.expandObservers.forEach((expandList: any) => {\r\n        this.$set(\r\n          expandList,\r\n          'showForm',\r\n          this.vaildFormShow(expandList.showValueConfig, item, item.value)\r\n        );\r\n        const linkList = arrayFind(\r\n          this.formConfig.formList,\r\n          'key',\r\n          expandList.childKey\r\n        );\r\n        this.doExtendColsHidden(linkList, expandList);\r\n      });\r\n  }\r\n\r\n  // 若计算结果为隐藏，则隐藏拓展列下的所有列\r\n  doExtendColsHidden(item, selectedItem) {\r\n    const addItem = arrayFind(\r\n      item.addSetList,\r\n      'extendColName',\r\n      selectedItem.extendColName\r\n    );\r\n    if (addItem) {\r\n      const afterCols = cloneDeep(item.cols);\r\n      addItem.colsAdd.forEach((addSetCols) => {\r\n        const col = arrayFind(afterCols, 'fieldCode', addSetCols.fieldCode);\r\n        if (col) {\r\n          if (selectedItem.showForm === 'none') {\r\n            col.hidden = true;\r\n          } else {\r\n            // 还原非隐藏设置\r\n            const oriCol = arrayFind(\r\n              item.oriCols,\r\n              'fieldCode',\r\n              addSetCols.fieldCode\r\n            );\r\n            if (oriCol) {\r\n              col.hidden = oriCol.hidden;\r\n            }\r\n          }\r\n        }\r\n      });\r\n\r\n      item.cols = afterCols;\r\n    }\r\n  }\r\n\r\n  loadShowConfig(item) {\r\n    if (!item.showValueConfig && item.valueShow) {\r\n      // 临时代码，将原在item中的配置迁移到showValueConfig中\r\n      item.showValueConfig = {\r\n        showType: item.showType,\r\n        valueShow: item.valueShow,\r\n        targetType: item.targetType,\r\n        bindField: item.bindField,\r\n        symbolShow: item.symbolShow,\r\n        inputValue: item.inputValue,\r\n        parameterList: item.parameterList\r\n      };\r\n    }\r\n    if (item.showValueConfig) {\r\n      const sc = item.showValueConfig;\r\n      if (sc.showType === 'form') {\r\n        const linkFather = arrayFind(\r\n          this.formConfig.formList,\r\n          'key',\r\n          sc.valueShow\r\n        );\r\n        if (linkFather) {\r\n          if (linkFather.value) {\r\n            item.showForm = this.vaildFormShow(\r\n              sc,\r\n              linkFather,\r\n              linkFather.value\r\n            );\r\n          }\r\n          if (!linkFather.showObservers) {\r\n            linkFather.showObservers = [];\r\n          }\r\n          if (!arrayFind(linkFather.showObservers, 'key', item.key)) {\r\n            linkFather.showObservers.push(item);\r\n          }\r\n          if (!linkFather.listeners) {\r\n            this.registerChangeListeners(linkFather);\r\n          }\r\n          // 纪录表单关联字段\r\n          if (sc.bindField) {\r\n            this.addFormLinkFields(linkFather, sc.bindField);\r\n          }\r\n        }\r\n      } else if (sc.showType === 'variable') {\r\n        this.doFlowVariableQuery(sc.valueShow).then((data: any) => {\r\n          if (data || data === '') {\r\n            let result = 'none';\r\n            if (\r\n              this.computVaild(\r\n                sc.symbolShow,\r\n                data ? (Array.isArray(data) ? data.join(',') : data) : '',\r\n                sc.inputValue,\r\n                sc\r\n              )\r\n            ) {\r\n              result = 'show';\r\n            }\r\n            this.$set(item, 'showForm', result);\r\n          }\r\n        });\r\n      } else if (sc.showType === 'script') {\r\n        this.scriptComputHandle(item, sc, 'showAndHidden');\r\n      }\r\n    }\r\n  }\r\n\r\n  addFormLinkFields(item, field) {\r\n    if (!item.linkFields) {\r\n      item.linkFields = new Set<string>();\r\n    } else if (item.linkFields instanceof Array) {\r\n      item.linkFields = new Set(item.linkFields);\r\n    }\r\n    item.linkFields.add(field);\r\n  }\r\n\r\n  // 统一注册表单值变动监听\r\n  registerChangeListeners(item) {\r\n    this.$set(item, 'listeners', {\r\n      change: (val, flag) => {\r\n        if (flag !== 'auto' && item.type !== 'table') {\r\n          this.$set(this.editMarks, item.key, val);\r\n        }\r\n        // 数据过滤\r\n        item.filterObservers &&\r\n          item.filterObservers.forEach((dataLink: any) => {\r\n            this.datasFilter(dataLink);\r\n          });\r\n        // 单元格显示隐藏\r\n        item.showObservers &&\r\n          item.showObservers.forEach((dataLink: any) => {\r\n            this.$set(\r\n              dataLink,\r\n              'showForm',\r\n              this.vaildFormShow(dataLink.showValueConfig, item, val)\r\n            );\r\n          });\r\n        // 数据视图查询\r\n        item.queryObservers &&\r\n          item.queryObservers.forEach((entity: any) => {\r\n            entity.linkSetItem.resultValue = this.getFormLinkValue(\r\n              item,\r\n              entity.linkSetItem\r\n            ); // 设置绑定参数的值\r\n            this.listQueryHandle(\r\n              entity.item,\r\n              entity.dataQueryList,\r\n              entity.viewsId,\r\n              entity.typeData,\r\n              entity.extendObj\r\n            );\r\n          });\r\n        // 表单默认值绑定\r\n        this.emitDVEvent(item);\r\n\r\n        // 脚本参数绑定\r\n        item.scriptObservers &&\r\n          item.scriptObservers.forEach((entity: any) => {\r\n            entity.extendObj.resultValue = this.getFormLinkValue(\r\n              item,\r\n              entity.extendObj\r\n            ); // 设置绑定参数的值\r\n            if (\r\n              entity.handleType !== 'staticDefaultValue' &&\r\n              entity.handleType !== 'hiddenDatas'\r\n            ) {\r\n              this.scriptComputHandle(\r\n                entity.item,\r\n                entity.scriptConfig,\r\n                entity.handleType,\r\n                entity.extendObj,\r\n                entity.extendObj2\r\n              );\r\n            } else {\r\n              this.doStaticColumnComput(\r\n                entity.item,\r\n                entity.extendObj2.def,\r\n                entity.extendObj,\r\n                entity.handleType,\r\n                entity.extendObj2.headIndex\r\n              );\r\n            }\r\n          });\r\n\r\n        // 表格拓展列显示隐藏\r\n        this.computeColsShowHide(item);\r\n\r\n        // 数据视图默认值\r\n        item.internalObservers &&\r\n          item.internalObservers.forEach((formItem: any) => {\r\n            this.buttonChange(formItem);\r\n          });\r\n      }\r\n    });\r\n  }\r\n\r\n  emitDVEvent(item) {\r\n    item.dvObservers &&\r\n      item.dvObservers.forEach((entity: any) => {\r\n        if (entity.type === 'table') {\r\n          entity.cols.forEach((col) => {\r\n            let result = '';\r\n            let tableType = '';\r\n            if (col.fieldType === 0) {\r\n              tableType = 'string';\r\n            } else if (col.fieldType === 1) {\r\n              tableType = 'number';\r\n            } else if (col.fieldType === 2) {\r\n              tableType = 'date';\r\n            } else if (col.fieldType === 3) {\r\n              tableType = 'boolean';\r\n            }\r\n            if (col.defaultList && col.defaultList.cfgType === 'bind') {\r\n              if (col.defaultList.bindType === 'tableSta') {\r\n                entity.datas.forEach((detail) => {\r\n                  const defValue = entity.datas.some((sta: any) => {\r\n                    return sta[col.prop] === '';\r\n                  });\r\n                  if (defValue === true) {\r\n                    entity.datas.forEach((detail) => {\r\n                      detail[col.prop] = this.computDefaultValue(\r\n                        detail[col.defaultList.bindTarget],\r\n                        tableType,\r\n                        col.defaultList.bindExpress\r\n                      );\r\n                    });\r\n                  }\r\n                });\r\n              } else {\r\n                result = this.getFormLinkValue(item, col.defaultList);\r\n                const defResult = this.computDefaultValue(\r\n                  result,\r\n                  tableType,\r\n                  col.defaultList.bindExpress\r\n                );\r\n                const defValue = entity.datas.some((sta) => {\r\n                  return sta[col.prop] === '';\r\n                });\r\n                if (defValue === true) {\r\n                  entity.datas.forEach((detail) => {\r\n                    detail[col.prop] = defResult;\r\n                  });\r\n                }\r\n              }\r\n            }\r\n          });\r\n        } else {\r\n          const dvc = entity.defaultValue;\r\n          const result = this.getFormLinkValue(item, dvc);\r\n          entity.value = this.computDefaultValue(\r\n            result,\r\n            entity.type,\r\n            dvc.bindExpress\r\n          );\r\n\r\n          // 格式化显示\r\n          if (Object.prototype.hasOwnProperty.call(entity, 'realValue')) {\r\n            this.setFormatWapper(entity);\r\n          }\r\n        }\r\n        // 多级关联触发\r\n        if (\r\n          (entity.value || item.entity === '') &&\r\n          entity.listeners &&\r\n          entity.listeners.change\r\n        ) {\r\n          entity.listeners.change(entity.value, 'auto');\r\n        }\r\n      });\r\n  }\r\n\r\n  /**\r\n   * 查询流程变量的值\r\n   * 可以传入单一变量code，返回该变量的查询结果\r\n   * 也可以传入多个变量code组成的数组，返回{code: result}组成的对象\r\n   * 注意：变量的查询结果是一个数组\r\n   */\r\n  doFlowVariableQuery(vars) {\r\n    return new Promise((resolve, reject) => {\r\n      let expresses = vars;\r\n      if (!Array.isArray(vars)) {\r\n        expresses = [vars];\r\n      }\r\n      fetchBatchFlowVariable({ taskId: this.taskId, expresses }).then(\r\n        ({ data, error }) => {\r\n          if (!error) {\r\n            if (Array.isArray(vars)) {\r\n              resolve(data);\r\n            } else {\r\n              let result = data[vars];\r\n              if (!result || result.length === 0) {\r\n                result = null;\r\n              }\r\n              resolve(result);\r\n            }\r\n          } else {\r\n            this.$message.error(error.message);\r\n          }\r\n        }\r\n      );\r\n    });\r\n  }\r\n\r\n  getFlowVariablehttp(handleId, item) {\r\n    this.doFlowVariableQuery(item.flowVisibleCode).then((data: any) => {\r\n      if (data) {\r\n        if (handleId === 'variableChange') {\r\n          const itemListData: Array<any> = [];\r\n          data.forEach((itemList: any) => {\r\n            itemListData.push({\r\n              value: itemList[item.dataValue],\r\n              label: itemList[item.dataLabel]\r\n            });\r\n          });\r\n          this.$set(item, 'optionsList', itemListData);\r\n          this.$set(item, 'textListLabel', data);\r\n          this.$set(item, 'optionsType', 'viewsData');\r\n          if (item.value && item.listeners) {\r\n            item.listeners.change(item.value);\r\n          }\r\n          // 此处父表单比子表单多一个item.type === 'transfer'但不影响函数执行\r\n          if (item.type === 'select' || item.type === 'transfer') {\r\n            this.datasFilter(item);\r\n          }\r\n        } else if (handleId === 'table') {\r\n          if (data.length > 0) {\r\n            if (\r\n              item.cols.some((col) => col.prop && col.prop.indexOf('.') > -1)\r\n            ) {\r\n              // 临时代码，兼顾优化前列配置\r\n              this.loadTableData(item, data);\r\n            } else {\r\n              this.loadTableData(item, this.washTableFlowVariable(data));\r\n            }\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  mutexTableLoading(item) {\r\n    // 第一阶段，支持多流程变量型\r\n    const vars = [\r\n      item.flowVisibleCode,\r\n      ...item.mutexSetList.map((set) => set.addDataSetVal)\r\n    ];\r\n    this.doFlowVariableQuery(vars).then((data: any) => {\r\n      if (data) {\r\n        for (let i = 0; i < vars.length; i++) {\r\n          let list = data[vars[i]];\r\n          if (list && list.length > 0) {\r\n            // 1、判断是否是主数据源结果，如果不是，则执行字段匹配\r\n            if (vars[i] !== item.flowVisibleCode) {\r\n              list = this.washTableFlowVariable(list);\r\n\r\n              const mutexSet = arrayFind(\r\n                item.mutexSetList,\r\n                'addDataSetVal',\r\n                vars[i]\r\n              );\r\n              if (\r\n                mutexSet.addViewDataLists &&\r\n                mutexSet.addViewDataLists.length > 0\r\n              ) {\r\n                list.forEach((row) => {\r\n                  mutexSet.addViewDataLists.forEach((col) => {\r\n                    row[col['prop']] = row[col['bindProp']];\r\n                  });\r\n                });\r\n              }\r\n\r\n              this.loadTableData(item, list);\r\n            } else {\r\n              if (\r\n                item.cols.some((col) => col.prop && col.prop.indexOf('.') > -1)\r\n              ) {\r\n                // 临时代码，兼顾优化前列配置\r\n                this.loadTableData(item, list);\r\n              } else {\r\n                this.loadTableData(item, this.washTableFlowVariable(list));\r\n              }\r\n            }\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  // 转换表格用流程变量\r\n  washTableFlowVariable(datas) {\r\n    // 截取字段prop\r\n    return datas.map((ori) => {\r\n      const newd: any = {};\r\n      Object.keys(ori).forEach((key) => {\r\n        newd[key.substring(key.lastIndexOf('.') + 1)] = ori[key];\r\n      });\r\n      return newd;\r\n    });\r\n  }\r\n\r\n  // 父表单与子表单稍微有点不一样\r\n  defaultValueBind(item) {\r\n    // 如果表单有值，则不执行默认值关联\r\n    if (item.defaultValue) {\r\n      if (\r\n        !item.value ||\r\n        item.value.length === 0 ||\r\n        item.defaultValue.ignoreCurrVal\r\n      ) {\r\n        const dvc = item.defaultValue;\r\n        if (dvc.cfgType === 'script') {\r\n          this.scriptComputHandle(item, dvc, 'defaultValue');\r\n        } else {\r\n          if (dvc.bindType === 'form') {\r\n            const linkFather = arrayFind(\r\n              this.formConfig.formList,\r\n              'key',\r\n              dvc.bindTarget\r\n            );\r\n            if (linkFather) {\r\n              if (dvc.bindField) {\r\n                this.addFormLinkFields(linkFather, dvc.bindField);\r\n              }\r\n              if (linkFather.value) {\r\n                const result = this.getFormLinkValue(linkFather, dvc);\r\n                item.value = this.computDefaultValue(\r\n                  result,\r\n                  item.type,\r\n                  dvc.bindExpress\r\n                );\r\n                // 多级关联触发\r\n                if (\r\n                  (item.value || item.value === '') &&\r\n                  item.listeners &&\r\n                  item.listeners.change\r\n                ) {\r\n                  item.listeners.change(item.value, 'auto');\r\n                }\r\n              }\r\n              if (!linkFather.dvObservers) {\r\n                linkFather.dvObservers = [];\r\n              }\r\n              if (!arrayFind(linkFather.dvObservers, 'key', item.key)) {\r\n                linkFather.dvObservers.push(item);\r\n              }\r\n              if (!linkFather.listeners) {\r\n                this.registerChangeListeners(linkFather);\r\n              }\r\n            }\r\n          } else if (dvc.bindType === 'variable') {\r\n            this.doFlowVariableQuery(dvc.bindTarget).then((data: any) => {\r\n              if (data) {\r\n                item.value = this.computDefaultValue(\r\n                  Array.isArray(data) ? data.join(',') : data,\r\n                  item.type,\r\n                  dvc.bindExpress\r\n                );\r\n                if (\r\n                  (item.value || item.value === '') &&\r\n                  item.listeners &&\r\n                  item.listeners.change\r\n                ) {\r\n                  item.listeners.change(item.value, 'auto');\r\n                }\r\n                // 格式化显示\r\n                if (Object.prototype.hasOwnProperty.call(item, 'realValue')) {\r\n                  this.setFormatWapper(item);\r\n                }\r\n              }\r\n            });\r\n          } else if (dvc.bindType === 'static') {\r\n            if (dvc.bindTarget) {\r\n              if (item.type === 'date' && !dvc.bindTarget) {\r\n                // 默认系统当日\r\n                dvc.bindTarget = moment().format('YYYY-MM-DD');\r\n              }\r\n              item.value = this.computDefaultValue(\r\n                dvc.bindTarget,\r\n                item.type,\r\n                dvc.bindExpress\r\n              );\r\n              if (\r\n                (item.value || item.value === '') &&\r\n                item.listeners &&\r\n                item.listeners.change\r\n              ) {\r\n                item.listeners.change(item.value);\r\n              }\r\n              // 格式化显示\r\n              if (Object.prototype.hasOwnProperty.call(item, 'realValue')) {\r\n                this.setFormatWapper(item);\r\n              }\r\n            }\r\n          } else if (dvc.bindType === 'dataViews') {\r\n            this.buttonChange(item);\r\n          }\r\n        }\r\n      }\r\n    } else {\r\n      if (item.type === 'childFrom') {\r\n        // 子表单默认值处理\r\n        this.childFromChange(item);\r\n      }\r\n    }\r\n\r\n    // 数字输入框默认添加千分位格式化支持\r\n    if (item.type === 'number') {\r\n      this.setFormatWapper(item);\r\n\r\n      this.$set(item, 'listeners', {\r\n        ...item.listeners,\r\n        focus: () => {\r\n          this.$set(item, 'type', 'number');\r\n          this.$set(item, 'value', item.realValue);\r\n        },\r\n        blur: () => {\r\n          this.setFormatWapper(item);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  setFormatWapper(item) {\r\n    this.$set(item, 'realValue', item.value);\r\n    this.$set(item, 'type', 'text');\r\n    let accuracyNum: any;\r\n    if (item.accuracy || item.accuracy === 0) {\r\n      accuracyNum = Number(item.accuracy);\r\n    } else {\r\n      accuracyNum = 2;\r\n    }\r\n    this.$set(item, 'value', currencyFormatter(item.value, accuracyNum));\r\n  }\r\n\r\n  // 子表单默认值处理\r\n  childFromChange(item) {\r\n    let childChange = false;\r\n    item.value &&\r\n      item.value.formList &&\r\n      item.value.formList.some((val) => {\r\n        if (val.value && val.value.length > 0) {\r\n          childChange = true;\r\n        }\r\n      });\r\n    if (childChange === false) {\r\n      this.buttonChange(item);\r\n    }\r\n  }\r\n\r\n  registerFormScriptParam(\r\n    item,\r\n    scriptConfig,\r\n    handleType,\r\n    extendObj2,\r\n    linkSetItem\r\n  ) {\r\n    let result: any = null;\r\n    /**\r\n     * 查询对应表单项\r\n     * 1、如果表单项目前有值，则直接返回\r\n     * 2、注册对该表单项的查询监听\r\n     * 3、如果已经发生了数据变更，则存入linkSetItem.resultValue变量中直接取\r\n     */\r\n    if (!linkSetItem.resultValue || linkSetItem.resultValue.length === 0) {\r\n      const linkFather = arrayFind(\r\n        this.formConfig.formList,\r\n        'key',\r\n        linkSetItem.value\r\n      );\r\n      if (linkFather) {\r\n        if (!linkFather.scriptObservers) {\r\n          linkFather.scriptObservers = [];\r\n        }\r\n        // 监听器只允许注册一次\r\n        let insertFlag = true;\r\n        if (\r\n          handleType === 'paramsButtonValue' ||\r\n          handleType === 'resultButtonValue'\r\n        ) {\r\n          insertFlag = false;\r\n        } else {\r\n          for (let j = 0; j < linkFather.scriptObservers.length; j++) {\r\n            const so = linkFather.scriptObservers[j];\r\n            if (so.item.key === item.key && so.handleType === handleType) {\r\n              if (extendObj2) {\r\n                if (handleType === 'tableCols') {\r\n                  if (\r\n                    so.extendObj2.extendColName === extendObj2.extendColName\r\n                  ) {\r\n                    insertFlag = false;\r\n                  }\r\n                } else if (\r\n                  handleType === 'staticDefaultValue' ||\r\n                  handleType === 'hiddenDatas'\r\n                ) {\r\n                  if (\r\n                    so.extendObj2.def.fieldCode === extendObj2.def.fieldCode\r\n                  ) {\r\n                    insertFlag = false;\r\n                  }\r\n                }\r\n              } else {\r\n                insertFlag = false;\r\n              }\r\n              break;\r\n            }\r\n          }\r\n        }\r\n\r\n        insertFlag &&\r\n          linkFather.scriptObservers.push({\r\n            item,\r\n            scriptConfig,\r\n            handleType,\r\n            extendObj: linkSetItem,\r\n            extendObj2\r\n          });\r\n\r\n        if (!linkFather.listeners) {\r\n          this.registerChangeListeners(linkFather);\r\n        }\r\n        // 纪录表单关联字段\r\n        if (linkSetItem.bindField) {\r\n          this.addFormLinkFields(linkFather, linkSetItem.bindField);\r\n        }\r\n        // 1\r\n        if (linkFather.type === 'table' && linkFather.datas.length > 0) {\r\n          // 添加对表格支持\r\n          result = linkFather.datas;\r\n        } else if (linkFather.value) {\r\n          result = this.getFormLinkValue(linkFather, linkSetItem);\r\n        }\r\n      }\r\n      if (result) {\r\n        linkSetItem.resultValue = result;\r\n      }\r\n    } else {\r\n      result = linkSetItem.resultValue;\r\n    }\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * 加载数据视图查询参数\r\n   * @param item：所属表单\r\n   * @param dataQueryList 参数列表\r\n   * @param viewsId：数据视图id\r\n   * @param typeData：执行目标\r\n   * @param extendObj：拓展附属对象\r\n   */\r\n  listQueryHandle(\r\n    item,\r\n    dataQueryList,\r\n    viewsId,\r\n    typeData,\r\n    extendObj: any = null\r\n  ) {\r\n    if (dataQueryList.length > 0) {\r\n      /**\r\n       * 在数据视图查询参数存在的情况下，必须保证所有的参数都可用\r\n       * 才能够发起查询\r\n       */\r\n      Promise.all(\r\n        dataQueryList.map((linkSetItem) => {\r\n          return new Promise((resove, reject) => {\r\n            const param = {};\r\n            param['type'] = linkSetItem.type;\r\n            param['code'] = linkSetItem.code;\r\n            param['required'] = linkSetItem.required;\r\n\r\n            if (linkSetItem.valueType === 'fixed') {\r\n              // 关联默认值\r\n              param['value'] = linkSetItem.value;\r\n              resove(param);\r\n            } else if (linkSetItem.valueType === 'form') {\r\n              // 关联表单项\r\n              /**\r\n               * 查询对应表单项\r\n               * 1、如果表单项目前有值，则直接返回\r\n               * 2、注册对该表单项的查询监听\r\n               * 3、如果已经发生了数据变更，则存入linkSetItem.relationVal变量中直接取\r\n               */\r\n              if (linkSetItem.resultValue) {\r\n                param['value'] = linkSetItem.resultValue;\r\n                resove(param);\r\n              } else {\r\n                const linkFather = arrayFind(\r\n                  this.formConfig.formList,\r\n                  'key',\r\n                  linkSetItem.value\r\n                );\r\n                if (linkFather) {\r\n                  // 2\r\n                  if (!linkFather.queryObservers) {\r\n                    linkFather.queryObservers = [];\r\n                  }\r\n                  linkFather.queryObservers.push({\r\n                    item,\r\n                    dataQueryList,\r\n                    viewsId,\r\n                    typeData,\r\n                    extendObj,\r\n                    linkSetItem\r\n                  });\r\n                  if (!linkFather.listeners) {\r\n                    this.registerChangeListeners(linkFather);\r\n                  }\r\n\r\n                  if (linkFather.value) {\r\n                    param['value'] = this.getFormLinkValue(\r\n                      linkFather,\r\n                      linkSetItem\r\n                    );\r\n                    resove(param);\r\n                  } else {\r\n                    reject(); // 取消本次查询，等待表单值输入\r\n                  }\r\n                }\r\n              }\r\n            } else if (linkSetItem.valueType === 'variable') {\r\n              // 关联流程变量\r\n              if (linkSetItem.relationVal) {\r\n                // 直接从查询结果中获取\r\n                param['value'] = linkSetItem.relationVal;\r\n                resove(param);\r\n              } else {\r\n                this.doFlowVariableQuery(linkSetItem.value).then(\r\n                  (data: any) => {\r\n                    if (data) {\r\n                      linkSetItem.relationVal = Array.isArray(data)\r\n                        ? data.join(',')\r\n                        : data;\r\n                      param['value'] = linkSetItem.relationVal;\r\n                      resove(param);\r\n                    } else {\r\n                      reject();\r\n                    }\r\n                  }\r\n                );\r\n              }\r\n            } else {\r\n              // 不设置参数绑定\r\n              resove({});\r\n            }\r\n          });\r\n        })\r\n      )\r\n        .then((paramsValues) => {\r\n          // 必输参数校验\r\n          if (\r\n            paramsValues.every((pv: any) => {\r\n              let re = true;\r\n              if (pv.required === 0 && (!pv.value || pv.value.length === 0)) {\r\n                re = false;\r\n              }\r\n              return re;\r\n            })\r\n          ) {\r\n            // 参数已全部获得，执行数据视图查询操作\r\n            this.dataViewQueryHandle(\r\n              viewsId,\r\n              item,\r\n              typeData,\r\n              paramsValues.filter((pa: any) => pa['code']),\r\n              extendObj\r\n            );\r\n          }\r\n        })\r\n        .catch(() => {});\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 执行关联脚本\r\n   * @param item: 所属表单\r\n   * @param scriptConfig: 脚本配置对象\r\n   * @param handleType: 执行目标\r\n   * @param extendObj: 拓展附属对象 表格拓展列储存对象\r\n   */\r\n  scriptComputHandle(\r\n    item,\r\n    scriptConfig,\r\n    handleType,\r\n    extendObj: any = null,\r\n    extendObj2: any = null\r\n  ) {\r\n    Promise.all(\r\n      scriptConfig.parameterList.map((linkSetItem) => {\r\n        return new Promise((resove, reject) => {\r\n          const param = { label: linkSetItem.label };\r\n          if (linkSetItem.valueType === 'fixed') {\r\n            // 关联默认值\r\n            param['value'] = linkSetItem.value;\r\n            resove(param);\r\n          } else if (linkSetItem.valueType === 'form') {\r\n            // 关联表单项\r\n            const result = this.registerFormScriptParam(\r\n              item,\r\n              scriptConfig,\r\n              handleType,\r\n              extendObj2,\r\n              linkSetItem\r\n            );\r\n            // 脚本参数值允许为空\r\n            param['value'] = result ? result : '';\r\n            resove(param);\r\n          } else if (linkSetItem.valueType === 'variable') {\r\n            // 关联流程变量\r\n            if (linkSetItem.resultValue) {\r\n              param['value'] = linkSetItem.resultValue;\r\n              resove(param);\r\n            } else {\r\n              this.doFlowVariableQuery(linkSetItem.value).then((data: any) => {\r\n                if (data) {\r\n                  linkSetItem.resultValue =\r\n                    Array.isArray(data) && typeof data[0] !== 'object'\r\n                      ? data.join(',')\r\n                      : data;\r\n                  param['value'] = linkSetItem.resultValue;\r\n                  resove(param);\r\n                } else {\r\n                  // 苏晴晴提出，没有值也算是值\r\n                  linkSetItem.resultValue = '';\r\n                  param['value'] = '';\r\n                  resove(param);\r\n                }\r\n              });\r\n            }\r\n          } else if (linkSetItem.valueType === 'tableSta') {\r\n            // 奇怪的状态码，非静态列联动不允许字段触发\r\n            let unStaticFlag = false;\r\n            // 关联表格行\r\n            if (handleType === 'paramsButtonValue') {\r\n              param['value'] = extendObj2['row'][linkSetItem.value];\r\n            } else {\r\n              const currentRow = arrayFind(\r\n                item.datas,\r\n                'editMarkIndex',\r\n                extendObj2.dataItem['editMarkIndex']\r\n              );\r\n              if (currentRow) {\r\n                const resultValue: any = currentRow[linkSetItem.value];\r\n                if (resultValue) {\r\n                  param['value'] = resultValue;\r\n                }\r\n              }\r\n\r\n              if (\r\n                !extendObj2['scriptFlag'] ||\r\n                !extendObj2['scriptFlag'][`${handleType}_${linkSetItem.value}`]\r\n              ) {\r\n                // 注册监听器\r\n                if (!item.scriptObservers) {\r\n                  item.scriptObservers = [];\r\n                }\r\n                item.scriptObservers.push({\r\n                  item,\r\n                  scriptConfig,\r\n                  handleType,\r\n                  extendObj: linkSetItem,\r\n                  extendObj2\r\n                });\r\n                if (!item.listeners) {\r\n                  this.registerChangeListeners(item);\r\n                }\r\n                if (!extendObj2['scriptFlag']) {\r\n                  extendObj2['scriptFlag'] = {};\r\n                }\r\n                extendObj2['scriptFlag'][\r\n                  `${handleType}_${linkSetItem.value}`\r\n                ] = true;\r\n\r\n                if (extendObj2.def.type !== 'static') {\r\n                  unStaticFlag = true;\r\n                }\r\n              }\r\n            }\r\n\r\n            if (!unStaticFlag || extendObj2.ignoreFlag) {\r\n              resove(param);\r\n            } else {\r\n              reject();\r\n            }\r\n          } else if (linkSetItem.valueType === 'serviceResponse') {\r\n            if (linkSetItem.value) {\r\n              const serList = scriptConfig.returnData.map((reItem) => {\r\n                return reItem[linkSetItem.value];\r\n              });\r\n              param['value'] = Array.isArray(serList)\r\n                ? serList.join(',')\r\n                : serList;\r\n            } else {\r\n              // 如果不选择目标字段，则将整个返回结果作为参数的值\r\n              param['value'] = scriptConfig.returnData;\r\n            }\r\n\r\n            if (param['value']) {\r\n              resove(param);\r\n            } else {\r\n              reject();\r\n            }\r\n          }\r\n        });\r\n      })\r\n    )\r\n      .then((paramsValues) => {\r\n        // 参数已全部获得，执行脚本\r\n        new Promise((resolve, reject) => {\r\n          if (\r\n            scriptConfig.scriptType === 'javascript' ||\r\n            !scriptConfig.scriptType\r\n          ) {\r\n            // 正经脚本\r\n            const paramsList = paramsValues.map((par: any) => {\r\n              return par.value;\r\n            });\r\n\r\n            if (scriptConfig.valueShow) {\r\n              const methodChage = eval(\r\n                `window.dealFormScript = ${scriptConfig.valueShow}`\r\n              );\r\n\r\n              if (handleType === 'tableDefault') {\r\n                for (let i = 0; i < paramsList.length; i++) {\r\n                  if (Array.isArray(paramsList[i])) {\r\n                    paramsList[i] = this.washTableFlowVariable(paramsList[i]);\r\n                  }\r\n                }\r\n              }\r\n              resolve(methodChage(...paramsList));\r\n            } else {\r\n              reject();\r\n            }\r\n          } else if (scriptConfig.scriptType === 'meteorShower') {\r\n            // 刘星语\r\n            let meteorShower = scriptConfig.valueShow;\r\n            // 替换函数中的变量占位符\r\n            paramsValues.forEach((par: any) => {\r\n              meteorShower = meteorShower.replace(\r\n                new RegExp(par['label'], 'g'),\r\n                `\"${par['value']}\"`\r\n              );\r\n            });\r\n            // 调用后端计算接口\r\n            fetchMeteorShower({\r\n              script: meteorShower,\r\n              taskId: this.taskId\r\n            }).then(({ data }: any) => {\r\n              if (data) {\r\n                resolve(Array.isArray(data) ? data.join(',') : data);\r\n              } else {\r\n                resolve('');\r\n              }\r\n            });\r\n          }\r\n        })\r\n          .then((result: any) => {\r\n            if (handleType === 'defaultValue') {\r\n              // 默认值绑定\r\n              item.value = result;\r\n              if (item.listeners) {\r\n                item.listeners.change(item.value);\r\n              }\r\n              // 格式化显示\r\n              if (Object.prototype.hasOwnProperty.call(item, 'realValue')) {\r\n                this.setFormatWapper(item);\r\n              }\r\n            } else if (handleType === 'showAndHidden') {\r\n              // 显示隐藏控制\r\n              this.$set(item, 'showForm', 'none');\r\n              if (result === true) {\r\n                this.$set(item, 'showForm', 'show');\r\n              }\r\n            } else if (handleType === 'tableCols') {\r\n              let showForm = 'show';\r\n              if (!result || result === 'false') {\r\n                showForm = 'none';\r\n              }\r\n              extendObj2.showForm = showForm;\r\n              this.doExtendColsHidden(item, extendObj2);\r\n            } else if (handleType === 'staticDefaultValue') {\r\n              const newData: Array<any> = cloneDeep(\r\n                arrayFind(\r\n                  item.datas,\r\n                  'editMarkIndex',\r\n                  extendObj2.dataItem['editMarkIndex']\r\n                )\r\n              );\r\n              if (newData) {\r\n                newData[scriptConfig.fieldCode] = result;\r\n                item.datas.splice(extendObj2.ind, 1, newData);\r\n                // 更新原始数据中的对应值\r\n                const oriData: Array<any> = arrayFind(\r\n                  item.oriDatas,\r\n                  'editMarkIndex',\r\n                  extendObj2.dataItem['editMarkIndex']\r\n                );\r\n                let doInput = result ? true : false;\r\n                if (oriData) {\r\n                  const oldV = oriData[scriptConfig.fieldCode];\r\n\r\n                  oriData[scriptConfig.fieldCode] = result;\r\n\r\n                  if (doInput && oldV == result) {\r\n                    // 过滤自动默认值计算造成的假更新\r\n                    doInput = false;\r\n                  }\r\n                }\r\n                // 自动触发单元格编辑\r\n                doInput &&\r\n                  this.handleDoInput(\r\n                    extendObj2.dataItem['editMarkIndex'],\r\n                    scriptConfig.fieldCode,\r\n                    result,\r\n                    item.key,\r\n                    false\r\n                  );\r\n              }\r\n            } else if (handleType === 'hiddenDatas') {\r\n              if (!result) {\r\n                this.$set(extendObj.disable, extendObj2.headIndex, 0);\r\n              } else {\r\n                this.$set(extendObj.disable, extendObj2.headIndex, 1);\r\n              }\r\n            } else if (handleType === 'paramsButtonValue') {\r\n              scriptConfig.reqBody = result;\r\n              // 执行表格按钮服务\r\n              this.fetchBtnService(extendObj2.row, extendObj2.btn, item);\r\n            } else if (handleType === 'ordinaryButtonParams') {\r\n              scriptConfig.reqBody = result;\r\n              // 执行普通按钮服务\r\n              this.fetchOrdinaryBtnService(\r\n                extendObj2.linkPromise,\r\n                item,\r\n                extendObj2.linkDef\r\n              );\r\n            } else if (handleType === 'resultButtonValue') {\r\n              this.$set(extendObj2, scriptConfig.targetCol, result);\r\n            } else if (handleType === 'ordinaryButtonValue') {\r\n              const linkFather = arrayFind(\r\n                this.formConfig.formList,\r\n                'key',\r\n                item.setLink.targetObjectBut.targetCol\r\n              );\r\n              this.formConfig.formList.forEach((fromItem) => {\r\n                if (fromItem.key === linkFather.key) {\r\n                  fromItem.value = result;\r\n                  if (item.setLink.targetObjectBut.targetTableCol) {\r\n                    fromItem.datas.forEach((ele) => {\r\n                      ele[item.setLink.targetObjectBut.targetTableCol] = result;\r\n                    });\r\n                  } else {\r\n                    fromItem.value = result;\r\n                  }\r\n                }\r\n              });\r\n            } else if (handleType === 'defScriptValue') {\r\n              item.value = result;\r\n            } else if (handleType === 'tableDefault') {\r\n              this.loadTableData(item, result);\r\n            } else if (handleType === 'datasfilter') {\r\n              if (item.type === 'table') {\r\n                item.datas = result;\r\n              } else {\r\n                item.optionsList = result.map((option) => ({\r\n                  value: option[item.dataValue],\r\n                  label: option[item.dataLabel]\r\n                }));\r\n              }\r\n            }\r\n          })\r\n          .catch(() => {});\r\n      })\r\n      .catch(() => {});\r\n  }\r\n\r\n  /**\r\n   * 根据页面所需字段加载数据视图，减少数据冗余\r\n   */\r\n  getViewQueryFields(item, dataHandle, extendObj) {\r\n    let fields: any = [];\r\n    if (dataHandle === 'selectView') {\r\n      if (!item.linkFields) {\r\n        item.linkFields = new Set();\r\n      } else {\r\n        if (Array.isArray(item.linkFields)) {\r\n          item.linkFields = new Set(item.linkFields);\r\n        } else {\r\n          item.linkFields = new Set();\r\n        }\r\n      }\r\n      item.linkFields.add(item.dataValue);\r\n      item.linkFields.add(item.dataLabel);\r\n\r\n      fields = Array.from(item.linkFields);\r\n    } else if (dataHandle === 'tableChild') {\r\n      // 纪录关联目标字段\r\n      const fs = new Set(\r\n        extendObj.addViewDataLists.map((av) => av.addViewData)\r\n      );\r\n      // 添加拓展列目标字段\r\n      extendObj.addDataValue.forEach((fie) => fs.add(fie));\r\n      fields = Array.from(fs);\r\n    } else if (dataHandle === 'table') {\r\n      // 纪录表格待显示字段\r\n      const fs = new Set(item.associatedNodeList);\r\n      // 筛选出拓展列的关联来源字段\r\n      if (item.addSetList && item.addSetList.length > 0) {\r\n        item.addSetList.forEach((addSet) => {\r\n          if (addSet.addSetType !== 'addList') {\r\n            addSet.addViewDataLists.forEach(\r\n              (av) =>\r\n                av.addDataLink.indexOf('yss') > -1 && fs.add(av.addDataLink)\r\n            );\r\n          }\r\n        });\r\n      }\r\n      fields = Array.from(fs);\r\n    }\r\n    return fields;\r\n  }\r\n\r\n  dataViewQueryHandle(\r\n    viewsId,\r\n    item,\r\n    dataHandle,\r\n    queryParams: any = [],\r\n    extendObj: any = null\r\n  ) {\r\n    if (viewsId) {\r\n      const viewData = {\r\n        viewId: viewsId,\r\n        queryParams: queryParams ? queryParams : [],\r\n        authStationAndUsers: [\r\n          {\r\n            stationId: this.taskDealStationId,\r\n            userCode: this.userCode\r\n          }\r\n        ]\r\n      };\r\n      dataViewQueryWithAuth(viewData).then(({ data, error }) => {\r\n        if (error) {\r\n          this.$message.error('查询数据视图结果失败:' + error.message);\r\n          return false;\r\n        } else {\r\n          if (data.rows && data.rows.length > 0) {\r\n            if (dataHandle === 'tableChild') {\r\n              this.mergeExtendColsView(\r\n                data.rows,\r\n                extendObj.addViewDataLists,\r\n                extendObj,\r\n                item\r\n              );\r\n            } else if (dataHandle === 'selectView') {\r\n              const itemListData: Array<any> = [];\r\n              data.rows.forEach((itemList: any) => {\r\n                if (Array.isArray(item.dataLabel)) {\r\n                  const label: Array<any> = [];\r\n                  item.dataLabel.forEach((ele, index) => {\r\n                    label.push(itemList[ele]);\r\n                  });\r\n                  if (\r\n                    !arrayFind(itemListData, 'value', itemList[item.dataValue])\r\n                  ) {\r\n                    itemListData.push({\r\n                      value: itemList[item.dataValue],\r\n                      label: label.join('-')\r\n                    });\r\n                  }\r\n                } else {\r\n                  itemListData.push({\r\n                    value: itemList[item.dataValue],\r\n                    label: itemList[item.dataLabel]\r\n                  });\r\n                }\r\n              });\r\n              // 添加排序支持\r\n              if (Array.isArray(item.dataLabel) && item.dataLabel.length > 1) {\r\n                itemListData.sort((pre, aft) => {\r\n                  return pre['label'] > aft['label'] ? 1 : -1;\r\n                });\r\n              }\r\n              this.$set(item, 'textListLabel', data.rows);\r\n              this.$set(item, 'optionsList', itemListData);\r\n              this.$set(item, 'optionsType', 'viewsData');\r\n              if (item.value && item.listeners) {\r\n                item.listeners.change(item.value, 'auto');\r\n              }\r\n              if (item.type === 'select' || item.type === 'transfer') {\r\n                this.datasFilter(item);\r\n              }\r\n            } else if (dataHandle === 'table') {\r\n              this.loadTableData(item, data.rows);\r\n            }\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  // 加载表格数据\r\n  loadTableData(item, records) {\r\n    if (records && records.length > 0) {\r\n      //  为各行添加唯一主键 editMarkIndex\r\n      records.forEach((record, index) => {\r\n        let key: any = null;\r\n        if (item.refreshLoading && item.loadingPrimKey.length > 0) {\r\n          key = item.loadingPrimKey.map((key) => record[key]).join('_');\r\n        } else if (!record['editMarkIndex']) {\r\n          // 如果有主键，则使用主键作为editMarkIndex的值，否则默认生成\r\n          key = `r${index}`;\r\n        }\r\n        if (key) {\r\n          this.$set(record, 'editMarkIndex', key);\r\n        }\r\n      });\r\n      // 主表数据加载\r\n      item.oriDatas = records;\r\n      // 直接执行主表数据过滤\r\n      this.datasFilter(item);\r\n\r\n      // 流转历史面板，加载表格时，不用重复渲染拓展列\r\n      if (this.mode === 'historyDetail') {\r\n        return false;\r\n      }\r\n      // 预加载表格编辑历史\r\n      if (item.history) {\r\n        this.queryItemImprint(item);\r\n      }\r\n\r\n      // 拓展列数据加载\r\n      if (item.addSetList && item.addSetList.length > 0) {\r\n        item.addSetList.forEach((addSet) => {\r\n          this.doExtendColsQuery(addSet, item);\r\n        });\r\n      }\r\n      if (item.value && item.listeners) {\r\n        item.listeners.change(item.value);\r\n      }\r\n    }\r\n  }\r\n\r\n  doExtendColsQuery(addSet, item) {\r\n    const records = item.oriDatas;\r\n    if (addSet.addSetType === 'addList') {\r\n      // 静态列\r\n      if (addSet.tabList.length > 0 || addSet.colsAdd.length > 0) {\r\n        // 临时代码，见过历史配置\r\n        const cols =\r\n          addSet.colsAdd.length > 0 ? addSet.colsAdd : addSet.tabList;\r\n        this.recordsHanle(records, item, cols);\r\n      }\r\n      this.datasFilter(item);\r\n    } else if (addSet.addSetType === 'addViewList') {\r\n      // 关联数据视图\r\n      if (addSet.addDataQueryList.length > 0) {\r\n        this.listQueryHandle(\r\n          item,\r\n          addSet.addDataQueryList,\r\n          addSet.addDataSetVal,\r\n          'tableChild',\r\n          addSet\r\n        );\r\n      } else {\r\n        this.dataViewQueryHandle(\r\n          addSet.addDataSetVal,\r\n          item,\r\n          'tableChild',\r\n          [],\r\n          addSet\r\n        );\r\n      }\r\n    } else if (addSet.addSetType === 'addFlowVariables') {\r\n      // 关联流程变量\r\n      this.addFlowVariablesLink(addSet, addSet.addViewDataLists, item, records);\r\n    }\r\n  }\r\n\r\n  // 计算表单关联项的值\r\n  getFormLinkValue(formItem, linkSetItem) {\r\n    let result: any = '';\r\n    if (linkSetItem.bindField) {\r\n      if (formItem.textListLabel && formItem.textListLabel.length > 0) {\r\n        const fobj = arrayFind(\r\n          formItem.textListLabel,\r\n          formItem.dataValue,\r\n          formItem.value\r\n        );\r\n        if (fobj) {\r\n          result = fobj[linkSetItem.bindField];\r\n        }\r\n      }\r\n      this.addFormLinkFields(formItem, linkSetItem.bindField);\r\n    } else {\r\n      result = formItem.realValue ? formItem.realValue : formItem.value;\r\n    }\r\n    return result;\r\n  }\r\n\r\n  // registerFormScriptParam\r\n\r\n  doStaticColumnComput(item, def, extendObj, handleType, headIndex) {\r\n    item.datas.forEach((dataItem, index) => {\r\n      if (handleType === 'hiddenDatas') {\r\n        dataItem.disable = new Array(item.cols.length);\r\n      }\r\n      if (\r\n        def.type === 'static' &&\r\n        handleType === 'staticDefaultValue' &&\r\n        dataItem[def.fieldCode]\r\n      ) {\r\n        // 静态列有值则不设置关联\r\n      } else {\r\n        const dataList = {\r\n          dataItem: dataItem,\r\n          def: def,\r\n          ind: index,\r\n          headIndex,\r\n          ignoreFlag: true\r\n        };\r\n        this.scriptComputHandle(\r\n          item,\r\n          def.defaultList,\r\n          handleType,\r\n          extendObj,\r\n          dataList\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  // 静态列默认值设置\r\n  staticColumnDefaultValue(item) {\r\n    let tableType: any = '';\r\n    item.cols.forEach((def: any) => {\r\n      if (def.defaultList) {\r\n        if (def.fieldType === 0) {\r\n          tableType = 'string';\r\n        } else if (def.fieldType === 1) {\r\n          tableType = 'number';\r\n        } else if (def.fieldType === 2) {\r\n          tableType = 'date';\r\n        } else if (def.fieldType === 3) {\r\n          tableType = 'boolean';\r\n        }\r\n        if (def.defaultList.cfgType === 'script') {\r\n          if (def.type !== 'static' && def.editable !== 1) {\r\n            // 普通列只有在编辑状态下才开启关联\r\n          } else {\r\n            const vars: any = [];\r\n            def.defaultList.parameterList.forEach((pl) => {\r\n              if (!pl.resultValue) {\r\n                if (pl.valueType === 'variable') {\r\n                  vars.push(pl.value);\r\n                } else if (pl.valueType === 'form') {\r\n                  // item, scriptConfig, handleType, extendObj2, linkSetItem\r\n                  pl.resultValue = this.registerFormScriptParam(\r\n                    item,\r\n                    def.defaultList,\r\n                    'staticDefaultValue',\r\n                    { def },\r\n                    pl\r\n                  );\r\n                }\r\n              }\r\n            });\r\n\r\n            new Promise((resolve) => {\r\n              if (vars.length > 0) {\r\n                this.doFlowVariableQuery(vars).then((data: any) => {\r\n                  if (data) {\r\n                    def.defaultList.parameterList.forEach((pl) => {\r\n                      if (pl.valueType === 'variable' && !pl.resultValue) {\r\n                        pl['resultValue'] = data[pl.value];\r\n                      }\r\n                    });\r\n                  }\r\n                  resolve();\r\n                });\r\n              } else {\r\n                resolve();\r\n              }\r\n            }).then(() => {\r\n              this.doStaticColumnComput(\r\n                item,\r\n                def,\r\n                null,\r\n                'staticDefaultValue',\r\n                null\r\n              );\r\n            });\r\n          }\r\n        } else {\r\n          if (def.defaultList.bindType === 'static') {\r\n            if (def.fieldType === 2 && !def.defaultList.bindTarget) {\r\n              // 默认系统当日\r\n              def.defaultList.bindTarget = moment().format('YYYY-MM-DD');\r\n            }\r\n            if (def.defaultList.bindTarget) {\r\n              const staticDef = this.computDefaultValue(\r\n                def.defaultList.bindTarget,\r\n                tableType,\r\n                def.defaultList.bindExpress\r\n              );\r\n              const defValue = item.datas.some((sta) => {\r\n                return sta[def.prop] === '';\r\n              });\r\n              if (defValue === true) {\r\n                item.datas.forEach((detail) => {\r\n                  detail[def.prop] = staticDef;\r\n                });\r\n              }\r\n            }\r\n          } else if (def.defaultList.bindType === 'variable') {\r\n            new Promise((resolve) => {\r\n              if (!def.defaultList.resultValue) {\r\n                this.doFlowVariableQuery(def.defaultList.bindTarget).then(\r\n                  (data: any) => {\r\n                    if (data) {\r\n                      def.defaultList.resultValue = Array.isArray(data)\r\n                        ? data.join(',')\r\n                        : data;\r\n                    }\r\n                    resolve();\r\n                  }\r\n                );\r\n              } else {\r\n                resolve();\r\n              }\r\n            }).then(() => {\r\n              const variableDef = this.computDefaultValue(\r\n                def.defaultList.resultValue,\r\n                tableType,\r\n                def.defaultList.bindExpress\r\n              );\r\n              const defValue = item.datas.some((sta) => {\r\n                return sta[def.prop] === '';\r\n              });\r\n              if (defValue === true) {\r\n                item.datas.forEach((detail) => {\r\n                  detail[def.prop] = variableDef;\r\n                });\r\n              }\r\n            });\r\n          } else if (def.defaultList.bindType === 'form') {\r\n            const linkFather = arrayFind(\r\n              this.formConfig.formList,\r\n              'key',\r\n              def.defaultList.bindTarget\r\n            );\r\n            if (linkFather) {\r\n              if (def.defaultList.bindField) {\r\n                this.addFormLinkFields(linkFather, def.defaultList.bindField);\r\n              }\r\n              if (linkFather.value) {\r\n                const result = this.getFormLinkValue(\r\n                  linkFather,\r\n                  def.defaultList\r\n                );\r\n                const defResult = this.computDefaultValue(\r\n                  result,\r\n                  tableType,\r\n                  def.defaultList.bindExpress\r\n                );\r\n                const defValue = item.datas.some((sta) => {\r\n                  return sta[def.prop] === '';\r\n                });\r\n                if (defValue === true) {\r\n                  item.datas.forEach((detail) => {\r\n                    detail[def.prop] = defResult;\r\n                  });\r\n                }\r\n              }\r\n              if (!linkFather.dvObservers) {\r\n                linkFather.dvObservers = [];\r\n              }\r\n              if (!arrayFind(linkFather.dvObservers, 'key', item.key)) {\r\n                linkFather.dvObservers.push(item);\r\n              }\r\n              if (!linkFather.listeners) {\r\n                this.registerChangeListeners(linkFather);\r\n              }\r\n            }\r\n          } else if (def.defaultList.bindType === 'tableSta') {\r\n            item.datas.forEach((detail) => {\r\n              const defValue = item.datas.some((sta: any) => {\r\n                return sta[def.prop] === '';\r\n              });\r\n              if (defValue === true) {\r\n                item.datas.forEach((detail) => {\r\n                  detail[def.prop] = this.computDefaultValue(\r\n                    detail[def.defaultList.bindTarget],\r\n                    tableType,\r\n                    def.defaultList.bindExpress\r\n                  );\r\n                });\r\n              }\r\n            });\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * 表格列可编辑状态控制\r\n   */\r\n  computTableColEditControl(item) {\r\n    item.cols.forEach((colsItem, ind) => {\r\n      // 可编辑设置\r\n      if (colsItem.staticList) {\r\n        if (colsItem.staticList.staticType === 'script') {\r\n          const showValueConfig = colsItem.staticList.showValueConfig;\r\n          const vars: any = [];\r\n          showValueConfig.parameterList.forEach((pl) => {\r\n            if (!pl.resultValue) {\r\n              if (pl.valueType === 'variable') {\r\n                vars.push(pl.value);\r\n              } else if (pl.valueType === 'form') {\r\n                // item, scriptConfig, handleType, extendObj2, linkSetItem\r\n                pl.resultValue = this.registerFormScriptParam(\r\n                  item,\r\n                  showValueConfig,\r\n                  'hiddenDatas',\r\n                  { def: colsItem, headIndex: ind },\r\n                  pl\r\n                );\r\n              }\r\n            }\r\n          });\r\n\r\n          new Promise((resolve) => {\r\n            if (vars.length > 0) {\r\n              this.doFlowVariableQuery(vars).then((data: any) => {\r\n                if (data) {\r\n                  showValueConfig.parameterList.parameterList.forEach((pl) => {\r\n                    if (pl.valueType === 'variable' && !pl.resultValue) {\r\n                      pl['resultValue'] = data[pl.value];\r\n                    }\r\n                  });\r\n                }\r\n                resolve();\r\n              });\r\n            } else {\r\n              resolve();\r\n            }\r\n          }).then(() => {\r\n            this.doStaticColumnComput(\r\n              item,\r\n              colsItem,\r\n              null,\r\n              'hiddenDatas',\r\n              null\r\n            );\r\n          });\r\n        } else if (colsItem.staticList.staticType === 'tableSta') {\r\n          item.datas.forEach((record, index) => {\r\n            // 重置可编辑状态\r\n            record.disable = new Array(item.cols.length);\r\n\r\n            colsItem.staticList.staticDataList.forEach((showCols) => {\r\n              if (\r\n                !this.computVaild(\r\n                  showCols.staticFilter,\r\n                  record[showCols.staticCheck]\r\n                    ? record[showCols.staticCheck]\r\n                    : '',\r\n                  showCols.staticText,\r\n                  ''\r\n                )\r\n              ) {\r\n                this.$set(record.disable, ind, 0);\r\n              }\r\n            });\r\n          });\r\n        }\r\n      }\r\n    });\r\n    item.datas.forEach((record, index) => {\r\n      // 重置可编辑状态\r\n      record.disable = new Array(item.cols.length);\r\n    });\r\n  }\r\n\r\n  computDefaultValue(result, itemType, express) {\r\n    if (result) {\r\n      let cr = result;\r\n      if (itemType === 'date') {\r\n        cr = moment(result);\r\n        if (express.year && express.year !== 0) {\r\n          if (express.yearSign === 1) {\r\n            express.year = 0 - express.year;\r\n          }\r\n          cr = cr.add(express.year, 'years');\r\n        }\r\n        if (express.month && express.month !== 0) {\r\n          if (express.monthSign === 1) {\r\n            express.month = 0 - express.month;\r\n          }\r\n          cr = cr.add(express.month, 'months');\r\n        }\r\n        if (express.day && express.day !== 0) {\r\n          if (express.daySign === 1) {\r\n            express.day = 0 - express.day;\r\n          }\r\n          cr = cr.add(express.day, 'days');\r\n        }\r\n        cr = cr.format('YYYY-MM-DD');\r\n      } else if (itemType === 'number') {\r\n        cr = parseFloat(result);\r\n        if (express.offset) {\r\n          const os = parseFloat(express.offset);\r\n          switch (express.sign) {\r\n            case 0:\r\n              cr += os;\r\n              break;\r\n            case 1:\r\n              cr -= os;\r\n              break;\r\n            case 2:\r\n              cr *= os;\r\n              break;\r\n            case 3:\r\n              cr /= os;\r\n              break;\r\n          }\r\n        }\r\n      }\r\n      return cr;\r\n    } else {\r\n      return '';\r\n    }\r\n  }\r\n\r\n  doDatasfilter(records, key, value, type) {\r\n    return records.filter((item) => {\r\n      const target = item[key];\r\n      return this.computVaild(type, target, value, '');\r\n    });\r\n  }\r\n\r\n  computVaild(type, target, value, sc) {\r\n    if (sc.relationship === '2' && sc.showType === 'variable') {\r\n      return target.split(',').some((someItem) => {\r\n        return this.targetFun(type, someItem, value, 'item');\r\n      });\r\n    } else if (sc.relationship === '1' && sc.showType === 'variable') {\r\n      return target.split(',').every((everyItem) => {\r\n        return this.targetFun(type, everyItem, value, 'item');\r\n      });\r\n    } else {\r\n      return this.targetFun(type, target, value, 'all');\r\n    }\r\n  }\r\n\r\n  targetFun(type, targetItem, value, typetDiff) {\r\n    if (typeof targetItem === 'boolean') {\r\n      targetItem = `${targetItem}`;\r\n    } else if (!isNaN(targetItem)) {\r\n      targetItem = parseFloat(targetItem);\r\n      value = parseFloat(value);\r\n    }\r\n    if (type === '1' || !type) {\r\n      if (typetDiff === 'item') {\r\n        return targetItem === value;\r\n      } else {\r\n        if (\r\n          targetItem &&\r\n          (typeof targetItem === 'string' || typeof targetItem === 'object') &&\r\n          targetItem.indexOf(',') !== -1\r\n        ) {\r\n          return targetItem.indexOf(value) > -1;\r\n        } else {\r\n          return targetItem == value;\r\n        }\r\n      }\r\n    } else if (type === '0') {\r\n      return targetItem > value;\r\n    } else if (type === '2') {\r\n      return targetItem < value;\r\n    } else if (type === '3') {\r\n      return targetItem !== value;\r\n    } else if (type === '4') {\r\n      return targetItem >= value;\r\n    } else if (type === '5') {\r\n      return targetItem <= value;\r\n    } else if (type === '6') {\r\n      if (targetItem) {\r\n        return targetItem.indexOf(value) > -1;\r\n      }\r\n    } else if (type === '7') {\r\n      if (targetItem) {\r\n        return targetItem.indexOf(value) === -1;\r\n      }\r\n    }\r\n  }\r\n\r\n  // vaildFormShow\r\n\r\n  // 数据过滤\r\n  datasFilter(item) {\r\n    // 临时代码，兼容历史配置\r\n    if (item.filterText && item.filterText.length > 0) {\r\n      item.filterConfig = {\r\n        cfgType: 'bind',\r\n        filterText: item.filterText,\r\n        strategy: 'and'\r\n      };\r\n      item.filterText = null;\r\n    }\r\n\r\n    if (item.filterConfig) {\r\n      if (item.filterConfig.cfgType === 'bind') {\r\n        if (\r\n          item.filterConfig.filterText &&\r\n          item.filterConfig.filterText.length > 0\r\n        ) {\r\n          Promise.all(\r\n            item.filterConfig.filterText.map((itemList) => {\r\n              return new Promise((resolve, reject) => {\r\n                const param = {};\r\n                if (itemList.textLinkValue) {\r\n                  if (itemList.filterType === 'form') {\r\n                    const textLinkFather = arrayFind(\r\n                      this.formConfig.formList,\r\n                      'key',\r\n                      itemList.textLink\r\n                    );\r\n                    if (textLinkFather) {\r\n                      param['textLinkValue'] = itemList.textLinkValue;\r\n                      param['textLinkMethod'] = itemList.textLinkMethod;\r\n                      param['value'] = textLinkFather.value;\r\n                      resolve(param);\r\n\r\n                      if (!textLinkFather.filterObservers) {\r\n                        textLinkFather.filterObservers = [];\r\n                      }\r\n                      if (\r\n                        !arrayFind(\r\n                          textLinkFather.filterObservers,\r\n                          'key',\r\n                          item.key\r\n                        )\r\n                      ) {\r\n                        textLinkFather.filterObservers.push(item);\r\n                      }\r\n                      if (!textLinkFather.listeners) {\r\n                        this.registerChangeListeners(textLinkFather);\r\n                      }\r\n                    }\r\n                  } else if (itemList.filterType === 'variable') {\r\n                    if (\r\n                      itemList.filterValue &&\r\n                      itemList.filterValue.length > 0\r\n                    ) {\r\n                      param['textLinkValue'] = itemList.textLinkValue;\r\n                      param['textLinkMethod'] = itemList.textLinkMethod;\r\n                      param['value'] = itemList.filterValue;\r\n                      resolve(param);\r\n                    } else {\r\n                      this.doFlowVariableQuery(itemList.textLink).then(\r\n                        (data: any) => {\r\n                          if (\r\n                            data &&\r\n                            (data instanceof String || data.length > 0)\r\n                          ) {\r\n                            this.$set(itemList, 'filterValue', data);\r\n                            param['textLinkValue'] = itemList.textLinkValue;\r\n                            param['textLinkMethod'] = itemList.textLinkMethod;\r\n                            param['value'] = data;\r\n                            resolve(param);\r\n                          } else {\r\n                            this.$set(itemList, 'filterValue', '');\r\n                            param['textLinkValue'] = itemList.textLinkValue;\r\n                            param['textLinkMethod'] = itemList.textLinkMethod;\r\n                            param['value'] = '';\r\n                            resolve(param);\r\n                          }\r\n                        }\r\n                      );\r\n                    }\r\n                  } else if (itemList.filterType === 'static') {\r\n                    if (itemList.textLink) {\r\n                      param['textLinkValue'] = itemList.textLinkValue;\r\n                      param['textLinkMethod'] = itemList.textLinkMethod;\r\n                      param['value'] = itemList.textLink;\r\n                      resolve(param);\r\n                    }\r\n                  }\r\n                }\r\n              });\r\n            })\r\n          ).then((params) => {\r\n            const orFlag = item.filterConfig.strategy === 'or';\r\n\r\n            const computWapper = (itemData: any) => {\r\n              return (param: any) => {\r\n                if (param.value && param.value instanceof Array) {\r\n                  return this.computVaild(\r\n                    param.textLinkMethod,\r\n                    itemData[param.textLinkValue],\r\n                    param.value.join(','),\r\n                    ''\r\n                  );\r\n                } else {\r\n                  return this.computVaild(\r\n                    param.textLinkMethod,\r\n                    itemData[param.textLinkValue],\r\n                    param.value,\r\n                    ''\r\n                  );\r\n                }\r\n              };\r\n            };\r\n\r\n            if (item.type === 'table') {\r\n              const colsDatas: Array<any> = [];\r\n              item.oriDatas.forEach((itemDatas) => {\r\n                const comput = computWapper(itemDatas);\r\n                const condition = orFlag\r\n                  ? params.some(comput)\r\n                  : params.every(comput);\r\n                if (condition === true) {\r\n                  colsDatas.push(itemDatas);\r\n                }\r\n              });\r\n              item.datas = colsDatas;\r\n              this.handleTableDatasChange(item);\r\n            } else {\r\n              const itemListData: Array<any> = [];\r\n              item.textListLabel.forEach((itemList: any) => {\r\n                const comput = computWapper(itemList);\r\n                const condition = orFlag\r\n                  ? params.some(comput)\r\n                  : params.every(comput);\r\n                if (condition === true) {\r\n                  itemListData.push({\r\n                    value: itemList[item.dataValue],\r\n                    label: itemList[item.dataLabel]\r\n                  });\r\n                }\r\n              });\r\n              this.$set(item, 'optionsList', itemListData);\r\n            }\r\n          });\r\n        }\r\n      } else {\r\n        // 如果采用脚本，先假设过滤结果全为真\r\n        item.datas = item.oriDatas;\r\n        // 将待过滤数据作为最后一个参数传入\r\n        if (!item.filterConfig.pushDatas) {\r\n          item.filterConfig.parameterList.push({\r\n            label: 'beFilterDatas',\r\n            valueType: 'fixed',\r\n            value: item.type === 'table' ? item.oriDatas : item.textListLabel\r\n          });\r\n          item.filterConfig.pushDatas = true;\r\n        }\r\n\r\n        this.scriptComputHandle(item, item.filterConfig, 'datasfilter');\r\n      }\r\n    } else {\r\n      if (item.type === 'table') {\r\n        item.datas = item.oriDatas;\r\n        this.handleTableDatasChange(item);\r\n      }\r\n    }\r\n  }\r\n\r\n  recordsHanle(records, item, cols) {\r\n    records.forEach((record, index) => {\r\n      cols.forEach((colsItem) => {\r\n        const key = colsItem.fieldCode ? colsItem.fieldCode : colsItem.prop;\r\n        // 保留原数据，只做初始化\r\n        if (!record[key]) {\r\n          if (colsItem.value) {\r\n            record[key] = colsItem.value;\r\n          } else {\r\n            record[key] = '';\r\n          }\r\n        }\r\n      });\r\n    });\r\n    item.datas = records;\r\n  }\r\n\r\n  // 添加流程变量型关联列\r\n  addFlowVariablesLink(tableAddList, addViewDataLists, item, records) {\r\n    if (tableAddList.addDataSetVal) {\r\n      this.doFlowVariableQuery(tableAddList.addDataSetVal).then((data: any) => {\r\n        if (data && data.length > 0) {\r\n          let oris = data;\r\n          // 临时代码，兼顾优化前列配置\r\n          if (\r\n            !item.cols.some((col) => col.prop && col.prop.indexOf('.') > -1)\r\n          ) {\r\n            oris = this.washTableFlowVariable(data);\r\n          }\r\n          this.mergeExtendColsView(oris, addViewDataLists, tableAddList, item);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  // 执行关联列与主表合并\r\n  mergeExtendColsView(datas, addViewDataLists, tableAddList, item) {\r\n    // 缓存拓展列查询结果\r\n    if (!tableAddList.datas) {\r\n      tableAddList.datas = datas;\r\n    }\r\n\r\n    const linkDatas = datas;\r\n    if (linkDatas) {\r\n      const afterDatas = cloneDeep(item.oriDatas);\r\n\r\n      afterDatas.forEach((row) => {\r\n        let theOne: any = null;\r\n        if (addViewDataLists.length > 1) {\r\n          for (let i = 0; i < linkDatas.length; i++) {\r\n            const opt = linkDatas[i];\r\n            if (\r\n              addViewDataLists.every(\r\n                (av) => opt[av.addViewData] === row[av.addDataLink]\r\n              )\r\n            ) {\r\n              theOne = opt;\r\n              break;\r\n            }\r\n          }\r\n        } else {\r\n          theOne = arrayFind(\r\n            linkDatas,\r\n            addViewDataLists[0].addViewData,\r\n            row[addViewDataLists[0].addDataLink]\r\n          );\r\n        }\r\n        if (theOne) {\r\n          tableAddList.addDataValue.forEach((col) => {\r\n            /**\r\n             * 判断拓展列字段值是否不空，如果不空，则保留原值\r\n             * 目的：应对拓展列字段被修改的情况\r\n             */\r\n            if (!row[col]) {\r\n              row[col] = theOne[col];\r\n            }\r\n          });\r\n        }\r\n      });\r\n      item.oriDatas = afterDatas;\r\n      this.datasFilter(item);\r\n    }\r\n    // else {\r\n    //   // 特殊情况处理，如果拓展列无数据加载，但当前列可见且可编辑，则给该列赋空值，防止编辑响应问题发生\r\n    //   const edit = tableAddList.addDataValue.some((prop) => {\r\n    //     const col = arrayFind(item.cols, 'prop', prop);\r\n    //     return col && col.editable === 1;\r\n    //   });\r\n\r\n    //   if (edit) {\r\n    //     const tds = item.oriDatas ? item.oriDatas : item.datas;\r\n    //     tds.forEach((data) => {\r\n    //       tableAddList.addDataValue.forEach((col) => {\r\n    //         if (!data[col]) {\r\n    //           data[col] = '';\r\n    //         }\r\n    //       });\r\n    //     });\r\n    //   }\r\n    // }\r\n  }\r\n\r\n  computeCellClass({ row, columnIndex, column }) {\r\n    if (\r\n      row.beModified &&\r\n      Array.from(row.beModified).indexOf(column.property) > -1\r\n    ) {\r\n      return 'red-alert';\r\n    }\r\n  }\r\n\r\n  fileType(fileName) {\r\n    if (fileName) {\r\n      const startIndex = fileName.lastIndexOf('.');\r\n      const endIndex = fileName.length;\r\n      const fileTypeList = fileName.substring(startIndex + 1, endIndex);\r\n      if (fileTypeList === 'xlsx' || fileTypeList === 'xls') {\r\n        return 'excel';\r\n      } else if (fileTypeList === 'doc' || fileTypeList === 'docx') {\r\n        return 'doc';\r\n      } else if (fileTypeList === 'html') {\r\n        return 'html';\r\n      } else if (fileTypeList === 'pdf') {\r\n        return 'pdf';\r\n      } else if (fileTypeList === 'txt') {\r\n        return 'txt';\r\n      } else if (\r\n        fileTypeList === 'jpg' ||\r\n        fileTypeList === 'jpeg' ||\r\n        fileTypeList === 'svg' ||\r\n        fileTypeList === 'png' ||\r\n        fileTypeList === 'bmp' ||\r\n        fileTypeList === 'gif'\r\n      ) {\r\n        return 'tupian';\r\n      } else {\r\n        return 'wenjian';\r\n      }\r\n    }\r\n  }\r\n\r\n  download(path) {\r\n    attachmentDownload(path);\r\n  }\r\n\r\n  showHistoryCompare(formItem) {\r\n    this.modifysVisible = true;\r\n    this.queryItemImprint(formItem);\r\n  }\r\n\r\n  queryItemImprint(formItem) {\r\n    this.historyLoading = true;\r\n    queryEditMarks(this.processInstanceId, formItem['key']).then(\r\n      ({ error, data }) => {\r\n        this.historyLoading = false;\r\n        if (!error && data.length > 0) {\r\n          if (formItem['type'] === 'table') {\r\n            if (!formItem['tableCompareContainer']) {\r\n              this.compareTableDatas(formItem, data);\r\n            } else {\r\n              this.tableCompareContainer = formItem['tableCompareContainer'];\r\n              this.tableCompareColumns = formItem['cols'].filter((col) => {\r\n                return col.label !== '操作' && !col.hidden;\r\n              });\r\n            }\r\n          } else {\r\n            this.tableCompareColumns = this.commonHistoryColumns;\r\n            this.tableCompareContainer = data;\r\n          }\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  compareTableDatas(tableItem, imprint) {\r\n    const tableCompareContainer: Array<any> = [];\r\n    imprint.reverse();\r\n    imprint.forEach((editHistorys) => {\r\n      Object.keys(editHistorys.value).forEach((editMarkIndex) => {\r\n        const row = arrayFind(tableItem.datas, 'editMarkIndex', editMarkIndex);\r\n        if (row) {\r\n          let beModified: any = null;\r\n          let hr: any = null;\r\n          if (row.beModified) {\r\n            beModified = cloneDeep(row.beModified);\r\n            hr = arrayFind(\r\n              tableCompareContainer,\r\n              'editMarkIndex',\r\n              editMarkIndex\r\n            );\r\n          } else {\r\n            beModified = new Set();\r\n            hr = cloneDeep(row);\r\n            tableCompareContainer.push(hr);\r\n          }\r\n\r\n          const eh = editHistorys['value'][editMarkIndex];\r\n          eh.forEach((edit: any) => {\r\n            if (edit.value) {\r\n              beModified.add(edit['prop']);\r\n\r\n              // if (!hr[edit['prop']]) { // hr[edit['prop']]的值为修改后的值暂时注释掉后可以赋值修改前。\r\n              if (edit.preValue) {\r\n                hr[edit['prop']] = edit.preValue;\r\n              } else {\r\n                hr[edit['prop']] = '';\r\n              }\r\n              // }\r\n              hr[edit['prop']] += ` -> ${edit.value}`;\r\n              // 把之前节点的变更历史写回当前节点\r\n              if (tableItem.refreshLoading) {\r\n                row[edit['prop']] = edit.value;\r\n              }\r\n            }\r\n          });\r\n          this.$set(row, 'beModified', beModified);\r\n          hr.beModified = beModified;\r\n        }\r\n      });\r\n    });\r\n\r\n    if (tableCompareContainer.length > 0) {\r\n      tableItem.tableCompareContainer = tableCompareContainer;\r\n      this.tableCompareContainer = tableItem['tableCompareContainer'];\r\n      this.tableCompareColumns = tableItem['cols'].filter((col) => {\r\n        return col.label !== '操作' && !col.hidden;\r\n      });\r\n    }\r\n  }\r\n\r\n  uploadTable(item) {\r\n    this.uploadTableKey = item.key;\r\n    this.importFiles = [];\r\n    this.importDialogVisible = !this.importDialogVisible;\r\n  }\r\n\r\n  doUpload() {\r\n    if (this.importFiles.length === 0) {\r\n      this.$message.error('请先选择要导入或上传的文件！');\r\n    } else {\r\n      this.$confirm('该操作可能会覆盖其余数据，是否继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      })\r\n        .then(() => {\r\n          this.loading = true;\r\n          const uploadForm = new FormData();\r\n          this.importFiles.forEach((item) =>\r\n            uploadForm.append('file', item.raw)\r\n          );\r\n          tableUpload(uploadForm).then(({ data, error }) => {\r\n            if (!error) {\r\n              this.loading = false;\r\n              this.importDialogVisible = !this.importDialogVisible;\r\n              this.$message.success('导入成功！');\r\n              // 删除改表格之前的修改记录\r\n              if (this.editMarks[this.uploadTableKey]) {\r\n                this.$delete(this.editMarks, this.uploadTableKey);\r\n              }\r\n              // 将导入的数据替换原表格数据\r\n              const targeTableItem = arrayFind(\r\n                this.formConfig.formList,\r\n                'key',\r\n                this.uploadTableKey\r\n              );\r\n              const targetCols = cloneDeep(targeTableItem.cols);\r\n              const tableDataArr: any = [];\r\n              data.forEach((item) => {\r\n                const obj = {};\r\n                for (const itemName in item) {\r\n                  if (Object.prototype.hasOwnProperty.call(item, itemName)) {\r\n                    const colProp = arrayFind(\r\n                      targetCols,\r\n                      'fieldName',\r\n                      itemName\r\n                    );\r\n                    if (colProp) {\r\n                      this.$set(obj, colProp.prop, item[itemName]);\r\n                    }\r\n                  }\r\n                }\r\n                tableDataArr.push(obj);\r\n              });\r\n              // this.$set(targeTableItem, 'datas', tableDataArr);\r\n              this.loadTableData(targeTableItem, tableDataArr);\r\n            } else {\r\n              this.loading = false;\r\n              this.$message.error(`导入失败：${error.message}`);\r\n            }\r\n          });\r\n        })\r\n        .catch(() => {});\r\n    }\r\n  }\r\n\r\n  closeDialog() {\r\n    const nu: any = this.$refs.netUpload;\r\n    nu.clearFiles();\r\n    this.importDialogVisible = !this.importDialogVisible;\r\n    this.loading = false;\r\n  }\r\n\r\n  // 导入文件\r\n  handleUploadFileChange(file, fileList) {\r\n    this.importFiles = fileList;\r\n  }\r\n\r\n  // 移除待上传文件\r\n  onRemove(file, fileList) {\r\n    this.importFiles = fileList;\r\n  }\r\n\r\n  // 导出\r\n  exportTable(item) {\r\n    const params = {\r\n      headers: item.cols.filter((col) => !col.hidden),\r\n      rows: item.datas\r\n    };\r\n    tableDownload(params, `${item.label}.xls`);\r\n  }\r\n\r\n  // 计算表单显示还是隐藏\r\n  vaildFormShow(sc, linkFather, value) {\r\n    let show = 'show';\r\n    if (sc.bindField) {\r\n      // const result = this.getFormLinkValue(linkFather, sc);\r\n      if (\r\n        !this.computVaild(\r\n          sc.symbolShow,\r\n          this.getFormLinkValue(linkFather, sc),\r\n          sc.inputValue,\r\n          sc\r\n        )\r\n      ) {\r\n        show = 'none';\r\n      }\r\n    } else {\r\n      if (!this.computVaild(sc.symbolShow, value, sc.inputValue, sc)) {\r\n        show = 'none';\r\n      }\r\n    }\r\n    return show;\r\n  }\r\n  // 新增\r\n  addChange(val) {\r\n    this.labelTable = val.key;\r\n    if (\r\n      val.addTemplate &&\r\n      val.addTemplate.formList &&\r\n      val.addTemplate.formList.length > 0\r\n    ) {\r\n      this.childFromExist = true;\r\n      this.formAttributeAlert = cloneDeep(val.addTemplate);\r\n      this.formAttributeAlert.formList.forEach((item) => {\r\n        this.$set(item, 'showForm', 'show');\r\n        this.$set(item, 'editable', 1);\r\n        if (item.type === 'checkboxGroup') {\r\n          this.$set(item, 'value', []);\r\n        } else if (item.type === 'transfer') {\r\n          this.$set(item, 'value', []);\r\n        } else {\r\n          this.$set(item, 'value', '');\r\n        }\r\n      });\r\n    } else {\r\n      this.childFromExist = false;\r\n      const colsDiff: Array<any> = cloneDeep(val.cols);\r\n      this.addTableList = colsDiff.filter(\r\n        (col) => col.label !== '操作' && !col.hidden\r\n      );\r\n    }\r\n    this.dialogSwitch = true;\r\n    const colsDiff: Array<any> = cloneDeep(val.cols);\r\n    this.addTableList = colsDiff.filter(\r\n      (col) => col.label !== '操作' && col.type !== 'index' && !col.hidden\r\n    );\r\n  }\r\n\r\n  treeDataTest() {\r\n    let same: any = {};\r\n    same = this.$refs.advance['spread'].model;\r\n    const item = arrayFind(this.formAttribute.formList, 'key', this.labelTable);\r\n    if (item) {\r\n      this.doTableRowAdd(item, [same]);\r\n    }\r\n    this.dialogSwitch = false;\r\n    this.cancelSwitch();\r\n  }\r\n\r\n  doTableRowAdd(item, records) {\r\n    records.forEach((record) => {\r\n      // 如果有主键，则使用主键作为editMarkIndex的值，否则默认生成\r\n      let key = `r${item.oriDatas ? item.oriDatas.length : item.datas.length}`;\r\n      if (item.refreshLoading && item.loadingPrimKey.length > 0) {\r\n        key = item.loadingPrimKey.map((key) => record[key]).join('_');\r\n      }\r\n      this.$set(record, 'editMarkIndex', key);\r\n      if (item.oriDatas) {\r\n        item.oriDatas.push(record);\r\n      } else {\r\n        item.datas.push(record);\r\n      }\r\n    });\r\n\r\n    // 触发表格中所有的联动事件\r\n    this.loadTableData(item, item.oriDatas ? item.oriDatas : item.datas);\r\n  }\r\n\r\n  // 上传删除\r\n  handleFileRemove(file: any, ind: number) {\r\n    const fileList = this.$refs.upload[0].uploadFiles;\r\n    const index = fileList.findIndex((fileItem: any) => {\r\n      return fileItem.uid === file.uid;\r\n    });\r\n    fileList.splice(index, 1);\r\n    const fileIndex = this.formConfig.formList[ind].value.findIndex(\r\n      (fileItems: any) => {\r\n        return fileItems.uid === file.uid;\r\n      }\r\n    );\r\n    this.formConfig.formList[ind].value.splice(fileIndex, 1);\r\n  }\r\n\r\n  // 上传成功数据处理\r\n  successList(response: any, file: any, fileList: any, index: number) {\r\n    if (response.data && response.data.path) {\r\n      if (!this.formConfig.formList[index].value) {\r\n        this.formConfig.formList[index].value = [];\r\n      }\r\n      this.formConfig.formList[index].value.push({\r\n        name: file.name,\r\n        url: file.response['data']['path'],\r\n        uid: file.uid\r\n      });\r\n    } else {\r\n      this.$message.warning('文件上传失败:' + response.message);\r\n    }\r\n  }\r\n  // 普通按钮事件\r\n  buttonChange(item) {\r\n    let linkPromise = [];\r\n    let linkDef: any = {};\r\n    if (item.setLink) {\r\n      linkDef = item.setLink;\r\n      linkPromise = item.setLink.associatedLink;\r\n    } else if (item.defaultValue) {\r\n      linkDef = item.defaultValue;\r\n      linkPromise = item.defaultValue.associatedLink;\r\n    }\r\n\r\n    if (linkDef.scriptLinkConfig && linkDef.scriptLinkConfig.valueShow) {\r\n      // 如果包含脚本型请求体参数，则参数必须存在\r\n      if (!linkDef.scriptLinkConfig.reqBody) {\r\n        this.scriptComputHandle(\r\n          item,\r\n          linkDef.scriptLinkConfig,\r\n          'ordinaryButtonParams',\r\n          null,\r\n          { linkPromise, linkDef }\r\n        );\r\n        return;\r\n      }\r\n    }\r\n    this.fetchOrdinaryBtnService(linkPromise, item, linkDef);\r\n  }\r\n\r\n  fetchOrdinaryBtnService(linkPromise, item, linkDef) {\r\n    if (linkPromise.length > 0) {\r\n      Promise.all(\r\n        linkPromise.map((itemItem: any) => {\r\n          return new Promise((resove, reject) => {\r\n            const param = { code: itemItem.code, type: itemItem.type };\r\n            if (itemItem.valueType) {\r\n              if (itemItem.valueType === 'fixed') {\r\n                // 关联表单\r\n                param['value'] = itemItem.value;\r\n                if (param['value']) {\r\n                  resove(param);\r\n                } else {\r\n                  reject();\r\n                }\r\n              } else if (itemItem.valueType === 'form') {\r\n                // 关联表单\r\n                const linkFather = arrayFind(\r\n                  this.formConfig.formList,\r\n                  'key',\r\n                  itemItem.value\r\n                );\r\n                if (linkFather) {\r\n                  if (!linkFather.internalObservers) {\r\n                    linkFather.internalObservers = [];\r\n                  }\r\n                  if (\r\n                    !arrayFind(linkFather.internalObservers, 'key', item.key)\r\n                  ) {\r\n                    linkFather.internalObservers.push(item);\r\n                  }\r\n                  if (!linkFather.listeners) {\r\n                    this.registerChangeListeners(linkFather);\r\n                  }\r\n                  param['value'] = linkFather.value;\r\n                  if (param['value'] && param['value'].length > 0) {\r\n                    resove(param);\r\n                  } else {\r\n                    reject();\r\n                  }\r\n                }\r\n              } else if (itemItem.valueType === 'variable') {\r\n                // 关联流程变量\r\n                if (itemItem.resultValue) {\r\n                  param['value'] = itemItem.resultValue;\r\n                  resove(param);\r\n                } else {\r\n                  this.doFlowVariableQuery(itemItem.value).then((data: any) => {\r\n                    if (data) {\r\n                      itemItem.resultValue = Array.isArray(data)\r\n                        ? data.join(',')\r\n                        : data;\r\n                      param['value'] = itemItem.resultValue;\r\n                    } else {\r\n                      itemItem.resultValue = '';\r\n                      param['value'] = '';\r\n                      resove(param);\r\n                    }\r\n                    if (param['value']) {\r\n                      resove(param);\r\n                    } else {\r\n                      reject();\r\n                    }\r\n                  });\r\n                }\r\n              } else {\r\n                // 不设置参数绑定值\r\n                resove(param);\r\n              }\r\n            } else {\r\n              // 不设置参数绑定值\r\n              resove(param);\r\n            }\r\n          });\r\n        })\r\n      ).then((paramsValues) => {\r\n        this.doOrdinaryButtonQuery(\r\n          item,\r\n          paramsValues.filter((pa: any) => pa['value']),\r\n          linkDef.scriptLinkConfig.reqBody\r\n        );\r\n      });\r\n    } else {\r\n      if (linkDef && linkDef.scriptLinkConfig) {\r\n        this.doOrdinaryButtonQuery(item, [], linkDef.scriptLinkConfig.reqBody);\r\n      }\r\n    }\r\n  }\r\n\r\n  doOrdinaryButtonQuery(item, paramsValues, reqBody) {\r\n    let resultList = [];\r\n    const params: any = {};\r\n    if (reqBody) {\r\n      params.reqBody = JSON.stringify(reqBody);\r\n    }\r\n    if (item.setLink) {\r\n      this.$set(params, 'viewId', item.setLink.linkedSerVal);\r\n      this.$set(params, 'queryParams', paramsValues);\r\n      this.$set(params, 'authStationAndUsers', [\r\n        {\r\n          stationId: this.taskDealStationId,\r\n          userCode: this.userCode\r\n        }\r\n      ]);\r\n      let fetch = dataViewQueryWithAuth;\r\n      if (item.type === 'button') {\r\n        fetch = fetchPushService;\r\n      }\r\n      fetch(params).then(({ data, error }) => {\r\n        if (data) {\r\n          if (item.setLink.targetObjectBut.setWay === 'bind') {\r\n            resultList = data.rows.map((reItem) => {\r\n              return reItem[item.setLink.targetObjectBut.bindingTargets];\r\n            });\r\n            const linkFather = arrayFind(\r\n              this.formConfig.formList,\r\n              'key',\r\n              item.setLink.targetObjectBut.targetCol\r\n            );\r\n            this.formConfig.formList.forEach((fromItem) => {\r\n              if (fromItem.key === linkFather.key) {\r\n                if (item.setLink.targetObjectBut.targetTableCol) {\r\n                  fromItem.datas.forEach((ele) => {\r\n                    ele[\r\n                      item.setLink.targetObjectBut.targetTableCol\r\n                    ] = resultList.join(',');\r\n                  });\r\n                } else {\r\n                  fromItem.value = resultList.join(',');\r\n                }\r\n              }\r\n            });\r\n          } else if (item.setLink.targetObjectBut.setWay === 'script') {\r\n            item.setLink.targetObjectBut.scriptTargets.returnData = data.rows;\r\n            item.setLink.targetObjectBut.scriptTargets.targetCol =\r\n              item.setLink.targetObjectBut.targetCol;\r\n            this.scriptComputHandle(\r\n              item,\r\n              item.setLink.targetObjectBut.scriptTargets,\r\n              'ordinaryButtonValue',\r\n              null,\r\n              null\r\n            );\r\n          }\r\n        } else {\r\n          this.$message.error(error.message);\r\n        }\r\n      });\r\n    } else {\r\n      const def = item.defaultValue;\r\n      this.$set(params, 'viewId', item.defaultValue.bindTarget);\r\n      this.$set(\r\n        params,\r\n        'queryParams',\r\n        paramsValues.filter((pa: any) => pa['value'])\r\n      );\r\n      this.$set(params, 'authStationAndUsers', [\r\n        {\r\n          stationId: this.taskDealStationId,\r\n          userCode: this.userCode\r\n        }\r\n      ]);\r\n      dataViewQueryWithAuth(params).then(({ data, error }) => {\r\n        if (item.type === 'childFrom') {\r\n          item.value.formList.forEach((list) => {\r\n            def.paramDefList.forEach((param) => {\r\n              if (list.key === param.key) {\r\n                resultList = data.rows.map((reItem) => {\r\n                  return reItem[param.value];\r\n                });\r\n                list.value = resultList.join(',');\r\n              }\r\n            });\r\n          });\r\n        } else {\r\n          if (data) {\r\n            if (def.targetObjectBut.setWay === 'bind') {\r\n              resultList = data.rows.map((reItem) => {\r\n                return reItem[def.targetObjectBut.bindingTargets];\r\n              });\r\n              this.$set(item, 'value', resultList.join(','));\r\n              item.value = resultList.join(',');\r\n            } else {\r\n              def.targetObjectBut.scriptTargets.returnData = data.rows;\r\n              def.targetObjectBut.scriptTargets.targetCol =\r\n                def.targetObjectBut.targetCol;\r\n              this.scriptComputHandle(\r\n                item,\r\n                def.targetObjectBut.scriptTargets,\r\n                'defScriptValue',\r\n                null,\r\n                null\r\n              );\r\n            }\r\n          } else {\r\n            this.$message.error(error.message);\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  buttonParameter(row, btn, item) {\r\n    // 使用脚本获得查询参数（请求体参数）\r\n    if (btn.scriptLinkConfig && btn.scriptLinkConfig.valueShow) {\r\n      // 如果包含脚本型请求体参数，则参数必须存在\r\n      if (!btn.scriptLinkConfig.reqBody) {\r\n        this.scriptComputHandle(\r\n          item,\r\n          btn.scriptLinkConfig,\r\n          'paramsButtonValue',\r\n          null,\r\n          { row, btn }\r\n        );\r\n        return;\r\n      }\r\n    }\r\n    this.fetchBtnService(row, btn, item);\r\n  }\r\n\r\n  fetchBtnService(row, btn, item) {\r\n    const linkPromise = btn.associatedLink;\r\n    if (linkPromise && linkPromise.length > 0) {\r\n      // 获得普通参数绑定值\r\n      Promise.all(\r\n        linkPromise.map((itemItem) => {\r\n          return new Promise((resove) => {\r\n            const param = { code: itemItem.code, type: itemItem.type };\r\n            if (itemItem.valueType) {\r\n              if (itemItem.valueType === 'fixed') {\r\n                // 关联表单\r\n                param['value'] = itemItem.value;\r\n                resove(param);\r\n              } else if (itemItem.valueType === 'form') {\r\n                // 关联表单\r\n                const linkFather = arrayFind(\r\n                  this.formConfig.formList,\r\n                  'key',\r\n                  itemItem.value\r\n                );\r\n                param['value'] = linkFather.value;\r\n                resove(param);\r\n              } else if (itemItem.valueType === 'variable') {\r\n                // 关联流程变量\r\n                if (itemItem.resultValue) {\r\n                  param['value'] = itemItem.resultValue;\r\n                  resove(param);\r\n                } else {\r\n                  this.doFlowVariableQuery(itemItem.value).then((data: any) => {\r\n                    if (data) {\r\n                      itemItem.resultValue = Array.isArray(data)\r\n                        ? data.join(',')\r\n                        : data;\r\n                      param['value'] = itemItem.resultValue;\r\n                      resove(param);\r\n                    } else {\r\n                      // 苏晴晴提出，没有值也算是值\r\n                      itemItem.resultValue = '';\r\n                      param['value'] = '';\r\n                      resove(param);\r\n                    }\r\n                  });\r\n                }\r\n              } else if (itemItem.valueType === 'tableSta') {\r\n                // 关联表格数据\r\n                param['value'] = row[itemItem.value];\r\n                resove(param);\r\n              }\r\n            }\r\n          });\r\n        })\r\n      ).then((paramsValues) => {\r\n        this.doTableCellBtn(btn, paramsValues, btn.targetObjectBut, row, item);\r\n      });\r\n    } else {\r\n      this.doTableCellBtn(btn, [], btn.targetObjectBut, row, item);\r\n    }\r\n  }\r\n\r\n  doTableCellBtn(btn, queryParams, targetObjectBut, row, item) {\r\n    let resultList = [];\r\n    const params: any = {\r\n      viewId: btn.linkedSerVal,\r\n      queryParams\r\n    };\r\n    if (btn.scriptLinkConfig.reqBody) {\r\n      params.reqBody = JSON.stringify(btn.scriptLinkConfig.reqBody);\r\n    }\r\n    fetchPushService(params).then(({ data, error }) => {\r\n      if (data) {\r\n        if (targetObjectBut.setWay === 'bind') {\r\n          resultList = data.rows.map((reItem) => {\r\n            return reItem[targetObjectBut.bindingTargets];\r\n          });\r\n          this.$set(row, targetObjectBut.targetCol, resultList.join(','));\r\n        } else if (targetObjectBut.setWay === 'script') {\r\n          targetObjectBut.scriptTargets.returnData = data.rows;\r\n          targetObjectBut.scriptTargets.targetCol = targetObjectBut.targetCol;\r\n          this.scriptComputHandle(\r\n            item,\r\n            targetObjectBut.scriptTargets,\r\n            'resultButtonValue',\r\n            null,\r\n            row\r\n          );\r\n        }\r\n      } else {\r\n        this.$message.error(error.message);\r\n      }\r\n    });\r\n  }\r\n  // 表格按钮点击事件\r\n  changeClickBut(row, item, itemTable) {\r\n    if (item.setLink) {\r\n      this.buttonParameter(row, item.setLink, itemTable);\r\n    }\r\n  }\r\n\r\n  loadingColumns(cols, item) {\r\n    return cols.filter((col) => {\r\n      const { tableFormConfig } = col;\r\n      if (col.editable) {\r\n        const type = tableFormConfig ? tableFormConfig.formType : 'input';\r\n        if (\r\n          type === 'select' ||\r\n          type === 'checkboxGroup' ||\r\n          type === 'radioGroup'\r\n        ) {\r\n          this.$set(tableFormConfig, 'optionsList', []);\r\n          this.$set(tableFormConfig, 'optionsType', '');\r\n          if (tableFormConfig.sourceDataType === 'dataView') {\r\n            // 等待表单关联字段收集完成\r\n            setTimeout(() => {\r\n              if (tableFormConfig.dataQueryList.length > 0) {\r\n                this.listQueryHandle(\r\n                  tableFormConfig,\r\n                  tableFormConfig.dataQueryList,\r\n                  tableFormConfig.dataSetVal,\r\n                  'selectView'\r\n                );\r\n              } else {\r\n                this.dataViewQueryHandle(\r\n                  tableFormConfig.dataSetVal,\r\n                  tableFormConfig,\r\n                  'selectView'\r\n                );\r\n              }\r\n            }, 500);\r\n          } else if (tableFormConfig.sourceDataType === 'variable') {\r\n            if (tableFormConfig.flowVisibleCode) {\r\n              this.getFlowVariablehttp('variableChange', tableFormConfig);\r\n            }\r\n          } else if (tableFormConfig.sourceDataType === 'static') {\r\n            // 添加静态选项初始化事件触发支持\r\n            if (tableFormConfig.value) {\r\n              setTimeout(() => {\r\n                if (\r\n                  tableFormConfig.listeners &&\r\n                  tableFormConfig.listeners.change\r\n                ) {\r\n                  tableFormConfig.listeners.change(\r\n                    tableFormConfig.value,\r\n                    'auto'\r\n                  );\r\n                }\r\n              }, 500);\r\n            }\r\n          }\r\n        }\r\n        col.editer = {\r\n          key: col.prop,\r\n          type: col.tableFormConfig ? col.tableFormConfig.formType : 'input',\r\n          config: col.tableFormConfig\r\n        };\r\n      }\r\n      if (!col.hidden && col.format) {\r\n        this.configFormatCol(col);\r\n      }\r\n      if (col.label === '操作') {\r\n        col.actions = [];\r\n        if (col.buttonAdd) {\r\n          col.actions = col.buttonAdd.map((btn) => {\r\n            return {\r\n              code: btn.fieldCode,\r\n              type: btn.fieldType,\r\n              text: btn.fieldName,\r\n              onClick: (row) => this.changeClickBut(row, btn, item)\r\n            };\r\n          });\r\n        }\r\n        if (item.editable === 1 && item.addLine) {\r\n          col.actions.push({\r\n            code: 'deleteRequired',\r\n            text: '删除',\r\n            onClick: this.deleteEdit\r\n          });\r\n        }\r\n      }\r\n      return !col.hidden;\r\n    });\r\n  }\r\n\r\n  configFormatCol(col) {\r\n    if (!col.formatter) {\r\n      switch (col.format) {\r\n        case 'thousand':\r\n          col.formatter = (row, column, cellValue) => {\r\n            return currencyFormatter(cellValue, col.accuracy);\r\n          };\r\n          break;\r\n        case 'thousandPercent':\r\n          col.formatter = (row, column, cellValue) => {\r\n            return currencyFormatter(cellValue * 100, col.accuracy) + '%';\r\n          };\r\n      }\r\n    }\r\n  }\r\n}\r\n","import { createDecorator } from 'vue-class-component';\nimport { mapState, mapGetters, mapActions, mapMutations } from 'vuex';\nexport var State = createBindingHelper('computed', mapState);\nexport var Getter = createBindingHelper('computed', mapGetters);\nexport var Action = createBindingHelper('methods', mapActions);\nexport var Mutation = createBindingHelper('methods', mapMutations);\nexport function namespace(namespace, helper) {\n    function createNamespacedHelper(helper) {\n        function namespacedHelper(a, b) {\n            if (typeof b === 'string') {\n                var key = b;\n                var proto = a;\n                return helper(key, { namespace: namespace })(proto, key);\n            }\n            var type = a;\n            var options = merge(b || {}, { namespace: namespace });\n            return helper(type, options);\n        }\n        return namespacedHelper;\n    }\n    if (helper) {\n        console.warn('[vuex-class] passing the 2nd argument to `namespace` function is deprecated. pass only namespace string instead.');\n        return createNamespacedHelper(helper);\n    }\n    return {\n        State: createNamespacedHelper(State),\n        Getter: createNamespacedHelper(Getter),\n        Mutation: createNamespacedHelper(Mutation),\n        Action: createNamespacedHelper(Action)\n    };\n}\nfunction createBindingHelper(bindTo, mapFn) {\n    function makeDecorator(map, namespace) {\n        return createDecorator(function (componentOptions, key) {\n            if (!componentOptions[bindTo]) {\n                componentOptions[bindTo] = {};\n            }\n            var mapObject = (_a = {}, _a[key] = map, _a);\n            componentOptions[bindTo][key] = namespace !== undefined\n                ? mapFn(namespace, mapObject)[key]\n                : mapFn(mapObject)[key];\n            var _a;\n        });\n    }\n    function helper(a, b) {\n        if (typeof b === 'string') {\n            var key = b;\n            var proto = a;\n            return makeDecorator(key, undefined)(proto, key);\n        }\n        var namespace = extractNamespace(b);\n        var type = a;\n        return makeDecorator(type, namespace);\n    }\n    return helper;\n}\nfunction extractNamespace(options) {\n    var n = options && options.namespace;\n    if (typeof n !== 'string') {\n        return undefined;\n    }\n    if (n[n.length - 1] !== '/') {\n        return n + '/';\n    }\n    return n;\n}\nfunction merge(a, b) {\n    var res = {};\n    [a, b].forEach(function (obj) {\n        Object.keys(obj).forEach(function (key) {\n            res[key] = obj[key];\n        });\n    });\n    return res;\n}\n","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./previewFormChild.vue?vue&type=style&index=1&id=47503550&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./previewFormChild.vue?vue&type=style&index=1&id=47503550&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"previewForm\"},[_c('el-form',{attrs:{\"model\":_vm.formAttribute,\"label-width\":_vm.formConfig.labelWidth + 'px',\"label-position\":_vm.formConfig.labelPosition}},[_c('el-row',{attrs:{\"gutter\":20}},_vm._l((_vm.formConfig.formList),function(item,index){return _c('el-col',{key:item,staticClass:\"itemBox\",attrs:{\"span\":item.type === 'hidden' ? 0 : item.span}},[(!item.showForm || item.showForm === 'show')?_c('div',[(item.editable === 1 || item.readable === 1)?_c('div',[(\n                _vm.mode === 'task' &&\n                  item.editable === 1 &&\n                  item.type === 'table' &&\n                  item.addLine === true\n              )?_c('el-row',{staticClass:\"button_style\"},[_c('el-button',{on:{\"click\":function($event){return _vm.exportTable(item)}}},[_vm._v(\"导出\")]),_c('el-button',{on:{\"click\":function($event){return _vm.uploadTable(item)}}},[_vm._v(\"导入\")]),_c('el-button',{on:{\"click\":function($event){return _vm.addChange(item)}}},[_vm._v(\"新增\")])],1):_vm._e(),(_vm.mode === 'task' && item.history)?_c('div',{staticClass:\"history-badge\"},[_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.showHistoryCompare(item)}}},[_c('svg-icon',{staticClass:\"icon\",attrs:{\"icon-class\":\"red_dot\"}})],1)],1):_vm._e(),_c('el-form-item',{key:item.key,staticStyle:{\"margin-bottom\":\"20px\"},attrs:{\"prop\":'formList[' + index + '].value',\"label\":item.label,\"rules\":item.rules}},[(item.type === 'table')?_c('base-table',{staticClass:\"formTable\",attrs:{\"data-source\":item.datas,\"border-style\":true,\"cellClassName\":_vm.computeCellClass,\"border\":\"\",\"columns\":_vm.loadingColumns(item.cols, item),\"can-edit\":\"\"},on:{\"doHandleInput\":function (row, colProp, val) { return _vm.debunceInput(row['editMarkIndex'], colProp, val, item.key); },\"doEdit\":function (row, index, colProp) { return _vm.handleDoInput(\n                      row['editMarkIndex'],\n                      colProp.prop,\n                      row[colProp.prop],\n                      item.key,\n                      true\n                    ); }}}):(item.type === 'ueditor')?_c('ueditor',{staticClass:\"ueditor\",attrs:{\"onEditBlur\":item.onEditBlur,\"itemValue\":item,\"disable\":item.readable === 1}}):(item.type === 'childFrom')?_c('previewFormChild',{attrs:{\"formAttribute\":item.value,\"taskId\":_vm.taskId,\"processInstanceId\":_vm.processInstanceId,\"taskDealStationId\":_vm.taskDealStationId}}):(item.type === 'button')?_c('el-button',{attrs:{\"type\":item.buttonType,\"disabled\":_vm.mode !== 'task'},on:{\"click\":function($event){return _vm.buttonChange(item)}}},[_vm._v(_vm._s(item.value))]):(item.type === 'alert')?_c('el-alert',{attrs:{\"title\":item.value,\"type\":item.alertType,\"center\":item.centerFont,\"description\":item.description,\"closable\":false,\"show-icon\":item.showIcon}}):(item.type === 'upload')?_c('el-upload',{ref:\"upload\",refInFor:true,staticClass:\"uploadList\",attrs:{\"drag\":\"\",\"action\":\"/api/file-service/file/upload\",\"list-type\":\"picture-card\",\"auto-upload\":_vm.mode === 'task' ? true : false,\"headers\":_vm.uploadHeader,\"file-list\":item.value,\"disabled\":item.readable === 1,\"on-success\":function (response, file, fileList) {\n                    return _vm.successList(response, file, fileList, index);\n                  }},scopedSlots:_vm._u([{key:\"file\",fn:function(ref){\n                  var file = ref.file;\nreturn _c('div',{staticClass:\"filestyle-li\"},[_c('svg-icon',{staticClass:\"file-img\",attrs:{\"icon-class\":_vm.fileType(file.name)}}),_c('p',[_c('span',{staticClass:\"file-name\"},[_vm._v(_vm._s(file.name))]),_c('span',{staticClass:\"file-delete\",on:{\"click\":function($event){return _vm.handleFileRemove(file, index)}}},[_vm._v(\"删除\")]),_c('span',{staticClass:\"file-delete\",on:{\"click\":function($event){return _vm.download(file.url)}}},[_vm._v(\"下载\")])]),_c('p',[(file.status === 'success')?_c('span',{staticClass:\"flie-suc\"},[_vm._v(\"上传完成\")]):_vm._e(),(file.status === 'error')?_c('span',{staticClass:\"flie-error\"},[_vm._v(\"上传失败\")]):_vm._e()])],1)}}],null,true)},[(item.editable === 1)?_c('i',{staticClass:\"el-icon-plus\"}):_vm._e()]):_c('customItemRender',{attrs:{\"type\":item.type,\"config\":{\n                  placeholder: item.placeholder || '',\n                  key: item.key,\n                  value: item.value,\n                  goods: item,\n                  multiple: item.itemMultiple,\n                  options:\n                    item.optionsType === 'viewsData'\n                      ? item.optionsList\n                      : item.options || [],\n                  listeners: item.listeners\n                }}})],1)],1):_vm._e()]):_vm._e()])}),1)],1),_c('simple-dialog',{attrs:{\"dialog-title\":\"变更历史\",\"dialog-visible\":_vm.modifysVisible,\"dialog-width\":\"66%\",\"save-text\":\"确 定\",\"cancel-text\":\"取 消\",\"botton-show\":\"true\"},on:{\"update:dialogVisible\":function($event){_vm.modifysVisible=$event},\"update:dialog-visible\":function($event){_vm.modifysVisible=$event},\"saveEmit\":_vm.certain,\"cancelEmit\":function($event){_vm.modifysVisible = false}}},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.historyLoading),expression:\"historyLoading\"}]},[_c('base-table',{attrs:{\"data-source\":_vm.tableCompareContainer,\"columns\":_vm.tableCompareColumns,\"cellClassName\":_vm.computeCellClass,\"border-style\":true,\"border\":\"\"}})],1)]),(_vm.childFromExist === true && _vm.dialogSwitch)?_c('simple-dialog',{attrs:{\"dialog-title\":\"新增\",\"dialog-visible\":_vm.dialogSwitch,\"dialog-width\":\"870px\",\"save-text\":\"确 定\",\"cancel-text\":\"取 消\",\"botton-show\":\"true\"},on:{\"update:dialogVisible\":function($event){_vm.dialogSwitch=$event},\"update:dialog-visible\":function($event){_vm.dialogSwitch=$event},\"saveEmit\":function () { return _vm.tableFormSave(_vm.formAttributeAlert); },\"cancelEmit\":function () { return _vm.cancelSwitch(); }}},[_c('previewFormChild',{attrs:{\"formAttribute\":_vm.formAttributeAlert,\"taskId\":_vm.taskId,\"processInstanceId\":_vm.processInstanceId,\"taskDealStationId\":_vm.taskDealStationId}})],1):_vm._e(),(_vm.childFromExist === false && _vm.dialogSwitch)?_c('addContent',{ref:\"advance\",attrs:{\"dialog-title\":_vm.dialogTitle,\"dialog-test-switch\":_vm.dialogSwitch,\"params-list\":_vm.addTableList},on:{\"saveEmitSwitch\":function () { return _vm.treeDataTest(); },\"cancelEmitSwitch\":function () { return _vm.cancelSwitch(); }}}):_vm._e(),_c('simple-dialog',{attrs:{\"dialogTitle\":\"文件导入\",\"dialog-visible\":_vm.importDialogVisible,\"botton-show\":\"true\",\"dialogWidth\":\"500px\"},on:{\"saveEmit\":function () { return _vm.doUpload(); },\"cancelEmit\":function () { return _vm.closeDialog(); }}},[_c('el-row',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"gutter\":10,\"element-loading-text\":'上传中...',\"element-loading-spinner\":\"el-icon-loading\"}},[_c('el-col',{attrs:{\"md\":24}},[_c('el-upload',{ref:\"netUpload\",staticClass:\"netVal-import\",attrs:{\"name\":\"files\",\"action\":\"importApi\",\"multiple\":\"\",\"file-list\":_vm.importFiles,\"on-change\":function (file, fileList) { return _vm.handleUploadFileChange(file, fileList); },\"on-remove\":function (file, fileList) { return _vm.onRemove(file, fileList); },\"auto-upload\":false}},[_c('el-button',{staticClass:\"defaultBtn\",attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"选择文件\")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"previewForm\"},[_c('el-form',{attrs:{\"model\":_vm.formAttribute,\"label-width\":_vm.formConfig.labelWidth + 'px',\"label-position\":_vm.formConfig.labelPosition}},[_c('el-row',{attrs:{\"gutter\":20}},_vm._l((_vm.formConfig.formList),function(item,index){return _c('el-col',{key:item,staticClass:\"itemBox\",attrs:{\"span\":item.type === 'hidden' ? 0 : item.span}},[(!item.showForm || item.showForm === 'show')?_c('div',[(item.editable === 1 || item.readable === 1)?_c('div',[(\n                _vm.mode === 'task' &&\n                  item.editable === 1 &&\n                  item.type === 'table' &&\n                  item.addLine === true\n              )?_c('el-row',{staticClass:\"button_style\"},[_c('el-button',{on:{\"click\":function($event){return _vm.exportTable(item)}}},[_vm._v(\"导出\")]),_c('el-button',{on:{\"click\":function($event){return _vm.uploadTable(item)}}},[_vm._v(\"导入\")]),_c('el-button',{on:{\"click\":function($event){return _vm.addChange(item)}}},[_vm._v(\"新增\")])],1):_vm._e(),(_vm.mode === 'task' && item.history)?_c('div',{staticClass:\"history-badge\"},[_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.showHistoryCompare(item)}}},[_c('svg-icon',{staticClass:\"icon\",attrs:{\"icon-class\":\"red_dot\"}})],1)],1):_vm._e(),_c('el-form-item',{key:item.key,staticStyle:{\"margin-bottom\":\"20px\"},attrs:{\"prop\":'formList[' + index + '].value',\"label\":item.label,\"rules\":item.rules}},[(item.type === 'table')?_c('base-table',{staticClass:\"formTable\",attrs:{\"data-source\":item.datas,\"border-style\":true,\"cellClassName\":_vm.computeCellClass,\"border\":\"\",\"columns\":_vm.loadingColumns(item.cols, item),\"can-edit\":\"\"},on:{\"doHandleInput\":function (row, colProp, val) { return _vm.debunceInput(row['editMarkIndex'], colProp, val, item.key); },\"doEdit\":function (row, index, colProp) { return _vm.handleDoInput(\n                      row['editMarkIndex'],\n                      colProp.prop,\n                      row[colProp.prop],\n                      item.key,\n                      true\n                    ); }}}):(item.type === 'ueditor')?_c('ueditor',{staticClass:\"ueditor\",attrs:{\"onEditBlur\":item.onEditBlur,\"itemValue\":item}}):(item.type === 'childFrom')?_c('previewFormChild',{attrs:{\"formAttribute\":item.value,\"taskId\":_vm.taskId,\"processInstanceId\":_vm.processInstanceId,\"taskDealStationId\":_vm.taskDealStationId}}):(item.type === 'button')?_c('el-button',{attrs:{\"type\":item.buttonType,\"disabled\":_vm.mode !== 'task'},on:{\"click\":function($event){return _vm.buttonChange(item)}}},[_vm._v(_vm._s(item.value))]):(item.type === 'alert')?_c('el-alert',{attrs:{\"title\":item.value,\"type\":item.alertType,\"center\":item.centerFont,\"description\":item.description,\"closable\":false,\"show-icon\":item.showIcon}}):(item.type === 'upload')?_c('el-upload',{ref:\"upload\",refInFor:true,staticClass:\"uploadList\",attrs:{\"action\":\"/api/file-service/file/upload\",\"list-type\":\"picture-card\",\"auto-upload\":_vm.mode === 'task' ? true : false,\"headers\":_vm.uploadHeader,\"file-list\":item.value,\"disabled\":item.readable === 1,\"on-success\":function (response, file, fileList) {\n                    return _vm.successList(response, file, fileList, index);\n                  }},scopedSlots:_vm._u([{key:\"file\",fn:function(ref){\n                  var file = ref.file;\nreturn _c('div',{staticClass:\"filestyle-li\"},[_c('svg-icon',{staticClass:\"file-img\",attrs:{\"icon-class\":_vm.fileType(file.name)}}),_c('p',[_c('span',{staticClass:\"file-name\"},[_vm._v(_vm._s(file.name))]),_c('span',{staticClass:\"file-delete\",on:{\"click\":function($event){return _vm.handleFileRemove(file, index)}}},[_vm._v(\"删除\")]),_c('span',{staticClass:\"file-delete\",on:{\"click\":function($event){return _vm.download(file.url)}}},[_vm._v(\"下载\")])]),_c('p',[(file.status === 'success')?_c('span',{staticClass:\"flie-suc\"},[_vm._v(\"上传完成\")]):_vm._e(),(file.status === 'error')?_c('span',{staticClass:\"flie-error\"},[_vm._v(\"上传失败\")]):_vm._e()])],1)}}],null,true)},[(item.editable === 1)?_c('i',{staticClass:\"el-icon-plus\"}):_vm._e()]):_c('customItemRender',{attrs:{\"type\":item.type,\"config\":{\n                  placeholder: item.placeholder || '',\n                  key: item.key,\n                  value: item.value,\n                  goods: item,\n                  multiple: item.itemMultiple,\n                  options:\n                    item.optionsType === 'viewsData'\n                      ? item.optionsList\n                      : item.options || [],\n                  listeners: item.listeners\n                }}})],1)],1):_vm._e()]):_vm._e()])}),1)],1),_c('simple-dialog',{attrs:{\"dialog-title\":\"变更历史\",\"dialog-visible\":_vm.modifysVisible,\"dialog-width\":\"66%\",\"save-text\":\"确 定\",\"cancel-text\":\"取 消\",\"botton-show\":\"true\"},on:{\"update:dialogVisible\":function($event){_vm.modifysVisible=$event},\"update:dialog-visible\":function($event){_vm.modifysVisible=$event},\"saveEmit\":_vm.certain,\"cancelEmit\":function($event){_vm.modifysVisible = false}}},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.historyLoading),expression:\"historyLoading\"}]},[_c('base-table',{attrs:{\"data-source\":_vm.tableCompareContainer,\"columns\":_vm.tableCompareColumns,\"cellClassName\":_vm.computeCellClass,\"border-style\":true,\"border\":\"\"}})],1)]),_c('addContent',{ref:\"advance\",attrs:{\"dialog-title\":_vm.dialogTitle,\"dialog-test-switch\":_vm.dialogSwitch,\"params-list\":_vm.addTableList},on:{\"saveEmitSwitch\":function () { return _vm.treeDataTest(); },\"cancelEmitSwitch\":function () { return _vm.cancelSwitch(); }}}),_c('simple-dialog',{attrs:{\"dialogTitle\":\"文件导入\",\"dialog-visible\":_vm.importDialogVisible,\"botton-show\":\"true\",\"dialogWidth\":\"500px\"},on:{\"saveEmit\":function () { return _vm.doUpload(); },\"cancelEmit\":function () { return _vm.closeDialog(); }}},[_c('el-row',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"gutter\":10,\"element-loading-text\":'上传中...',\"element-loading-spinner\":\"el-icon-loading\"}},[_c('el-col',{attrs:{\"md\":24}},[_c('el-upload',{ref:\"netUpload\",staticClass:\"netVal-import\",attrs:{\"name\":\"files\",\"action\":\"importApi\",\"multiple\":\"\",\"file-list\":_vm.importFiles,\"on-change\":function (file, fileList) { return _vm.handleUploadFileChange(file, fileList); },\"on-remove\":function (file, fileList) { return _vm.onRemove(file, fileList); },\"auto-upload\":false}},[_c('el-button',{staticClass:\"defaultBtn\",attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"选择文件\")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component } from 'vue-property-decorator';\r\nimport previewFormChild from './previewFormChild.vue';\r\nimport addContent from '../../../viewDateManagent/component/addContent.vue';\r\nimport customItemRender from '@components/renders/customItemRender.js';\r\nimport ueditor from './ueditor.vue';\r\nimport formMixin from './mixin';\r\n@Component({\r\n  components: { customItemRender, ueditor, addContent, previewFormChild }\r\n})\r\nexport default class PreviewFormChild extends formMixin {\r\n  // 新增-取消\r\n  cancelSwitch() {\r\n    this.addTableList = [];\r\n    this.dialogSwitch = false;\r\n  }\r\n  created() {\r\n    if (this.formAttribute) {\r\n      this.getVisible(this.formAttribute);\r\n    }\r\n    this.userCode = this.$store.state.user.userInfo.usercode;\r\n  }\r\n}\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./previewFormChild.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./previewFormChild.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./previewFormChild.vue?vue&type=template&id=47503550&scoped=true&\"\nimport script from \"./previewFormChild.vue?vue&type=script&lang=ts&\"\nexport * from \"./previewFormChild.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./previewFormChild.vue?vue&type=style&index=0&lang=scss&\"\nimport style1 from \"./previewFormChild.vue?vue&type=style&index=1&id=47503550&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"47503550\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component } from 'vue-property-decorator';\r\nimport { arrayFind } from '@utils/util';\r\nimport previewFormChild from './previewFormChild.vue';\r\nimport addContent from '../../../viewDateManagent/component/addContent.vue';\r\nimport customItemRender from '@components/renders/customItemRender.js';\r\nimport ueditor from './ueditor.vue';\r\nimport formMixin from './mixin';\r\nimport { cloneDeep } from 'lodash';\r\n@Component({\r\n  components: { customItemRender, ueditor, addContent, previewFormChild }\r\n})\r\nexport default class PreviewForm extends formMixin {\r\n  // 表格删除\r\n  deleteEdit(row) {\r\n    this.formAttribute.formList.forEach((item) => {\r\n      if (item.type === 'table') {\r\n        for (let i = 0; i < item.datas.length; i++) {\r\n          if (item.datas[i].editMarkIndex === row.editMarkIndex) {\r\n            item.datas.splice(i, 1);\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n  tableFormSave(form) {\r\n    const same: any = {};\r\n    const item = arrayFind(this.formAttribute.formList, 'key', this.labelTable);\r\n    form.formList.forEach((ele) => {\r\n      item.cols.forEach((e) => {\r\n        // debugger\r\n        if ((ele.fieldName || ele.label) === e.fieldName) {\r\n          if (ele.value instanceof Array && ele.value !== '') {\r\n            // console.log('2',ele.value)\r\n            this.$set(same, e.fieldCode, ele.value.join(','));\r\n          } else {\r\n            // console.log('3',ele.value)\r\n            this.$set(\r\n              same,\r\n              e.fieldCode,\r\n              ele.realValue ? ele.realValue : ele.value\r\n            );\r\n          }\r\n        }\r\n      });\r\n    });\r\n\r\n    let splitTable = item.splitTable;\r\n    if (splitTable) {\r\n      if (!Array.isArray(splitTable)) {\r\n        splitTable = [splitTable];\r\n      }\r\n      const batRows = splitTable.reduce(\r\n        (prev, cur) => {\r\n          const tr: any = [];\r\n          prev.forEach((entity) => {\r\n            same[cur].split(',').forEach((bat) => {\r\n              const ssame = cloneDeep(entity);\r\n              ssame[cur] = bat;\r\n              tr.push(ssame);\r\n            });\r\n          });\r\n          return tr;\r\n        },\r\n        [same]\r\n      );\r\n\r\n      this.doTableRowAdd(item, batRows);\r\n    } else {\r\n      this.doTableRowAdd(item, [same]);\r\n    }\r\n    this.dialogSwitch = false;\r\n  }\r\n  // 新增-取消\r\n  cancelSwitch() {\r\n    this.addTableList = [];\r\n    this.dialogSwitch = false;\r\n  }\r\n\r\n  created() {\r\n    if (this.formAttribute) {\r\n      this.getVisible(this.formAttribute);\r\n    }\r\n    this.userCode = this.$store.state.user.userInfo.usercode;\r\n  }\r\n}\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./previewForm.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./previewForm.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./previewForm.vue?vue&type=template&id=75a9379a&scoped=true&\"\nimport script from \"./previewForm.vue?vue&type=script&lang=ts&\"\nexport * from \"./previewForm.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./previewForm.vue?vue&type=style&index=0&lang=scss&\"\nimport style1 from \"./previewForm.vue?vue&type=style&index=1&id=75a9379a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"75a9379a\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomForm.vue?vue&type=style&index=0&id=76359e5e&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomForm.vue?vue&type=style&index=0&id=76359e5e&lang=scss&scoped=true&\"","import { mapMutations } from 'vuex';\r\nimport cloneDeep from 'lodash/cloneDeep';\r\n\r\nfunction extractProps(paramKeys, sources, target = {}) {\r\n  /**\r\n   * 从源对象中提取指定属性到目标对象\r\n   * @argument paramKeys 需要提取的属性名称组成的数组\r\n   */\r\n  for (const key of paramKeys) {\r\n    const val = sources[key];\r\n    if (val) {\r\n      if (typeof val === 'object') {\r\n        target[key] = cloneDeep(val);\r\n      } else {\r\n        target[key] = val;\r\n      }\r\n    }\r\n  }\r\n\r\n  return target;\r\n}\r\n\r\n/**\r\n * 组件data临时缓存mixin，用于将组件data中的数据提升到store中\r\n * 比如实现分页查询页面从编辑页返回后显示编辑前的页码\r\n * cacheKeys: 组件中待缓存的data中的属性名，属性值不能是函数\r\n * namespace：命名空间，处理一个路由下有多个组件的情况\r\n * keep：是否保留缓存结果，若为true，则不再阅读之后清除\r\n */\r\nexport default function(cacheKeys, namespace, keep) {\r\n  return {\r\n    computed: {\r\n      moduleName() {\r\n        return `${this.$route.path}${namespace ? '_' + namespace : ''}`;\r\n      },\r\n      cacheParams() {\r\n        return this.$store.state.dataCache.params[this.moduleName];\r\n      }\r\n    },\r\n    methods: {\r\n      ...mapMutations(['SET_CACHE_PARAMS']),\r\n      cacheParamData() {\r\n        /**\r\n         * 缓存组件data中的数据\r\n         */\r\n        this.SET_CACHE_PARAMS({\r\n          moduleName: this.moduleName,\r\n          params: extractProps(cacheKeys, this)\r\n        });\r\n      },\r\n      recoveryDataParams() {\r\n        /**\r\n         * 恢复组件data中被缓存的参数,如果不传，则默认使用cacheParamKeys\r\n         */\r\n        if (this.cacheParams) {\r\n          //  直接提取缓存对象中的参数到组件data中\r\n          extractProps(cacheKeys, this.cacheParams, this);\r\n          //  阅后即焚\r\n          if (!keep) {\r\n            this.SET_CACHE_PARAMS({\r\n              moduleName: this.moduleName\r\n            });\r\n          }\r\n        }\r\n      }\r\n    },\r\n    created() {\r\n      this.recoveryDataParams();\r\n    }\r\n  };\r\n}\r\n","'use strict';\nvar collection = require('../internals/collection');\nvar collectionStrong = require('../internals/collection-strong');\n\n// `Set` constructor\n// https://tc39.github.io/ecma262/#sec-set-objects\nmodule.exports = collection('Set', function (init) {\n  return function Set() { return init(this, arguments.length ? arguments[0] : undefined); };\n}, collectionStrong);\n","'use strict';\nvar defineProperty = require('../internals/object-define-property').f;\nvar create = require('../internals/object-create');\nvar redefineAll = require('../internals/redefine-all');\nvar bind = require('../internals/function-bind-context');\nvar anInstance = require('../internals/an-instance');\nvar iterate = require('../internals/iterate');\nvar defineIterator = require('../internals/define-iterator');\nvar setSpecies = require('../internals/set-species');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fastKey = require('../internals/internal-metadata').fastKey;\nvar InternalStateModule = require('../internals/internal-state');\n\nvar setInternalState = InternalStateModule.set;\nvar internalStateGetterFor = InternalStateModule.getterFor;\n\nmodule.exports = {\n  getConstructor: function (wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, CONSTRUCTOR_NAME);\n      setInternalState(that, {\n        type: CONSTRUCTOR_NAME,\n        index: create(null),\n        first: undefined,\n        last: undefined,\n        size: 0\n      });\n      if (!DESCRIPTORS) that.size = 0;\n      if (iterable != undefined) iterate(iterable, that[ADDER], that, IS_MAP);\n    });\n\n    var getInternalState = internalStateGetterFor(CONSTRUCTOR_NAME);\n\n    var define = function (that, key, value) {\n      var state = getInternalState(that);\n      var entry = getEntry(that, key);\n      var previous, index;\n      // change existing entry\n      if (entry) {\n        entry.value = value;\n      // create new entry\n      } else {\n        state.last = entry = {\n          index: index = fastKey(key, true),\n          key: key,\n          value: value,\n          previous: previous = state.last,\n          next: undefined,\n          removed: false\n        };\n        if (!state.first) state.first = entry;\n        if (previous) previous.next = entry;\n        if (DESCRIPTORS) state.size++;\n        else that.size++;\n        // add to index\n        if (index !== 'F') state.index[index] = entry;\n      } return that;\n    };\n\n    var getEntry = function (that, key) {\n      var state = getInternalState(that);\n      // fast case\n      var index = fastKey(key);\n      var entry;\n      if (index !== 'F') return state.index[index];\n      // frozen object case\n      for (entry = state.first; entry; entry = entry.next) {\n        if (entry.key == key) return entry;\n      }\n    };\n\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear() {\n        var that = this;\n        var state = getInternalState(that);\n        var data = state.index;\n        var entry = state.first;\n        while (entry) {\n          entry.removed = true;\n          if (entry.previous) entry.previous = entry.previous.next = undefined;\n          delete data[entry.index];\n          entry = entry.next;\n        }\n        state.first = state.last = undefined;\n        if (DESCRIPTORS) state.size = 0;\n        else that.size = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function (key) {\n        var that = this;\n        var state = getInternalState(that);\n        var entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.next;\n          var prev = entry.previous;\n          delete state.index[entry.index];\n          entry.removed = true;\n          if (prev) prev.next = next;\n          if (next) next.previous = prev;\n          if (state.first == entry) state.first = next;\n          if (state.last == entry) state.last = prev;\n          if (DESCRIPTORS) state.size--;\n          else that.size--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /* , that = undefined */) {\n        var state = getInternalState(this);\n        var boundFunction = bind(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n        var entry;\n        while (entry = entry ? entry.next : state.first) {\n          boundFunction(entry.value, entry.key, this);\n          // revert to the last existing entry\n          while (entry && entry.removed) entry = entry.previous;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key) {\n        return !!getEntry(this, key);\n      }\n    });\n\n    redefineAll(C.prototype, IS_MAP ? {\n      // 23.1.3.6 Map.prototype.get(key)\n      get: function get(key) {\n        var entry = getEntry(this, key);\n        return entry && entry.value;\n      },\n      // 23.1.3.9 Map.prototype.set(key, value)\n      set: function set(key, value) {\n        return define(this, key === 0 ? 0 : key, value);\n      }\n    } : {\n      // 23.2.3.1 Set.prototype.add(value)\n      add: function add(value) {\n        return define(this, value = value === 0 ? 0 : value, value);\n      }\n    });\n    if (DESCRIPTORS) defineProperty(C.prototype, 'size', {\n      get: function () {\n        return getInternalState(this).size;\n      }\n    });\n    return C;\n  },\n  setStrong: function (C, CONSTRUCTOR_NAME, IS_MAP) {\n    var ITERATOR_NAME = CONSTRUCTOR_NAME + ' Iterator';\n    var getInternalCollectionState = internalStateGetterFor(CONSTRUCTOR_NAME);\n    var getInternalIteratorState = internalStateGetterFor(ITERATOR_NAME);\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    defineIterator(C, CONSTRUCTOR_NAME, function (iterated, kind) {\n      setInternalState(this, {\n        type: ITERATOR_NAME,\n        target: iterated,\n        state: getInternalCollectionState(iterated),\n        kind: kind,\n        last: undefined\n      });\n    }, function () {\n      var state = getInternalIteratorState(this);\n      var kind = state.kind;\n      var entry = state.last;\n      // revert to the last existing entry\n      while (entry && entry.removed) entry = entry.previous;\n      // get next entry\n      if (!state.target || !(state.last = entry = entry ? entry.next : state.state.first)) {\n        // or finish the iteration\n        state.target = undefined;\n        return { value: undefined, done: true };\n      }\n      // return step by kind\n      if (kind == 'keys') return { value: entry.key, done: false };\n      if (kind == 'values') return { value: entry.value, done: false };\n      return { value: [entry.key, entry.value], done: false };\n    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(CONSTRUCTOR_NAME);\n  }\n};\n","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./previewFormChild.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./previewFormChild.vue?vue&type=style&index=0&lang=scss&\"","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar InternalMetadataModule = require('../internals/internal-metadata');\nvar iterate = require('../internals/iterate');\nvar anInstance = require('../internals/an-instance');\nvar isObject = require('../internals/is-object');\nvar fails = require('../internals/fails');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar inheritIfRequired = require('../internals/inherit-if-required');\n\nmodule.exports = function (CONSTRUCTOR_NAME, wrapper, common) {\n  var IS_MAP = CONSTRUCTOR_NAME.indexOf('Map') !== -1;\n  var IS_WEAK = CONSTRUCTOR_NAME.indexOf('Weak') !== -1;\n  var ADDER = IS_MAP ? 'set' : 'add';\n  var NativeConstructor = global[CONSTRUCTOR_NAME];\n  var NativePrototype = NativeConstructor && NativeConstructor.prototype;\n  var Constructor = NativeConstructor;\n  var exported = {};\n\n  var fixMethod = function (KEY) {\n    var nativeMethod = NativePrototype[KEY];\n    redefine(NativePrototype, KEY,\n      KEY == 'add' ? function add(value) {\n        nativeMethod.call(this, value === 0 ? 0 : value);\n        return this;\n      } : KEY == 'delete' ? function (key) {\n        return IS_WEAK && !isObject(key) ? false : nativeMethod.call(this, key === 0 ? 0 : key);\n      } : KEY == 'get' ? function get(key) {\n        return IS_WEAK && !isObject(key) ? undefined : nativeMethod.call(this, key === 0 ? 0 : key);\n      } : KEY == 'has' ? function has(key) {\n        return IS_WEAK && !isObject(key) ? false : nativeMethod.call(this, key === 0 ? 0 : key);\n      } : function set(key, value) {\n        nativeMethod.call(this, key === 0 ? 0 : key, value);\n        return this;\n      }\n    );\n  };\n\n  // eslint-disable-next-line max-len\n  if (isForced(CONSTRUCTOR_NAME, typeof NativeConstructor != 'function' || !(IS_WEAK || NativePrototype.forEach && !fails(function () {\n    new NativeConstructor().entries().next();\n  })))) {\n    // create collection constructor\n    Constructor = common.getConstructor(wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER);\n    InternalMetadataModule.REQUIRED = true;\n  } else if (isForced(CONSTRUCTOR_NAME, true)) {\n    var instance = new Constructor();\n    // early implementations not supports chaining\n    var HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance;\n    // V8 ~ Chromium 40- weak-collections throws on primitives, but should return false\n    var THROWS_ON_PRIMITIVES = fails(function () { instance.has(1); });\n    // most early implementations doesn't supports iterables, most modern - not close it correctly\n    // eslint-disable-next-line no-new\n    var ACCEPT_ITERABLES = checkCorrectnessOfIteration(function (iterable) { new NativeConstructor(iterable); });\n    // for early implementations -0 and +0 not the same\n    var BUGGY_ZERO = !IS_WEAK && fails(function () {\n      // V8 ~ Chromium 42- fails only with 5+ elements\n      var $instance = new NativeConstructor();\n      var index = 5;\n      while (index--) $instance[ADDER](index, index);\n      return !$instance.has(-0);\n    });\n\n    if (!ACCEPT_ITERABLES) {\n      Constructor = wrapper(function (dummy, iterable) {\n        anInstance(dummy, Constructor, CONSTRUCTOR_NAME);\n        var that = inheritIfRequired(new NativeConstructor(), dummy, Constructor);\n        if (iterable != undefined) iterate(iterable, that[ADDER], that, IS_MAP);\n        return that;\n      });\n      Constructor.prototype = NativePrototype;\n      NativePrototype.constructor = Constructor;\n    }\n\n    if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {\n      fixMethod('delete');\n      fixMethod('has');\n      IS_MAP && fixMethod('get');\n    }\n\n    if (BUGGY_ZERO || HASNT_CHAINING) fixMethod(ADDER);\n\n    // weak collections should not contains .clear method\n    if (IS_WEAK && NativePrototype.clear) delete NativePrototype.clear;\n  }\n\n  exported[CONSTRUCTOR_NAME] = Constructor;\n  $({ global: true, forced: Constructor != NativeConstructor }, exported);\n\n  setToStringTag(Constructor, CONSTRUCTOR_NAME);\n\n  if (!IS_WEAK) common.setStrong(Constructor, CONSTRUCTOR_NAME, IS_MAP);\n\n  return Constructor;\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"template-box polymerization-table\"},[(_vm.block.goods)?[(!_vm.preview)?[(_vm.blockQueryParams && _vm.blockQueryParams.length)?_c('el-form',{staticClass:\"block-param-form\",class:{\n          echartsBoxForm:\n            ['PieBlock', 'LineBlock', 'BarBlock'].indexOf(_vm.componentkey) !==\n            -1,\n          minWidth: _vm.block && _vm.block.width === 1\n        },attrs:{\"inline\":true,\"label-suffix\":\":\",\"label-position\":\"left\"}},[_vm._l((_vm.blockQueryParams),function(item){return _c('el-form-item',{key:item.name,staticClass:\"block-param-form-item\",attrs:{\"label\":item.name,\"required\":item.required === 0}},[(item.type === 0 || item.type === 1)?_c('el-input',{model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}}):_vm._e(),(item.type === 2)?_c('el-date-picker',{attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\"},model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}}):_vm._e(),(item.type === 3)?_c('el-select',{model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}},[_c('el-option',{attrs:{\"value\":\"0\",\"label\":\"否\"}}),_c('el-option',{attrs:{\"value\":\"1\",\"label\":\"是\"}})],1):_vm._e()],1)}),(_vm.blockQueryParams && _vm.blockQueryParams.length)?_c('el-button',{on:{\"click\":function () { return _vm.getRealContentById(_vm.block); }}},[_vm._v(\"查询\")]):_vm._e()],2):_vm._e(),_c(_vm.componentkey,_vm._g(_vm._b({ref:\"componentBlock\",tag:\"component\",class:{\n          echartsBox:\n            ['PieBlock', 'LineBlock', 'BarBlock'].indexOf(_vm.componentkey) !== -1\n        },attrs:{\"preview\":_vm.preview,\"block\":_vm.block}},'component',_vm.$attrs,false),_vm.$listeners))]:_c('simple-card',{attrs:{\"title\":_vm.block.goods.showBlockName && _vm.block.goods.blockName,\"noTitle\":!_vm.block.goods.showBlockName}},[(_vm.blockQueryParams && _vm.blockQueryParams.length)?_c('el-form',{staticClass:\"block-param-form\",class:{ minWidth: _vm.block && _vm.block.width === 1 },attrs:{\"inline\":true,\"label-suffix\":\":\",\"label-position\":\"left\"}},[_vm._l((_vm.blockQueryParams),function(item){return _c('el-form-item',{key:item.name,staticClass:\"block-param-form-item\",attrs:{\"label\":item.name,\"required\":item.required === 0}},[(item.type === 0 || item.type === 1)?_c('el-input',{model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}}):_vm._e(),(item.type === 2)?_c('el-date-picker',{attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\"},model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}}):_vm._e(),(item.type === 3)?_c('el-select',{model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}},[_c('el-option',{attrs:{\"value\":\"0\",\"label\":\"否\"}}),_c('el-option',{attrs:{\"value\":\"1\",\"label\":\"是\"}})],1):_vm._e()],1)}),(_vm.blockQueryParams && _vm.blockQueryParams.length)?_c('el-button',{on:{\"click\":function () { return _vm.getRealContentById(_vm.block); }}},[_vm._v(\"查询\")]):_vm._e()],2):_vm._e(),_c(_vm.componentkey,_vm._g(_vm._b({ref:\"componentBlock\",tag:\"component\",class:{\n          tableBox: _vm.componentkey === 'TableBlock'\n        },attrs:{\"preview\":_vm.preview,\"block\":_vm.block}},'component',_vm.$attrs,false),_vm.$listeners))],1)]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('base-table',{staticClass:\"pageTemplateTable\",attrs:{\"data-source\":_vm.dataSource,\"columns\":_vm.columns,\"height\":_vm.height < '320' ? _vm.height : '320'},on:{\"cellClick\":_vm.cellClick}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { cloneDeep } from 'lodash';\r\nimport { Component, Vue, Prop, Emit } from 'vue-property-decorator';\r\nimport { updateTableData } from '@api/pageTemplate';\r\nimport { namespace } from 'vuex-class';\r\nconst pageTemplate = namespace('pageTemplate');\r\n\r\n@Component\r\nexport default class TableChart extends Vue {\r\n  @Prop({ default: [] }) dataSource: Array<any>;\r\n  @Prop() block: any;\r\n  @pageTemplate.Mutation('UPDATE_ACTIVE_BLOCK') updateActiveBlock;\r\n\r\n  @Emit('changeGrid') changeGrid() {}\r\n  @Emit('displayTemplateDetail') displayTemplateDetail(id) {}\r\n\r\n  get columns() {\r\n    const columns = (this.block.goods && this.block.goods.columns) || [];\r\n    columns.forEach((item: any) => {\r\n      if (item.canSet) {\r\n        item.render = (h: any, { record }) => {\r\n          if (record.isEdit === true) {\r\n            return h('el-input', {\r\n              props: {\r\n                value: record[item.prop],\r\n                clearable: true,\r\n                placeholder: '请输入参数code'\r\n              },\r\n              on: {\r\n                input: (value) => {\r\n                  record[item.prop] = value;\r\n                  this.handleUpdateData(record);\r\n                }\r\n              }\r\n            });\r\n          } else {\r\n            return h('span', record[item.prop]);\r\n          }\r\n        };\r\n      } else {\r\n        item.render = null;\r\n      }\r\n    });\r\n    const currentBlock = cloneDeep(this.block);\r\n    currentBlock.goods.columns = columns;\r\n    // this.updateActiveBlock(currentBlock);\r\n    this.changeGrid();\r\n    return columns;\r\n  }\r\n  get height() {\r\n    return this.dataSource.length ? this.dataSource.length * 32 + 50 : '100%';\r\n  }\r\n\r\n  @Emit('queryRelationDataset') queryRelationDataset(info) {}\r\n\r\n  cellClick(row, column, cell, event) {\r\n    this.queryRelationDataset({\r\n      type: 'chart',\r\n      cell: row[column.property],\r\n      relationBlock: this.block.id\r\n    });\r\n  }\r\n\r\n  // 表格可编辑列内容修改\r\n  handleUpdateData(row: any) {\r\n    updateTableData(row).then(({ error }: { error: any }) => {\r\n      if (error) {\r\n        this.$message.error(error.message);\r\n      } else {\r\n        this.displayTemplateDetail(this.$route.query.id);\r\n      }\r\n    });\r\n  }\r\n}\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tableChart.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tableChart.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./tableChart.vue?vue&type=template&id=16eba687&\"\nimport script from \"./tableChart.vue?vue&type=script&lang=ts&\"\nexport * from \"./tableChart.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./tableChart.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"min-height\":\"300px\"},on:{\"resize-chart\":_vm.resizeChart}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\r\nimport { Component, Vue, Prop, Watch, Emit } from 'vue-property-decorator';\r\nimport echarts from 'echarts';\r\n\r\n@Component\r\nexport default class PieChart extends Vue {\r\n  @Prop() block: any;\r\n  @Prop({ default: [] }) dataSource: any;\r\n\r\n  get label() {\r\n    return (this.block.goods && this.block.goods.label) || '';\r\n  }\r\n\r\n  get value() {\r\n    return (this.block.goods && this.block.goods.value) || '';\r\n  }\r\n\r\n  get pieType() {\r\n    return (this.block.goods && this.block.goods.pieType) || '';\r\n  }\r\n\r\n  @Emit('queryRelationDataset') queryRelationDataset(info) {}\r\n\r\n  @Watch('dataSource')\r\n  onDataSourceChange() {\r\n    this.initChart();\r\n  }\r\n  @Watch('label')\r\n  onLabelChange() {\r\n    this.initChart();\r\n  }\r\n  @Watch('value')\r\n  onValueChange() {\r\n    this.initChart();\r\n  }\r\n  @Watch('pieType')\r\n  onPieTypeChange() {\r\n    this.initChart();\r\n  }\r\n\r\n  private chart: any = null;\r\n  private options: any = {\r\n    tooltip: {\r\n      trigger: 'item'\r\n    },\r\n    color: [\r\n      'rgba(42, 118, 205, 0.85)',\r\n      'rgba(43, 188, 184, 0.85)',\r\n      'rgba(68, 179, 101, 0.85)',\r\n      'rgba(234, 169, 38, 0.85)',\r\n      'rgba(204, 61, 61, 0.85)',\r\n      'rgba(133, 84, 201, 0.85)',\r\n      'rgba(60, 58, 154, 0.85)',\r\n      'rgba(58, 71, 119, 0.85)'\r\n    ],\r\n    legend: {\r\n      orient: 'vertical',\r\n      left: 'left',\r\n      data: []\r\n    },\r\n    series: []\r\n  };\r\n\r\n  resizeChart() {\r\n    setTimeout(() => {\r\n      this.chart && this.chart.resize();\r\n    }, 100);\r\n  }\r\n\r\n  initChart() {\r\n    this.chart = echarts.init(this.$el as any);\r\n    this.chart.setOption(this.options);\r\n\r\n    this.refreshChart();\r\n    this.clickChart();\r\n  }\r\n\r\n  refreshChart() {\r\n    if (this.dataSource) {\r\n      if (this.label) {\r\n        this.chart.setOption({\r\n          legend: {\r\n            data: this.dataSource.map((item: any) => item[this.label])\r\n          }\r\n        });\r\n      }\r\n      let radius: any = '55%';\r\n      if (this.pieType === '1') {\r\n        radius = ['50%', '70%'];\r\n      } else if (this.pieType === '2') {\r\n        radius = ['20%', '70%'];\r\n      }\r\n      if (this.value) {\r\n        const name = this.label || this.value;\r\n        this.chart.setOption({\r\n          series: [\r\n            {\r\n              name: '',\r\n              type: 'pie',\r\n              radius: radius,\r\n              center: ['50%', '60%'],\r\n              roseType: this.pieType === '2' ? 'radius' : false,\r\n              data: this.dataSource.map((item: any) => {\r\n                return {\r\n                  value: item[this.value],\r\n                  name: item[name]\r\n                };\r\n              }),\r\n              itemStyle: {\r\n                emphasis: {\r\n                  shadowBlur: 10,\r\n                  shadowOffsetX: 0,\r\n                  shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n                },\r\n                normal: {\r\n                  borderColor: '#ffffff',\r\n                  borderWidth: 1\r\n                }\r\n              }\r\n            }\r\n          ]\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  clickChart() {\r\n    this.chart.off('click');\r\n    this.chart.on('click', (param) => {\r\n      this.queryRelationDataset({\r\n        type: 'chart',\r\n        label: param.name,\r\n        value: param.value,\r\n        relationBlock: this.block.id\r\n      });\r\n    });\r\n  }\r\n}\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pieChart.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./pieChart.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./pieChart.vue?vue&type=template&id=79f2f617&\"\nimport script from \"./pieChart.vue?vue&type=script&lang=ts&\"\nexport * from \"./pieChart.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"height\":\"300px\"},on:{\"resize-chart\":_vm.resizeChart}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\r\nimport { Component, Vue, Prop, Watch, Emit } from 'vue-property-decorator';\r\nimport echarts from 'echarts';\r\n\r\n@Component\r\nexport default class LineChart extends Vue {\r\n  @Prop() block: any;\r\n  @Prop({ default: [] }) dataSource: any;\r\n\r\n  get xaxis() {\r\n    return (this.block.goods && this.block.goods.xaxis) || '';\r\n  }\r\n  get yaxis() {\r\n    return (this.block.goods && this.block.goods.yaxis) || [];\r\n  }\r\n\r\n  @Emit('queryRelationDataset') queryRelationDataset(info) {}\r\n\r\n  @Watch('dataSource')\r\n  onDataSourceChange() {\r\n    this.initChart();\r\n  }\r\n  @Watch('xaxis')\r\n  onXAxisChange() {\r\n    this.initChart();\r\n  }\r\n  @Watch('yaxis')\r\n  onYAxisChange(newVal: any, oldVal: any) {\r\n    if (JSON.stringify(newVal) !== JSON.stringify(oldVal)) {\r\n      this.initChart();\r\n    }\r\n  }\r\n\r\n  private chart: any = null;\r\n\r\n  resizeChart() {\r\n    setTimeout(() => {\r\n      this.chart && this.chart.resize();\r\n    }, 100);\r\n  }\r\n\r\n  initChart() {\r\n    this.chart = echarts.init(this.$el as any);\r\n    this.refreshData();\r\n    this.clickChart();\r\n  }\r\n\r\n  refreshData() {\r\n    if (this.dataSource) {\r\n      let xData: Array<any> = [];\r\n      const seriesData: Array<any> = [];\r\n      this.yaxis.forEach((items: any) => {\r\n        xData = [];\r\n        let obj = {};\r\n        const seriesList: Array<any> = [];\r\n        this.dataSource.forEach((item: any) => {\r\n          xData.push(item[this.xaxis]);\r\n          seriesList.push(item[items.code]);\r\n        });\r\n        obj = {\r\n          name: items.label,\r\n          data: seriesList,\r\n          type: 'line',\r\n          showSymbol: false,\r\n          symbolSize: 8\r\n        };\r\n        seriesData.push(obj);\r\n      });\r\n      this.chart.setOption(\r\n        {\r\n          textStyle: {\r\n            color: 'rgba(60, 68, 85, 0.7)'\r\n          },\r\n          animation: false,\r\n          color: [\r\n            'rgba(42, 118, 205, 0.85)',\r\n            'rgba(43, 188, 184, 0.85)',\r\n            'rgba(68, 179, 101, 0.85)',\r\n            'rgba(234, 169, 38, 0.85)',\r\n            'rgba(204, 61, 61, 0.85)',\r\n            'rgba(133, 84, 201, 0.85)',\r\n            'rgba(60, 58, 154, 0.85)',\r\n            'rgba(58, 71, 119, 0.85)'\r\n          ],\r\n          tooltip: {\r\n            trigger: 'axis',\r\n            axisPointer: {\r\n              type: 'cross'\r\n            }\r\n          },\r\n          grid: {\r\n            left: '7%',\r\n            right: '4%',\r\n            bottom: '8%',\r\n            containLabel: true\r\n          },\r\n          yAxis: [\r\n            {\r\n              type: 'value',\r\n              name: '',\r\n              nameTextStyle: {\r\n                padding: [0, 24, 10, 0]\r\n              },\r\n              axisLine: { show: false },\r\n              axisTick: { show: false },\r\n              splitLine: {\r\n                lineStyle: {\r\n                  color: '#dde3ea',\r\n                  type: 'dashed'\r\n                }\r\n              }\r\n            }\r\n          ],\r\n          xAxis: {\r\n            name: '',\r\n            type: 'category',\r\n            nameLocation: 'start',\r\n            nameTextStyle: { padding: [50, 0, 0, 50] },\r\n            axisTick: { show: false },\r\n            axisLine: { show: false },\r\n            axisLabel: {\r\n              rotate: -20\r\n            },\r\n            data: xData\r\n          },\r\n          series: seriesData\r\n        },\r\n        true\r\n      );\r\n    }\r\n  }\r\n\r\n  clickChart() {\r\n    this.chart.off('click');\r\n    this.chart.on('click', (param) => {\r\n      this.queryRelationDataset({\r\n        type: 'chart',\r\n        x: param.name,\r\n        y: param.value,\r\n        relationBlock: this.block.id\r\n      });\r\n    });\r\n  }\r\n}\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./lineChart.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./lineChart.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./lineChart.vue?vue&type=template&id=be0a2ba8&\"\nimport script from \"./lineChart.vue?vue&type=script&lang=ts&\"\nexport * from \"./lineChart.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"height\":\"300px\"},on:{\"resize-chart\":_vm.resizeChart}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\r\nimport { Component, Vue, Prop, Watch, Emit } from 'vue-property-decorator';\r\nimport echarts from 'echarts';\r\n\r\n@Component\r\nexport default class BarChart extends Vue {\r\n  @Prop({ default: [] }) dataSource: any;\r\n  @Prop() block: any;\r\n\r\n  get xaxis() {\r\n    return (this.block.goods && this.block.goods.xaxis) || '';\r\n  }\r\n  get yaxis() {\r\n    return (this.block.goods && this.block.goods.yaxis) || [];\r\n  }\r\n\r\n  @Emit('queryRelationDataset') queryRelationDataset(info) {}\r\n\r\n  @Watch('dataSource')\r\n  onDataSourceChange() {\r\n    this.initChart();\r\n  }\r\n  @Watch('xaxis')\r\n  onXAxisChange() {\r\n    this.initChart();\r\n  }\r\n  @Watch('yaxis')\r\n  onYAxisChange(newVal: any, oldVal) {\r\n    if (JSON.stringify(newVal) !== JSON.stringify(oldVal)) {\r\n      this.initChart();\r\n    }\r\n  }\r\n\r\n  private chart: any = null;\r\n\r\n  resizeChart() {\r\n    setTimeout(() => {\r\n      this.chart && this.chart.resize();\r\n    }, 100);\r\n  }\r\n\r\n  initChart() {\r\n    this.chart = echarts.init(this.$el as any);\r\n    this.refreshData();\r\n    this.clickChart();\r\n  }\r\n\r\n  refreshData() {\r\n    if (this.dataSource) {\r\n      let xData: Array<any> = [];\r\n      const seriesData: Array<any> = [];\r\n      this.yaxis.forEach((items) => {\r\n        xData = [];\r\n        let obj: any = {};\r\n        const seriesList: Array<any> = [];\r\n        this.dataSource.forEach((item: any) => {\r\n          xData.push(item[this.xaxis]);\r\n          seriesList.push(item[items.code]);\r\n        });\r\n        obj = {\r\n          name: items.label,\r\n          data: seriesList,\r\n          type: 'bar'\r\n        };\r\n        seriesData.push(obj);\r\n      });\r\n      this.chart.setOption(\r\n        {\r\n          color: [\r\n            'rgba(42, 118, 205, 0.85)',\r\n            'rgba(43, 188, 184, 0.85)',\r\n            'rgba(68, 179, 101, 0.85)',\r\n            'rgba(234, 169, 38, 0.85)',\r\n            'rgba(204, 61, 61, 0.85)',\r\n            'rgba(133, 84, 201, 0.85)',\r\n            'rgba(60, 58, 154, 0.85)',\r\n            'rgba(58, 71, 119, 0.85)'\r\n          ],\r\n          tooltip: {\r\n            trigger: 'axis',\r\n            axisPointer: {\r\n              // 坐标轴指示器，坐标轴触发有效\r\n              type: 'shadow' // 默认为直线，可选为：'line' | 'shadow'\r\n            }\r\n          },\r\n          grid: {\r\n            left: '3%',\r\n            right: '4%',\r\n            bottom: '3%',\r\n            containLabel: true\r\n          },\r\n          yAxis: {\r\n            type: 'value'\r\n          },\r\n          xAxis: {\r\n            name: '',\r\n            type: 'category',\r\n            axisTick: {\r\n              alignWithLabel: true\r\n            },\r\n            axisLabel: {\r\n              rotate: -20\r\n            },\r\n            data: xData\r\n          },\r\n          series: seriesData\r\n        },\r\n        true\r\n      );\r\n    }\r\n  }\r\n\r\n  clickChart() {\r\n    this.chart.off('click');\r\n    this.chart.on('click', (param) => {\r\n      this.queryRelationDataset({\r\n        type: 'chart',\r\n        x: param.name,\r\n        y: param.value,\r\n        relationBlock: this.block.id\r\n      });\r\n    });\r\n  }\r\n}\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./barChart.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./barChart.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./barChart.vue?vue&type=template&id=3df1802d&\"\nimport script from \"./barChart.vue?vue&type=script&lang=ts&\"\nexport * from \"./barChart.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"previewForm\"},[(this.formAttribute.saveAddress !== undefined)?_c('el-row',[_c('el-button',{staticStyle:{\"float\":\"right\",\"margin-right\":\"20px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveFormData}},[_vm._v(\"保 存\")])],1):_vm._e(),_c('el-row',[_c('perviewForm',{ref:\"previewFormRef\",attrs:{\"formAttribute\":_vm.formAttribute}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue, Prop, Emit } from 'vue-property-decorator';\r\nimport { namespace } from 'vuex-class';\r\nimport { cloneDeep } from 'lodash';\r\nimport { formDetail, saveFormData } from '@api/customForm';\r\nimport perviewForm from '@views/processConfig/customForm/compoents/previewForm.vue';\r\n\r\nconst pageTemplate = namespace('pageTemplate');\r\n\r\n@Component({\r\n  components: { perviewForm }\r\n})\r\nexport default class CustomForm extends Vue {\r\n  @pageTemplate.Mutation('UPDATE_ACTIVE_BLOCK') updateActiveBlock;\r\n  @pageTemplate.State((state) => state.activeBlock) activeBlock: any;\r\n\r\n  @Prop({ default: {} }) block: any;\r\n  @Prop({ default: {} }) activeFormItem: any;\r\n  @Prop() preview: boolean;\r\n  @Prop({ default: [] }) beRelatedFromItemList: any;\r\n\r\n  @Emit('activeFormItemChange') updateActiveFormItem(item: any) {}\r\n  @Emit('queryRelationDataset') queryRelationDataset(info) {}\r\n\r\n  private query: any = '';\r\n\r\n  get currentBlock() {\r\n    return cloneDeep(this.activeBlock);\r\n  }\r\n\r\n  get formAttribute() {\r\n    return (this.block.goods && this.block.goods.formAttribute) || {};\r\n  }\r\n\r\n  // 根据详情地址 获取返显数据\r\n  created(): void {\r\n    if (this.$route.query && JSON.stringify(this.$route.query) !== '{}') {\r\n      this.query = this.$route.query;\r\n      this.getTemplateDetail();\r\n    }\r\n  }\r\n\r\n  // 当前块中被其他图表作为视图参数的表单项\r\n  get formItemQueryParams() {\r\n    const formItemQueryParams: any = [];\r\n    this.formAttribute.formList &&\r\n      this.formAttribute.formList.map((item) => {\r\n        if (\r\n          this.beRelatedFromItemList.some((innerItem) => item.key === innerItem)\r\n        ) {\r\n          formItemQueryParams.push({\r\n            formItemKey: item.key,\r\n            formItemValue: item.value\r\n          });\r\n        }\r\n      });\r\n    return formItemQueryParams;\r\n  }\r\n\r\n  stopBubble(e?) {\r\n    // 如果提供了事件对象，则这是一个非IE浏览器\r\n    if (e && e.stopPropagation)\r\n      // 因此它支持W3C的stopPropagation()方法\r\n      e.stopPropagation();\r\n    // 否则，我们需要使用IE的方式来取消事件冒泡\r\n    else (window.event as any).cancelBubble = true;\r\n  }\r\n\r\n  formItemClick(formItem) {\r\n    this.stopBubble();\r\n    if (this.currentBlock.id !== this.block.id) {\r\n      this.updateActiveBlock(cloneDeep(this.block));\r\n    }\r\n    this.updateActiveFormItem(formItem);\r\n  }\r\n\r\n  itemDeleteClick(formItem, index) {\r\n    if (this.currentBlock.id !== this.block.id) {\r\n      this.updateActiveBlock(cloneDeep(this.block));\r\n    }\r\n\r\n    this.formAttribute.formList.splice(index, 1);\r\n    this.updateActiveFormItem(\r\n      this.formAttribute.formList.length ? this.formAttribute.formList[0] : {}\r\n    );\r\n\r\n    if (\r\n      this.currentBlock &&\r\n      this.currentBlock.goods &&\r\n      this.currentBlock.goods.formAttribute\r\n    ) {\r\n      const formList = this.currentBlock.goods.formAttribute.formList;\r\n      const i = formList.findIndex((item: any) => item.key === formItem.key);\r\n      formList.splice(i, 1);\r\n      this.updateActiveBlock(cloneDeep(this.currentBlock));\r\n    }\r\n  }\r\n\r\n  handleFormItemChange(val, formItem) {\r\n    const activeFormItem =\r\n      formItem.key !== this.activeFormItem.key\r\n        ? cloneDeep(formItem)\r\n        : cloneDeep(this.activeFormItem);\r\n    activeFormItem.value = val;\r\n    this.updateActiveFormItem(activeFormItem);\r\n  }\r\n\r\n  loop = (formAttribute, data) => {\r\n    for (let i = 0; i < formAttribute.length; i++) {\r\n      if (formAttribute[i].type !== 'childFrom') {\r\n        formAttribute[i].editable = 1;\r\n        formAttribute[i].readable = 0;\r\n        formAttribute[i].value = data[formAttribute[i].key];\r\n      } else {\r\n        Object.keys(data).forEach((res) => {\r\n          if (\r\n            formAttribute[i].value.formList !== undefined &&\r\n            formAttribute[i].key === res\r\n          ) {\r\n            this.loop(formAttribute[i].value.formList, data[res]);\r\n          }\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  washFormEditable(formList) {\r\n    formList &&\r\n      formList.forEach((formItem) => {\r\n        if (formItem.type !== 'childFrom') {\r\n          formItem.editable = 1;\r\n          formItem.readable = 0;\r\n        } else {\r\n          this.washFormEditable(formItem.value.formList);\r\n        }\r\n      });\r\n  }\r\n\r\n  // 获取页面模板详情\r\n  getTemplateDetail() {\r\n    const paramId: any = this.query;\r\n    const url: any = this.formAttribute.detailAddress;\r\n    const params = {\r\n      url,\r\n      paramId\r\n    };\r\n    if (this.formAttribute.detailAddress) {\r\n      formDetail(params).then(({ data, error }: any) => {\r\n        if (!error) {\r\n          this.loop(this.formAttribute.formList, data);\r\n        } else {\r\n          this.$message.error(error.message || '获取数据失败');\r\n        }\r\n      });\r\n    } else {\r\n      this.washFormEditable(this.formAttribute.formList);\r\n    }\r\n  }\r\n\r\n  // 表单参数\r\n  paramsObtain() {\r\n    const param = {};\r\n    // 不校验当前页面隐藏（editable为1），但标记为必输的表单项字段\r\n    if (Object.prototype.hasOwnProperty.call(this.formAttribute, 'formList')) {\r\n      this.formAttribute.formList.forEach((item: any) => {\r\n        // 只保存显示的表单项值\r\n        if (\r\n          (!item.showForm || item.showForm === 'show') &&\r\n          (item.editable === 1 || item.readable === 1)\r\n        ) {\r\n          if (item.type === 'table') {\r\n            // 删除编辑状态\r\n            if (item.datas) {\r\n              item.datas.forEach((item) => {\r\n                delete item['edits'];\r\n                delete item['beModified'];\r\n              });\r\n              this.$set(param, item.key, item.datas);\r\n            }\r\n          } else if (item.type === 'childFrom') {\r\n            const childParam = {};\r\n            item.value.formList.forEach((itemChild) => {\r\n              if (itemChild.type === 'table') {\r\n                if (itemChild.datas) {\r\n                  itemChild.datas.forEach((item) => delete item['edits']);\r\n                  this.$set(childParam, itemChild.key, itemChild.datas);\r\n                }\r\n              } else {\r\n                this.$set(childParam, itemChild.key, itemChild.value);\r\n              }\r\n            });\r\n            this.$set(param, item.key, childParam);\r\n          } else if (Object.prototype.hasOwnProperty.call(item, 'realValue')) {\r\n            this.$set(param, item.key, item.realValue);\r\n          } else {\r\n            this.$set(param, item.key, item.value);\r\n          }\r\n        }\r\n      });\r\n    }\r\n    Object.keys(this.query).forEach((res) => {\r\n      this.$set(param, res, this.query[res]);\r\n    });\r\n    return {\r\n      param\r\n    };\r\n  }\r\n\r\n  vaildForm() {\r\n    let vaild = true;\r\n    if (this.formAttribute.formList) {\r\n      const tempArr = this.formAttribute.formList.filter((item) => {\r\n        return (!item.showForm || item.showForm === 'show') && item.editable;\r\n      });\r\n      if (\r\n        tempArr.some(\r\n          (item) => item.type !== 'table' && item.required && !item.value\r\n        )\r\n      ) {\r\n        this.$message.warning('请先完成必填表单项输入');\r\n        vaild = false;\r\n      }\r\n    }\r\n    return vaild;\r\n  }\r\n\r\n  // 收集表单信息\r\n  saveFormData = () => {\r\n    if (this.vaildForm() && this.formAttribute.saveAddress !== undefined) {\r\n      const paramsObtain = this.paramsObtain().param;\r\n      const saveAddress = this.formAttribute.saveAddress;\r\n      const params = {\r\n        paramsObtain,\r\n        saveAddress\r\n      };\r\n      saveFormData(params).then(({ data, error }) => {\r\n        if (error) {\r\n          this.$message.error(error.message);\r\n        } else {\r\n          this.$message.success('保存成功');\r\n        }\r\n      });\r\n    }\r\n  };\r\n}\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomForm.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomForm.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CustomForm.vue?vue&type=template&id=76359e5e&scoped=true&\"\nimport script from \"./CustomForm.vue?vue&type=script&lang=ts&\"\nexport * from \"./CustomForm.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./CustomForm.vue?vue&type=style&index=0&id=76359e5e&lang=scss&scoped=true&\"\nimport style1 from \"./CustomForm.vue?vue&type=style&index=1&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"76359e5e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"monitorChart\",style:({ borderColor: _vm.block.goods.monitorColor }),on:{\"click\":_vm.handleQueryData}},[_c('div',{staticClass:\"info\"},[_c('div',{staticClass:\"left-info\"},[_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(this.block.goods.monitorName ? this.block.goods.monitorName : '监控名称'))]),_c('p',{staticClass:\"ratio\",style:({ color: _vm.customColor })},[_c('span',[_vm._v(\" \"+_vm._s(this.block.goods.completeCount ? this.completed : '监控分子'))]),_c('span',{staticClass:\"line\"},[_vm._v(\" / \")]),_c('span',[_vm._v(\" \"+_vm._s(this.block.goods.allCount ? this.all : ' 监控分母'))])])]),_vm._m(0)]),_c('div',{staticClass:\"progress\"},[_c('el-progress',{attrs:{\"percentage\":_vm.percentage,\"color\":_vm.customColor,\"show-text\":false}}),_c('p',[_vm._v(\"当前进度：\"+_vm._s(_vm.percentage)+\" %\")])],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"imgStyle\"},[_c('img',{attrs:{\"src\":require(\"../../../assets/images/outer.png\")}})])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue, Prop, Watch, Emit } from 'vue-property-decorator';\r\nimport { currencyFormatter } from '@utils/util';\r\n@Component\r\nexport default class MonitorChart extends Vue {\r\n  // @Prop() monitorName: String;\r\n  @Prop() block: any;\r\n  @Prop({ default: [] }) dataSource: any;\r\n  @Emit('getDataByCard') getDataByCard(info) {}\r\n  private customColor: any = '#409eff';\r\n  private all: any = 0;\r\n  private completed: any = 0;\r\n  // private percentage: number = 0;\r\n\r\n  get percentage() {\r\n    return this.completed && this.all\r\n      ? currencyFormatter((this.completed / this.all) * 100)\r\n      : 0;\r\n  }\r\n\r\n  @Watch('dataSource')\r\n  onDataSourceChange() {\r\n    const goods = this.block.goods;\r\n    this.all =\r\n      this.dataSource.length > 0 ? this.dataSource[0][goods.allCount] : 0;\r\n    this.completed =\r\n      this.dataSource.length > 0 ? this.dataSource[0][goods.completeCount] : 0;\r\n  }\r\n\r\n  handleQueryData() {\r\n    if (this.block && this.block.goods.monitorName) {\r\n      this.getDataByCard({\r\n        type: 'monitorSteps',\r\n        monitorName: this.block.goods.monitorName\r\n      });\r\n    }\r\n  }\r\n}\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./monitorChart.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./monitorChart.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./monitorChart.vue?vue&type=template&id=5faf71c4&\"\nimport script from \"./monitorChart.vue?vue&type=script&lang=ts&\"\nexport * from \"./monitorChart.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./monitorChart.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"monitorSteps\",on:{\"click\":_vm.handleQueryData}},_vm._l((_vm.stepsList),function(item,index){return _c('div',{key:index,staticClass:\"stepItem\"},[_c('div',{staticClass:\"itemInfo\"},[_c('p',{staticClass:\"stepName\"},[_vm._v(_vm._s(item.monitorName ? item.monitorName : '节点' + (index + 1) + '监控名称'))]),_c('p',{staticClass:\"allCount\"},[_vm._v(_vm._s(item.all))]),_c('div',{staticClass:\"progress\"},[_c('el-progress',{attrs:{\"type\":\"circle\",\"percentage\":item.percentage,\"show-text\":false,\"color\":\"#2464B3\",\"stroke-width\":15}}),(index !== _vm.stepsList.length - 1)?_c('div',{staticClass:\"itemLine\"}):_vm._e()],1),_c('p',{staticClass:\"complatedStep\"},[_c('span',[_vm._v(\"待处理：\")]),_c('span',[_vm._v(_vm._s(item.uncomplete))])]),_c('p',{staticClass:\"uncomplated\"},[_c('span',[_vm._v(\"已处理：\")]),_c('span',[_vm._v(_vm._s(item.completed))])])])])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue, Prop, Watch, Emit } from 'vue-property-decorator';\r\nimport { namespace } from 'vuex-class';\r\nconst pageTemplate = namespace('pageTemplate');\r\nimport { cloneDeep } from 'lodash';\r\n\r\n@Component\r\nexport default class MonitorSteps extends Vue {\r\n  @Prop({ default: {} }) block: any;\r\n  @Prop() dataSource: any;\r\n  @Emit('getDataByCard') getDataByCard(info) {}\r\n\r\n  get stepsList() {\r\n    const list =\r\n      this.block && this.block.goods.stepsList\r\n        ? cloneDeep(this.block.goods.stepsList)\r\n        : [];\r\n    if (list.length && this.dataSource && this.dataSource.length) {\r\n      list.forEach((item: any, index: any) => {\r\n        item.all =\r\n          item.allCount && this.dataSource[index] && this.dataSource[index][0]\r\n            ? this.dataSource[index][0][item.allCount]\r\n            : 0;\r\n        item.completed =\r\n          item.completeCount &&\r\n          this.dataSource[index] &&\r\n          this.dataSource[index][0]\r\n            ? this.dataSource[index][0][item.completeCount]\r\n            : 0;\r\n        item.uncomplete = item.all - item.completed;\r\n        item.percentage = (item.completed / item.all) * 100;\r\n      });\r\n    }\r\n    return list;\r\n  }\r\n\r\n  // 根据卡片名称查询表格数据\r\n  handleQueryData() {\r\n    const monitorName = this.stepsList.map((item: any) => {\r\n      return item.monitorName;\r\n    });\r\n    if (monitorName.length) {\r\n      this.getDataByCard({\r\n        type: 'monitorSteps',\r\n        monitorName: monitorName\r\n      });\r\n    }\r\n  }\r\n}\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./monitorSteps.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./monitorSteps.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./monitorSteps.vue?vue&type=template&id=65235070&\"\nimport script from \"./monitorSteps.vue?vue&type=script&lang=ts&\"\nexport * from \"./monitorSteps.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./monitorSteps.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue, Prop, Emit, Watch } from 'vue-property-decorator';\r\nimport { namespace } from 'vuex-class';\r\nimport { cloneDeep } from 'lodash';\r\nimport TableBlock from './tableChart.vue';\r\nimport PieBlock from './pieChart.vue';\r\nimport LineBlock from './lineChart.vue';\r\nimport BarBlock from './barChart.vue';\r\nimport CustomForm from './CustomForm.vue';\r\nimport MonitorChart from './monitorChart.vue';\r\nimport MonitorSteps from './monitorSteps.vue';\r\nconst pageTemplate = namespace('pageTemplate');\r\n\r\n@Component({\r\n  components: {\r\n    TableBlock,\r\n    PieBlock,\r\n    LineBlock,\r\n    BarBlock,\r\n    CustomForm,\r\n    MonitorChart,\r\n    MonitorSteps\r\n  }\r\n})\r\nexport default class TemplateBlock extends Vue {\r\n  @Prop({ default: false }) preview: boolean;\r\n  @Prop() block: any;\r\n  @Emit('getRealContentById') getRealContentById(block) {}\r\n\r\n  get blockQueryParams() {\r\n    return (\r\n      (this.block.goods &&\r\n        this.block.goods.queryParams &&\r\n        this.block.goods.queryParams.filter((item) => item.valueBy === '1')) ||\r\n      []\r\n    );\r\n  }\r\n  get componentkey() {\r\n    let result = '';\r\n    if (this.block.goods) {\r\n      const type = this.block.goods.type;\r\n      if (type === 'table') {\r\n        result = 'TableBlock';\r\n      } else if (type === 'pie') {\r\n        result = 'PieBlock';\r\n      } else if (type === 'line') {\r\n        result = 'LineBlock';\r\n      } else if (type === 'bar') {\r\n        result = 'BarBlock';\r\n      } else if (type === 'singleForm' || type === 'doubleForm') {\r\n        result = 'CustomForm';\r\n      } else if (type === 'monitorChart') {\r\n        result = 'MonitorChart';\r\n      } else if (type === 'monitorSteps') {\r\n        result = 'MonitorSteps';\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n\r\n  resizeChart() {\r\n    const refs: any = this.$refs;\r\n    refs.componentBlock.resizeChart && refs.componentBlock.resizeChart();\r\n  }\r\n}\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./templateBlock.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./templateBlock.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./templateBlock.vue?vue&type=template&id=8afc86a4&\"\nimport script from \"./templateBlock.vue?vue&type=script&lang=ts&\"\nexport * from \"./templateBlock.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./templateBlock.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { arrayFind, currencyFormatter, thousandthFormatter } from '@utils/util';\r\nimport { cloneDeep } from 'lodash';\r\n\r\nexport function changeBlockFields(dataNode, block) {\r\n  let fun = null;\r\n  switch (block.goods.type) {\r\n    case 'table':\r\n      fun = changeTableConfig;\r\n      break;\r\n    case 'pie':\r\n      fun = changePieConfig;\r\n      break;\r\n    case 'line':\r\n      fun = changLineConfig;\r\n      break;\r\n    case 'bar':\r\n      fun = changBarConfig;\r\n      break;\r\n    case 'monitorChart':\r\n      fun = changeMonitorChartConfig;\r\n      break;\r\n    default:\r\n  }\r\n  if (dataNode.data) {\r\n    return fun(dataNode.data, block.goods);\r\n  } else {\r\n    return fun(dataNode, block.goods);\r\n  }\r\n}\r\n\r\nfunction changeTableConfig(node, goods) {\r\n  // 调整table的columns配置，如果还有其他配置，也可以在这儿完成\r\n  if (!goods.columns) {\r\n    goods.columns = [];\r\n  }\r\n  if (node.fields) {\r\n    node.fields.forEach((item) => {\r\n      if (!arrayFind(goods.columns, 'fieldCode', item.fieldCode)) {\r\n        const newData = {};\r\n        newData.label = item.fieldName;\r\n        newData.prop = item.fieldCode;\r\n        newData.fieldCode = item.fieldCode;\r\n        newData.align = item.align || 'center';\r\n        newData.headerAlign = 'center';\r\n        newData.fieldType = item.fieldType;\r\n        newData.showOverflowTooltip = true;\r\n        newData.canSet = item.canSet || 0;\r\n\r\n        if (item.fieldType === 1) {\r\n          newData.format = item.format || '';\r\n        } else if (item.fieldType === 2) {\r\n          newData.format = item.format || 'yyyy-MM-dd';\r\n        } else {\r\n          newData.format = '';\r\n        }\r\n        newData.formatter = getFormatter(item.format);\r\n        goods.columns.push(newData);\r\n      }\r\n    });\r\n  } else {\r\n    if (!arrayFind(goods.columns, 'fieldCode', node.fieldCode)) {\r\n      const newData = {};\r\n      newData.label = node.fieldName;\r\n      newData.prop = node.fieldCode;\r\n      newData.fieldCode = node.fieldCode;\r\n      newData.align = node.align || 'center';\r\n      newData.headerAlign = 'center';\r\n      newData.fieldType = node.fieldType;\r\n      newData.showOverflowTooltip = true;\r\n      newData.canSet = node.canSet || 0;\r\n\r\n      if (node.fieldType === 1) {\r\n        newData.format = node.format || '';\r\n      } else if (node.fieldType === 2) {\r\n        newData.format = node.format || 'yyyy-MM-dd';\r\n      } else {\r\n        newData.format = '';\r\n      }\r\n      newData.formatter = getFormatter(node.format);\r\n      goods.columns.push(newData);\r\n    }\r\n  }\r\n}\r\n\r\nfunction changePieConfig(node, goods) {\r\n  if (node.fields) {\r\n    return '只能拖入节点，不能拖入整个数据集';\r\n  } else {\r\n    if (node.attrFlag === 'pieLabel') {\r\n      if (!goods.label) {\r\n        goods.label = node.fieldCode;\r\n        goods.pieType = node.pieType;\r\n      } else {\r\n        return 'repeat';\r\n      }\r\n    }\r\n    if (node.attrFlag === 'pieValue') {\r\n      if (!goods.value) {\r\n        goods.value = node.fieldCode;\r\n        goods.pieType = node.pieType;\r\n      } else {\r\n        return 'repeat';\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction changLineConfig(node, goods) {\r\n  if (node.fields) {\r\n    return '只能拖入节点，不能拖入整个数据集';\r\n  } else {\r\n    if (node.attrFlag === 'xaxis') {\r\n      if (!goods.label) {\r\n        goods.xaxis = node.fieldCode;\r\n      } else {\r\n        return 'repeat';\r\n      }\r\n    }\r\n    if (node.attrFlag === 'yaxis') {\r\n      if (!goods.yaxis) {\r\n        goods.yaxis = [];\r\n      }\r\n      const lineChartArr = goods.yaxis;\r\n      if (!arrayFind(lineChartArr, 'fieldCode', node.fieldCode)) {\r\n        lineChartArr.push({\r\n          code: node.fieldCode,\r\n          label: node.name\r\n        });\r\n      } else {\r\n        return 'repeat';\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction changBarConfig(node, goods) {\r\n  if (node.fields) {\r\n    return '只能拖入节点，不能拖入整个数据集';\r\n  } else {\r\n    if (node.attrFlag === 'xaxis') {\r\n      if (!goods.label) {\r\n        goods.xaxis = node.fieldCode;\r\n      } else {\r\n        return 'repeat';\r\n      }\r\n    }\r\n    if (node.attrFlag === 'yaxis') {\r\n      if (!goods.yaxis) {\r\n        goods.yaxis = [];\r\n      }\r\n      const barArr = goods.yaxis;\r\n      if (!arrayFind(barArr, 'fieldCode', node.fieldCode)) {\r\n        barArr.push({\r\n          code: node.fieldCode,\r\n          label: node.name\r\n        });\r\n      } else {\r\n        return 'repeat';\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction changeMonitorChartConfig(node, goods) {\r\n  if (node.fields) {\r\n    return '只能拖入节点，不能拖入整个数据集';\r\n  } else {\r\n    if (node.attrFlag === 'completeCount') {\r\n      goods.completeCount = node.fieldCode;\r\n    } else if (node.attrFlag === 'allCount') {\r\n      goods.allCount = node.fieldCode;\r\n    }\r\n  }\r\n}\r\n\r\n// 获取布局的行数\r\nexport function getGridROWS(grid) {\r\n  return (\r\n    grid.reduce((item1, item2) =>\r\n      item1.gridRowEnd > item2.gridRowEnd ? item1 : item2\r\n    ).gridRowEnd - 1\r\n  );\r\n}\r\n\r\n// 获取布局的列数\r\nexport function getGridCOLUMNS(grid) {\r\n  return (\r\n    grid.reduce((item1, item2) =>\r\n      item1.gridColumnEnd > item2.gridColumnEnd ? item1 : item2\r\n    ).gridColumnEnd - 1\r\n  );\r\n}\r\n\r\n// 格式化方法\r\nexport function getFormatter(type) {\r\n  let fun = null;\r\n  switch (type) {\r\n    case 'thousand':\r\n      fun = function(row, column) {\r\n        return thousandthFormatter(row[column.property]);\r\n      };\r\n      break;\r\n    case 'amount':\r\n      fun = function(row, column) {\r\n        return currencyFormatter(row[column.property]);\r\n      };\r\n      break;\r\n    case 'yyyy-MM-dd':\r\n      fun = function(row, column) {\r\n        return dateFormat(row[column.property], '-');\r\n      };\r\n      break;\r\n    case 'yyyy/MM/dd':\r\n      fun = function(row, column) {\r\n        return dateFormat(row[column.property], '/');\r\n      };\r\n      break;\r\n    default:\r\n      fun = function(row, column) {\r\n        return row[column.property];\r\n      };\r\n  }\r\n  return fun;\r\n}\r\n\r\nfunction dateFormat(date, type) {\r\n  const d = new Date(date);\r\n  const year = d.getFullYear();\r\n  let month = d.getMonth() + 1;\r\n  let day = d.getDate();\r\n  if (month < 10) month = `0${month}`;\r\n  if (day < 10) day = `0${day}`;\r\n  return `${year}${type}${month}${type}${day}`;\r\n}\r\n\r\nexport function randomString(length, chars) {\r\n  let result = '';\r\n  for (let i = length; i > 0; --i) {\r\n    result += chars[Math.floor(Math.random() * chars.length)];\r\n  }\r\n  return result;\r\n}\r\n","'use strict';\nvar $ = require('../internals/export');\nvar $every = require('../internals/array-iteration').every;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('every');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('every');\n\n// `Array.prototype.every` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.every\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH }, {\n  every: function every(callbackfn /* , thisArg */) {\n    return $every(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./previewForm.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./previewForm.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomForm.vue?vue&type=style&index=1&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomForm.vue?vue&type=style&index=1&lang=scss&\"","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  return Object.isExtensible(Object.preventExtensions({}));\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"index-page-template\"},[_c('base-table-panel',{staticClass:\"sortTable noTableBorder\",attrs:{\"title\":\"页面模板列表\",\"rightBtns\":_vm.titleBtns(),\"data-source\":_vm.templateList,\"loading\":_vm.loading,\"columns\":_vm.columns(),\"has-pagination\":\"\",\"show-summary\":false,\"total\":_vm.total,\"current-page\":_vm.currentPage,\"page-size\":_vm.pageSize,\"border-style\":true},on:{\"handleCurrent\":_vm.handleCurrent,\"handleSize\":_vm.handleSize}},[_c('template',{slot:\"operate-left\"},[_c('el-form',{ref:\"form\",staticClass:\"operate-left-form\",attrs:{\"inline\":true,\"label-suffix\":\":\",\"size\":\"mini\"}},[_c('el-form-item',{attrs:{\"label\":\"模板名称\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入模板名称\"},model:{value:(_vm.templateName),callback:function ($$v) {_vm.templateName=$$v},expression:\"templateName\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.selectList}},[_vm._v(\"查询\")])],1)],1)],1)],2),_c('simple-dialog',{staticClass:\"previewDialog\",attrs:{\"dialogTitle\":\"预览\",\"dialog-visible\":_vm.previewDialogVisible,\"dialogWidth\":\"70%\"},on:{\"cancelEmit\":function($event){_vm.previewDialogVisible = false}}},[_c('PreviewTemplate',{ref:\"previewTemplate\",attrs:{\"templateId\":_vm.templateId}})],1),_c('simple-dialog',{staticClass:\"menuDialog\",attrs:{\"dialogTitle\":\"菜单注册面板\",\"dialog-visible\":_vm.dialogVisible,\"botton-show\":\"true\",\"cancelText\":\"取消\",\"saveText\":\"确定\",\"dialogWidth\":\"20%\"},on:{\"saveEmit\":_vm.saveDialog,\"cancelEmit\":_vm.cancelDialog}},[_c('el-form',{ref:\"menuForm\",attrs:{\"rules\":_vm.menuRules,\"model\":_vm.selectedMenu}},[_c('el-form-item',{attrs:{\"label\":\"菜单名称：\",\"label-width\":\"94px\",\"label-position\":\"left\",\"prop\":\"menuTitle\"}},[_c('el-input',{model:{value:(_vm.selectedMenu.menuTitle),callback:function ($$v) {_vm.$set(_vm.selectedMenu, \"menuTitle\", $$v)},expression:\"selectedMenu.menuTitle\"}})],1)],1),_c('div',{staticClass:\"container\"},[(_vm.dialogVisible)?_c('el-tree',{ref:\"menuTree\",attrs:{\"data\":_vm.menuData,\"props\":_vm.defaultProps},on:{\"node-click\":_vm.handleNodeClick}}):_vm._e()],1),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showError),expression:\"showError\"}],staticClass:\"showError\"},[_vm._v(\"节点未选取\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Vue } from 'vue-property-decorator';\r\nimport {\r\n  getPageTemplateList,\r\n  deletePageTemplate,\r\n  releasePageTemplate\r\n} from '@api/pageTemplate';\r\nimport { addMenu } from '@api/authority';\r\nimport PreviewTemplate from './components/previewTemplate.vue';\r\nimport { cloneDeep } from 'lodash';\r\nimport { randomString } from './utils/util';\r\nimport paramsCache from '@mixins/paramCache';\r\n\r\nComponent.registerHooks(['beforeRouteLeave']);\r\nconst paramsCacheMixin = paramsCache([\r\n  'currentPage',\r\n  'pageSize',\r\n  'total',\r\n  'templateList',\r\n  'templateName'\r\n]);\r\n@Component({\r\n  components: { PreviewTemplate },\r\n  mixins: [paramsCacheMixin]\r\n})\r\nexport default class PageTemplate extends Vue {\r\n  private templateList: Array<any> = [];\r\n  private templateName = '';\r\n  private loading = false;\r\n  private currentPage = 1;\r\n  private pageSize = 10;\r\n  private total = 100;\r\n  private templateId: any = '';\r\n  private dialogVisible = false;\r\n  private previewDialogVisible = false;\r\n  private defaultProps: any = {\r\n    children: 'children',\r\n    label: 'title'\r\n  };\r\n  private selectedMenu: any = {\r\n    menuTitle: '',\r\n    id: '',\r\n    code: ''\r\n  };\r\n  private currentTemplate: any = null;\r\n  private showError = false;\r\n  private menuRules: any = {\r\n    menuTitle: [{ message: '请输入菜单名称', trigger: 'blur', required: true }]\r\n  };\r\n\r\n  get menuData() {\r\n    const authorizes = cloneDeep(this.$store.getters.authorizes);\r\n    const result = this.formatMenuData(authorizes);\r\n    return result;\r\n  }\r\n\r\n  // 获取菜单注册面板所需结构\r\n  formatMenuData(data: Array<any>) {\r\n    const result: Array<any> = [];\r\n    data.forEach((item: any) => {\r\n      if (item.children && item.children.length) {\r\n        item.children = this.formatMenuData(item.children);\r\n        result.push(item);\r\n      }\r\n    });\r\n    return result;\r\n  }\r\n\r\n  // 表格列\r\n  columns() {\r\n    const _this = this;\r\n    return [\r\n      {\r\n        prop: '',\r\n        type: 'index',\r\n        align: 'center',\r\n        label: '序号',\r\n        width: '60'\r\n      },\r\n      {\r\n        prop: 'name',\r\n        label: '模板名称',\r\n        'header-align': 'left',\r\n        showOverflowTooltip: true\r\n      },\r\n      {\r\n        prop: 'status',\r\n        label: '状态',\r\n        align: 'center',\r\n        width: '90',\r\n        render(h: any, { record }: any) {\r\n          let statusText = '';\r\n          if (record.status === 0) {\r\n            statusText = '未发布';\r\n          } else if (record.status === 1) {\r\n            statusText = '已发布';\r\n          } else {\r\n            statusText = '已撤回';\r\n          }\r\n          return h('span', {}, statusText);\r\n        }\r\n      },\r\n      {\r\n        prop: 'modifier',\r\n        label: '修改人',\r\n        align: 'center',\r\n        width: '90'\r\n      },\r\n      {\r\n        prop: 'editTime',\r\n        label: '修改时间',\r\n        align: 'center',\r\n        width: '170'\r\n      },\r\n      {\r\n        prop: '',\r\n        align: 'center',\r\n        label: '操作',\r\n        width: '300',\r\n        actions: [\r\n          {\r\n            code: 'preview',\r\n            text: '预览',\r\n            onClick: _this.preview\r\n          },\r\n          {\r\n            code: 'release',\r\n            text: (record: any) => (record.status === 1 ? '撤销发布' : '发布'),\r\n            onClick: _this.release\r\n            // disabled: () => true\r\n          },\r\n          {\r\n            code: 'edit',\r\n            text: '修改',\r\n            onClick: _this.modify\r\n          },\r\n          {\r\n            code: 'copy',\r\n            text: '复制',\r\n            onClick: _this.copy\r\n          },\r\n          {\r\n            code: 'delete',\r\n            text: '删除',\r\n            onClick: _this.delete\r\n          }\r\n        ]\r\n      }\r\n    ];\r\n  }\r\n\r\n  // 按钮\r\n  titleBtns() {\r\n    const _this = this;\r\n    return [\r\n      {\r\n        title: '新增',\r\n        icon: 'add-line',\r\n        onClick: _this.addPageTemplate\r\n      }\r\n    ];\r\n  }\r\n\r\n  // 修改pageSize\r\n  handleSize(val: any) {\r\n    this.pageSize = val;\r\n    this.currentPage = 1;\r\n    this.getTemplateList();\r\n  }\r\n\r\n  // 页面跳转\r\n  handleCurrent(val: any) {\r\n    this.currentPage = val;\r\n    this.getTemplateList();\r\n  }\r\n\r\n  // 查询按钮\r\n  selectList() {\r\n    this.currentPage = 1;\r\n    this.getTemplateList();\r\n  }\r\n\r\n  // 获取模板列表\r\n  getTemplateList() {\r\n    const param: any = {\r\n      page: this.currentPage,\r\n      pageSize: this.pageSize\r\n    };\r\n    if (this.templateName) {\r\n      param.name = this.templateName;\r\n    }\r\n    this.loading = true;\r\n    getPageTemplateList(param).then(({ data, error }: any) => {\r\n      this.loading = false;\r\n      if (!error) {\r\n        this.templateList = data.rows;\r\n        this.total = data.total;\r\n      } else {\r\n        this.$message.error(error.message || '获取数据失败');\r\n      }\r\n    });\r\n  }\r\n\r\n  // 预览模板\r\n  preview(pageTemplate: any) {\r\n    this.templateId = pageTemplate.id;\r\n    this.previewDialogVisible = true;\r\n    this.$nextTick(() => {\r\n      (this.$refs.previewTemplate as any).initPreviewTemplate();\r\n    });\r\n  }\r\n\r\n  // 发布模板\r\n  release(pageTemplate: any) {\r\n    this.currentTemplate = pageTemplate;\r\n    if (pageTemplate.status === 1 || pageTemplate.status === 2) {\r\n      // 1：已发布状态，2：已撤回状态 这两种状态直接处理\r\n      this.$confirm(\r\n        pageTemplate.status === 1 ? '是否撤销发布?' : '是否确认发布?',\r\n        '提示',\r\n        {\r\n          confirmButtonText: pageTemplate.status === 1 ? '撤销发布' : '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }\r\n      )\r\n        .then(() => {\r\n          const register = pageTemplate.status === 1 ? 0 : 1;\r\n          this.registerMenu(register);\r\n        })\r\n        .catch(() => {});\r\n    } else if (pageTemplate.status === 0) {\r\n      // 未发布状态 需要先选择菜单\r\n      this.dialogVisible = true;\r\n      this.selectedMenu.menuTitle =\r\n        this.currentTemplate.menuTitle || this.currentTemplate.name;\r\n    }\r\n  }\r\n\r\n  // 添加菜单\r\n  registerMenu(operation) {\r\n    if (operation === 1) {\r\n      // 添加菜单\r\n      const parentId =\r\n        this.currentTemplate.parentMenuId || this.selectedMenu.id;\r\n      const parentCode =\r\n        this.currentTemplate.parentMenuCode || this.selectedMenu.code;\r\n      const title =\r\n        this.currentTemplate.menuTitle || this.selectedMenu.menuTitle;\r\n      const menuCode = 'dynamicPage' + this.currentTemplate.id;\r\n      const param: any = {\r\n        actions: [\r\n          {\r\n            code: `${parentCode}_${menuCode}:query`,\r\n            name: '查看'\r\n          }\r\n        ],\r\n        code: menuCode,\r\n        path: menuCode,\r\n        type: 0,\r\n        href: this.currentTemplate.id,\r\n        parent: parentId,\r\n        title: title,\r\n        icon: 'new-page',\r\n        order: 0\r\n      };\r\n      // console.log(param);\r\n      addMenu(param).then(({ error }) => {\r\n        if (!error) {\r\n          this.doRelease();\r\n        } else {\r\n          this.$message.error(error.message);\r\n        }\r\n      });\r\n    } else {\r\n      // TODO: 删除菜单\r\n      // addMenu(param).then(({error}) => {\r\n      //   if(!error) {\r\n      this.doRelease();\r\n      // } else {\r\n      //   this.$message.error(error.message);\r\n      // }\r\n      // });\r\n    }\r\n  }\r\n\r\n  // 发布模板接口\r\n  doRelease() {\r\n    const id = this.currentTemplate.id;\r\n    const currentStatus = this.currentTemplate.status;\r\n    let parentMenuId = '';\r\n    let parentMenuCode = '';\r\n    let menuTitle = '';\r\n    if (currentStatus === 0) {\r\n      parentMenuId = this.selectedMenu.id; // 从未发布状态发布时，则取在菜单注册面板选中的值\r\n      parentMenuCode = this.selectedMenu.code;\r\n      menuTitle = this.selectedMenu.menuTitle;\r\n    } else if (currentStatus === 2) {\r\n      parentMenuId = this.currentTemplate.parentMenuId; // 从已撤回状态发布时，取后台返回的parentMenuId\r\n      parentMenuCode = this.currentTemplate.parentMenuCode;\r\n      menuTitle = this.currentTemplate.menuTitle;\r\n    }\r\n\r\n    const param: any = {\r\n      id,\r\n      status: currentStatus === 1 ? 0 : 1 // 当前是已发布状态，则为撤销发布操作，否则都是发布操作\r\n    };\r\n    if (currentStatus === 0 || currentStatus === 2) {\r\n      param.parentMenuId = parentMenuId;\r\n      param.parentMenuCode = parentMenuCode;\r\n      param.menuTitle = menuTitle;\r\n    }\r\n    // console.log('dd', param);\r\n    releasePageTemplate(param).then(({ error }: any) => {\r\n      if (!error) {\r\n        this.$message.success(currentStatus === 1 ? '撤销成功' : '发布成功');\r\n        if (currentStatus === 0) {\r\n          // 当前为第一次发布时，需要关闭菜单注册面板\r\n          this.cancelDialog();\r\n        }\r\n        this.getTemplateList();\r\n      } else {\r\n        this.$message.error(error.message);\r\n      }\r\n    });\r\n  }\r\n\r\n  // 修改模板\r\n  modify(pageTemplate: any) {\r\n    this.$router.push({\r\n      path: '/sysSupport/editPageTemplate',\r\n      query: { id: pageTemplate.id, type: 'modify' }\r\n    });\r\n  }\r\n\r\n  // 复制模板\r\n  copy(pageTemplate: any) {\r\n    this.$router.push({\r\n      path: '/sysSupport/editPageTemplate',\r\n      query: { id: pageTemplate.id, type: 'copy' }\r\n    });\r\n  }\r\n\r\n  // 删除模板\r\n  delete(pageTemplate: any) {\r\n    this.$confirm('是否删除?', '提示', {\r\n      confirmButtonText: '确定',\r\n      cancelButtonText: '取消',\r\n      type: 'warning'\r\n    })\r\n      .then(() => {\r\n        const param = {\r\n          id: pageTemplate.id\r\n        };\r\n        deletePageTemplate(param).then(({ error }: any) => {\r\n          if (!error) {\r\n            this.$message.success('删除成功');\r\n            this.getTemplateList();\r\n          } else {\r\n            this.$message.error(error.message);\r\n          }\r\n        });\r\n      })\r\n      .catch(() => {});\r\n  }\r\n\r\n  // 新建模板\r\n  addPageTemplate() {\r\n    this.$router.push({\r\n      path: '/sysSupport/editPageTemplate',\r\n      query: { type: 'new' }\r\n    });\r\n  }\r\n\r\n  // 选择菜单后发布模板\r\n  saveDialog() {\r\n    const menuForm: any = this.$refs['menuForm'];\r\n    menuForm.validate((valid: any) => {\r\n      if (valid) {\r\n        if (!this.selectedMenu.id) {\r\n          this.showError = true;\r\n          return;\r\n        }\r\n\r\n        this.registerMenu(1);\r\n      }\r\n    });\r\n  }\r\n\r\n  // 关闭菜单注册面板\r\n  cancelDialog() {\r\n    this.dialogVisible = false;\r\n    this.selectedMenu = {\r\n      menuTitle: '',\r\n      id: '',\r\n      code: ''\r\n    };\r\n    this.currentTemplate = null;\r\n    this.showError = false;\r\n  }\r\n\r\n  // 点击菜单节点事件\r\n  handleNodeClick(data: any, node: any, element) {\r\n    // if (node.isLeaf) {\r\n    this.selectedMenu.id = data.id;\r\n    this.selectedMenu.code = data.code;\r\n    this.showError = false;\r\n    const a: any = this.$refs.menuTree;\r\n    a.treeItems.forEach((item: any) => {\r\n      item.removeAttribute('selected');\r\n      item\r\n        .getElementsByClassName('el-tree-node')\r\n        .forEach((item: any) => item.removeAttribute('selected'));\r\n    });\r\n    element.$el.setAttribute('selected', true);\r\n    // }\r\n  }\r\n\r\n  created() {\r\n    !this.templateList.length && this.getTemplateList();\r\n  }\r\n\r\n  beforeRouteLeave(to, from, next) {\r\n    this.cacheParamData();\r\n    next();\r\n  }\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=34d0dda8&\"\nimport script from \"./index.vue?vue&type=script&lang=ts&\"\nexport * from \"./index.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = \"data:image/png;base64,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\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&\"","var aFunction = require('../internals/a-function');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.{ reduce, reduceRight }` methods implementation\nvar createMethod = function (IS_RIGHT) {\n  return function (that, callbackfn, argumentsLength, memo) {\n    aFunction(callbackfn);\n    var O = toObject(that);\n    var self = IndexedObject(O);\n    var length = toLength(O.length);\n    var index = IS_RIGHT ? length - 1 : 0;\n    var i = IS_RIGHT ? -1 : 1;\n    if (argumentsLength < 2) while (true) {\n      if (index in self) {\n        memo = self[index];\n        index += i;\n        break;\n      }\n      index += i;\n      if (IS_RIGHT ? index < 0 : length <= index) {\n        throw TypeError('Reduce of empty array with no initial value');\n      }\n    }\n    for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n      memo = callbackfn(memo, self[index], index, O);\n    }\n    return memo;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.reduce` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n  left: createMethod(false),\n  // `Array.prototype.reduceRight` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduceright\n  right: createMethod(true)\n};\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./templateBlock.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./templateBlock.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('simple-dialog',{ref:\"advance\",attrs:{\"dialog-title\":_vm.dialogTitle,\"dialog-visible\":_vm.dialogTestSwitch,\"dialog-width\":\"600px\",\"botton-show\":\"true\",\"save-text\":\"保存\",\"cancel-text\":\"取消\"},on:{\"saveEmit\":_vm.treeDataTest,\"cancelEmit\":_vm.cancelSwitch}},[_c('AdvancedScreening',{attrs:{\"spread\":_vm.spread.visible,\"model\":_vm.spread.model,\"items\":_vm.spread.items,\"label-width\":\"30%\",\"screen-loading\":_vm.spread.loading},on:{\"doQuery\":_vm.handleQuery,\"doReset\":_vm.handleReset}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Vue, Component, Prop, Emit, Watch } from 'vue-property-decorator';\r\nimport AdvancedScreening from './advanced.vue';\r\n@Component({\r\n  components: { AdvancedScreening }\r\n})\r\nexport default class AddContent extends Vue {\r\n  spread: any = {\r\n    visible: true,\r\n    model: {},\r\n    items: [],\r\n    loading: false\r\n  };\r\n  @Prop(Array) paramsList: [];\r\n  @Prop(String) dialogTitle: '';\r\n  @Prop({ default: false }) dialogTestSwitch: boolean;\r\n  @Emit('saveEmitSwitch')\r\n  treeDataTest() {}\r\n  @Emit('cancelEmitSwitch')\r\n  cancelSwitch() {}\r\n  @Watch('paramsList', { immediate: true, deep: true })\r\n  getVisible(newVal: any) {\r\n    const kong: Array<any> = [];\r\n    const dataModel: any = {};\r\n    newVal.forEach((item: any) => {\r\n      if (item.value) {\r\n        dataModel[item.fieldCode] = item.value;\r\n      } else if (item.dafalutValue) {\r\n        dataModel[item.fieldCode] = item.dafalutValue;\r\n      } else {\r\n        dataModel[item.fieldCode] = '';\r\n      }\r\n      if (item.fieldType === 3) {\r\n        kong.push({\r\n          key: item.fieldCode,\r\n          label: item.fieldName,\r\n          type: 'switch'\r\n        });\r\n      } else if (item.fieldType === 2) {\r\n        kong.push({\r\n          key: item.fieldCode,\r\n          label: item.fieldName,\r\n          type: 'date',\r\n          TimePickerOptions: '',\r\n          clearable: true,\r\n          disabled: false\r\n        });\r\n      } else {\r\n        kong.push({\r\n          type: 'input',\r\n          key: item.fieldCode,\r\n          label: item.fieldName,\r\n          placeholder: item.fieldType === 1 ? '请输入数字' : '请输入文本',\r\n          config: {\r\n            props: {\r\n              type: item.fieldType === 1 ? 'number' : 'input'\r\n            }\r\n          }\r\n        });\r\n      }\r\n    });\r\n    this.spread.items = kong;\r\n    this.spread.model = dataModel;\r\n    // console.log(\"this.spread\", this.spread);\r\n  }\r\n}\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addContent.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addContent.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./addContent.vue?vue&type=template&id=3ca4f7b1&\"\nimport script from \"./addContent.vue?vue&type=script&lang=ts&\"\nexport * from \"./addContent.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var hiddenKeys = require('../internals/hidden-keys');\nvar isObject = require('../internals/is-object');\nvar has = require('../internals/has');\nvar defineProperty = require('../internals/object-define-property').f;\nvar uid = require('../internals/uid');\nvar FREEZING = require('../internals/freezing');\n\nvar METADATA = uid('meta');\nvar id = 0;\n\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\n\nvar setMetadata = function (it) {\n  defineProperty(it, METADATA, { value: {\n    objectID: 'O' + ++id, // object ID\n    weakData: {}          // weak collections IDs\n  } });\n};\n\nvar fastKey = function (it, create) {\n  // return a primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, METADATA)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMetadata(it);\n  // return object ID\n  } return it[METADATA].objectID;\n};\n\nvar getWeakData = function (it, create) {\n  if (!has(it, METADATA)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMetadata(it);\n  // return the store of weak collections IDs\n  } return it[METADATA].weakData;\n};\n\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZING && meta.REQUIRED && isExtensible(it) && !has(it, METADATA)) setMetadata(it);\n  return it;\n};\n\nvar meta = module.exports = {\n  REQUIRED: false,\n  fastKey: fastKey,\n  getWeakData: getWeakData,\n  onFreeze: onFreeze\n};\n\nhiddenKeys[METADATA] = true;\n","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./previewForm.vue?vue&type=style&index=1&id=75a9379a&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./previewForm.vue?vue&type=style&index=1&id=75a9379a&lang=scss&scoped=true&\""],"sourceRoot":""}