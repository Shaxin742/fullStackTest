{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.array.reduce.js","webpack:///./src/views/processConfig/customForm/compoents/ueditor.vue?c638","webpack:///src/views/processConfig/customForm/compoents/ueditor.vue","webpack:///./src/views/processConfig/customForm/compoents/ueditor.vue?6f01","webpack:///./src/views/processConfig/customForm/compoents/ueditor.vue","webpack:///./src/views/processConfig/customForm/compoents/mixin.ts","webpack:///./src/views/processConfig/customForm/compoents/previewFormChild.vue?9b30","webpack:///./src/views/processConfig/customForm/compoents/previewForm.vue?8a3a","webpack:///./src/views/processConfig/customForm/compoents/previewFormChild.vue?39b7","webpack:///./src/views/processConfig/customForm/compoents/previewFormChild.vue","webpack:///./src/views/processConfig/customForm/compoents/previewFormChild.vue?4a6f","webpack:///./src/views/processConfig/customForm/compoents/previewFormChild.vue?6484","webpack:///./src/views/processConfig/customForm/compoents/previewForm.vue","webpack:///./src/views/processConfig/customForm/compoents/previewForm.vue?b9f0","webpack:///./src/views/processConfig/customForm/compoents/previewForm.vue?1855","webpack:///./node_modules/core-js/modules/es.set.js","webpack:///./node_modules/core-js/internals/collection-strong.js","webpack:///./src/views/processConfig/customForm/compoents/previewFormChild.vue?4253","webpack:///./node_modules/core-js/internals/collection.js","webpack:///./node_modules/core-js/modules/es.array.every.js","webpack:///./src/views/processConfig/customForm/compoents/previewForm.vue?4117","webpack:///./node_modules/core-js/internals/freezing.js","webpack:///./node_modules/core-js/internals/array-reduce.js","webpack:///./src/views/viewDateManagent/component/addContent.vue?2d6a","webpack:///./src/views/viewDateManagent/component/addContent.vue","webpack:///./src/views/viewDateManagent/component/addContent.vue?6201","webpack:///./src/views/viewDateManagent/component/addContent.vue?c82e","webpack:///./node_modules/core-js/internals/internal-metadata.js","webpack:///./src/views/processConfig/customForm/compoents/previewForm.vue?aa65"],"names":["$","$reduce","left","arrayMethodIsStrict","arrayMethodUsesToLength","STRICT_METHOD","USES_TO_LENGTH","1","target","proto","forced","reduce","callbackfn","this","arguments","length","undefined","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","ref","attrs","editorOption","disable","on","$event","onEditBlur","itemValue","value","onEditorFocus","onEditorReady","alertValue","decimalNum","model","callback","$$v","$set","expression","staticRenderFns","name","components","quillEditor","data","content","modules","toolbar","theme","props","type","Function","default","Object","Boolean","computed","editor","$refs","myQuillEditor","quill","methods","onEditorBlur","console","log","$emit","saveHtml","alert","component","PreviewFormMixin","formAttributeAlert","userCode","fileList","modifysVisible","dialogSwitch","dialogTitle","labelTable","modifyHistoryList","modifyColumns","addTableList","formConfig","tableCompareContainer","tableCompareColumns","historyLoading","editMarks","nameScript","scriptList","uploadHeader","Authorization","childFromExist","importFiles","importDialogVisible","loading","uploadTableKey","lastCall","commonHistoryColumns","prop","label","align","newVal","ok","JSON","stringify","e","formList","mode","renderView","refreshView","formHandle","forEach","item","editable","readable","registerChangeListeners","filterText","ft","addFormLinkFields","textLinkValue","loadTableCols","defaultValueBind","loadShowConfig","sourceDataType","setTimeout","dataQueryList","listQueryHandle","dataSetVal","dataViewQueryHandle","flowVisibleCode","getFlowVariablehttp","listeners","change","refreshLoading","datas","loadTableData","prototype","hasOwnProperty","call","defaultValue","valueShow","scriptComputHandle","mutexSetList","mutexTableLoading","rowIndex","colProp","val","itemKey","clearTimeout","handleDoInput","isPre","tableObj","editColObj","currentRowRecord","hasEditColIndex","findIndex","push","handleTableColScript","tableItem","scriptObservers","observer","handleType","extendObj2","dataItem","editMarkIndex","extendObj","scriptConfig","computTableColEditControl","staticColumnDefaultValue","entity","resultValue","addSetList","addSet","showValueConfig","oriCols","cols","showType","linkFather","expandObservers","insertFlag","j","so","childKey","key","extendColName","bindField","computeColsShowHide","doFlowVariableQuery","then","result","computVaild","symbolShow","Array","isArray","join","inputValue","showForm","doExtendColsHidden","expandList","vaildFormShow","linkList","selectedItem","addItem","afterCols","colsAdd","addSetCols","col","fieldCode","hidden","oriCol","targetType","parameterList","sc","showObservers","field","linkFields","Set","add","flag","filterObservers","dataLink","datasFilter","queryObservers","linkSetItem","getFormLinkValue","viewsId","typeData","emitDVEvent","doStaticColumnComput","def","headIndex","internalObservers","formItem","buttonChange","dvObservers","tableType","fieldType","defaultList","cfgType","bindType","detail","defValue","some","sta","computDefaultValue","bindTarget","bindExpress","defResult","dvc","setFormatWapper","vars","Promise","resolve","reject","expresses","taskId","error","$message","message","handleId","itemListData","itemList","dataValue","dataLabel","indexOf","washTableFlowVariable","map","set","addDataSetVal","i","list","mutexSet","addViewDataLists","row","ori","newd","keys","substring","lastIndexOf","ignoreCurrVal","format","childFromChange","focus","realValue","blur","accuracyNum","accuracy","Number","childChange","all","resove","param","code","required","valueType","relationVal","paramsValues","every","pv","re","filter","pa","catch","registerFormScriptParam","unStaticFlag","currentRow","ignoreFlag","serList","returnData","reItem","scriptType","meteorShower","par","replace","RegExp","script","paramsList","methodChage","eval","newData","splice","ind","oriData","oriDatas","doInput","oldV","reqBody","fetchBtnService","btn","fetchOrdinaryBtnService","linkPromise","linkDef","targetCol","setLink","targetObjectBut","fromItem","targetTableCol","ele","optionsList","option","dataHandle","fields","from","fs","av","addViewData","addDataValue","fie","associatedNodeList","addSetType","addDataLink","queryParams","viewData","viewId","authStationAndUsers","stationId","taskDealStationId","rows","mergeExtendColsView","index","sort","pre","aft","records","record","loadingPrimKey","history","queryItemImprint","doExtendColsQuery","tabList","recordsHanle","addDataQueryList","addFlowVariablesLink","textListLabel","fobj","dataList","pl","staticDef","variableDef","colsItem","staticList","staticType","staticDataList","showCols","staticFilter","staticCheck","staticText","itemType","express","cr","year","yearSign","month","monthSign","day","daySign","parseFloat","offset","os","sign","relationship","split","someItem","targetFun","everyItem","targetItem","typetDiff","isNaN","filterConfig","strategy","filterType","textLinkFather","textLink","textLinkMethod","filterValue","String","params","orFlag","computWapper","itemData","colsDatas","itemDatas","comput","condition","handleTableDatasChange","pushDatas","tableAddList","oris","linkDatas","afterDatas","theOne","opt","column","columnIndex","beModified","property","fileName","startIndex","endIndex","fileTypeList","path","processInstanceId","compareTableDatas","imprint","reverse","editHistorys","hr","eh","edit","preValue","$confirm","confirmButtonText","cancelButtonText","uploadForm","FormData","append","raw","success","$delete","targeTableItem","targetCols","tableDataArr","obj","itemName","nu","netUpload","clearFiles","file","headers","show","addTemplate","colsDiff","same","advance","formAttribute","doTableRowAdd","cancelSwitch","upload","uploadFiles","fileItem","uid","fileIndex","fileItems","response","url","warning","associatedLink","scriptLinkConfig","itemItem","doOrdinaryButtonQuery","resultList","linkedSerVal","fetch","setWay","bindingTargets","scriptTargets","paramDefList","doTableCellBtn","itemTable","buttonParameter","tableFormConfig","formType","editer","config","configFormatCol","actions","buttonAdd","text","fieldName","onClick","changeClickBut","addLine","deleteEdit","formatter","cellValue","deep","immediate","labelWidth","labelPosition","_l","span","_e","exportTable","_v","uploadTable","addChange","showHistoryCompare","rules","computeCellClass","loadingColumns","debunceInput","buttonType","_s","alertType","centerFont","description","showIcon","refInFor","successList","scopedSlots","_u","fn","fileType","handleFileRemove","download","status","placeholder","goods","multiple","itemMultiple","options","optionsType","certain","directives","rawName","tableFormSave","treeDataTest","doUpload","closeDialog","handleUploadFileChange","onRemove","getVisible","$store","state","user","userInfo","usercode","customItemRender","ueditor","addContent","previewFormChild","form","splitTable","batRows","prev","cur","tr","bat","ssame","collection","collectionStrong","module","exports","init","defineProperty","f","create","redefineAll","bind","anInstance","iterate","defineIterator","setSpecies","DESCRIPTORS","fastKey","InternalStateModule","setInternalState","internalStateGetterFor","getterFor","getConstructor","wrapper","CONSTRUCTOR_NAME","IS_MAP","ADDER","C","that","iterable","first","last","size","getInternalState","define","previous","entry","getEntry","next","removed","clear","boundFunction","has","get","setStrong","ITERATOR_NAME","getInternalCollectionState","getInternalIteratorState","iterated","kind","done","global","isForced","redefine","InternalMetadataModule","isObject","fails","checkCorrectnessOfIteration","setToStringTag","inheritIfRequired","common","IS_WEAK","NativeConstructor","NativePrototype","Constructor","exported","fixMethod","KEY","nativeMethod","entries","REQUIRED","instance","HASNT_CHAINING","THROWS_ON_PRIMITIVES","ACCEPT_ITERABLES","BUGGY_ZERO","$instance","dummy","constructor","$every","isExtensible","preventExtensions","aFunction","toObject","IndexedObject","toLength","createMethod","IS_RIGHT","argumentsLength","memo","O","self","TypeError","right","dialogTestSwitch","spread","visible","items","handleQuery","handleReset","kong","dataModel","dafalutValue","TimePickerOptions","clearable","disabled","AdvancedScreening","hiddenKeys","FREEZING","METADATA","id","setMetadata","it","objectID","weakData","getWeakData","onFreeze","meta"],"mappings":"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","file":"assets/js/chunk-3e904856.b639a0cb.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar $reduce = require('../internals/array-reduce').left;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('reduce');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('reduce', { 1: 0 });\n\n// `Array.prototype.reduce` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH }, {\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    return $reduce(this, callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"edit_container\",staticStyle:{\"height\":\"158px\"}},[_c('quill-editor',{ref:\"myQuillEditor\",staticClass:\"quillEditor\",attrs:{\"options\":_vm.editorOption,\"disabled\":_vm.disable},on:{\"blur\":function($event){return _vm.onEditBlur(_vm.itemValue.value)},\"focus\":function($event){return _vm.onEditorFocus($event)},\"ready\":function($event){return _vm.onEditorReady($event)},\"change\":function($event){return _vm.alertValue($event, 400, _vm.decimalNum)}},model:{value:(_vm.itemValue.value),callback:function ($$v) {_vm.$set(_vm.itemValue, \"value\", $$v)},expression:\"itemValue.value\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"edit_container\" style=\"height:158px;\">\r\n    <quill-editor\r\n      ref=\"myQuillEditor\"\r\n      v-model=\"itemValue.value\"\r\n      class=\"quillEditor\"\r\n      :options=\"editorOption\"\r\n      :disabled=\"disable\"\r\n      @blur=\"onEditBlur(itemValue.value)\"\r\n      @focus=\"onEditorFocus($event)\"\r\n      @ready=\"onEditorReady($event)\"\r\n      @change=\"alertValue($event, 400, decimalNum)\"\r\n    >\r\n    </quill-editor>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { quillEditor } from 'vue-quill-editor';\r\nimport 'quill/dist/quill.core.css';\r\nimport 'quill/dist/quill.snow.css';\r\nimport 'quill/dist/quill.bubble.css';\r\nexport default {\r\n  name: 'QuillEditor',\r\n  components: {\r\n    quillEditor\r\n  },\r\n  data() {\r\n    return {\r\n      content: `<p>hello world</p>`,\r\n      editorOption: {\r\n        modules: {\r\n          toolbar: [\r\n            ['bold', 'italic', 'underline', 'strike'], // 加粗，斜体，下划线，删除线\r\n            ['blockquote', 'code-block'], // 引用，代码块\r\n            [{ header: 1 }, { header: 2 }], // 标题，键值对的形式；1、2表示字体大小\r\n            [{ list: 'ordered' }, { list: 'bullet' }][ // 列表\r\n              ({ script: 'sub' }, { script: 'super' })\r\n            ], // 上下标\r\n            [{ indent: '-1' }, { indent: '+1' }], // 缩进\r\n            [{ direction: 'rtl' }][{ size: ['small', false, 'large', 'huge'] }] // 文本方向 // 字体大小\r\n            // [{ header: [1, 2, 3, 4, 5, 6, false] }][ // 几级标题\r\n            // ({ color: [] }, { background: [] })\r\n            // ], // 字体颜色，字体背景颜色\r\n            // [{ font: [] }], // 字体\r\n            // [{ align: [] }], // 对齐方式\r\n            // ['clean'], // 清除字体样式\r\n            // ['image', 'video'] // 上传图片、上传视频\r\n          ]\r\n        },\r\n        theme: 'snow'\r\n      }\r\n    };\r\n  },\r\n  props: {\r\n    onEditBlur: {\r\n      type: Function,\r\n      default: () => ''\r\n    },\r\n    itemValue: {\r\n      type: Object,\r\n      default: () => {}\r\n    },\r\n    disable: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  computed: {\r\n    editor() {\r\n      return this.$refs.myQuillEditor.quill;\r\n    }\r\n  },\r\n  methods: {\r\n    onEditorBlur(itemValue) {\r\n      console.log(itemValue, 'itemValue');\r\n      this.$emit('onEditorBlur', itemValue);\r\n    }, // 失去焦点事件\r\n    onEditorFocus() {}, // 获得焦点事件\r\n    onEditorReady() {},\r\n    saveHtml: function(event) {\r\n      alert(this.itemValue);\r\n    },\r\n    alertValue(e, strValue, decimalNum) {}\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ueditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ueditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ueditor.vue?vue&type=template&id=00f8b57d&\"\nimport script from \"./ueditor.vue?vue&type=script&lang=js&\"\nexport * from \"./ueditor.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { Vue, Prop, Watch } from 'vue-property-decorator';\r\nimport moment from 'moment';\r\nimport { cloneDeep } from 'lodash';\r\nimport { arrayFind, currencyFormatter } from '@utils/util';\r\nimport { getSessionStorage } from '@utils/storage';\r\nimport {\r\n  queryEditMarks,\r\n  attachmentDownload,\r\n  fetchBatchFlowVariable,\r\n  fetchMeteorShower,\r\n  tableDownload,\r\n  tableUpload\r\n} from '@api/processAssignment';\r\nimport { dataViewQueryWithAuth, fetchPushService } from '@api/viewData';\r\nexport default class PreviewFormMixin extends Vue {\r\n  @Prop({ default: {} }) formAttribute: any;\r\n  @Prop({ default: 'task' }) mode: string;\r\n  @Prop({ default: '' }) taskId: string;\r\n  @Prop({ default: '' }) processInstanceId: string;\r\n  @Prop({ default: '' }) taskDealStationId: string;\r\n  public formAttributeAlert: any = {};\r\n  public userCode = '';\r\n  public fileList: Array<any> = [];\r\n  public modifysVisible = false;\r\n  public dialogSwitch = false;\r\n  public dialogTitle = '新增';\r\n  public labelTable = '';\r\n  public modifyHistoryList: Array<any> = [];\r\n  public modifyColumns: Array<any> = [];\r\n  public addTableList: Array<any> = [];\r\n  public formConfig: any = {};\r\n  public tableCompareContainer: Array<any> = [];\r\n  public tableCompareColumns: Array<any> = [];\r\n  public historyLoading = false;\r\n  public editMarks: any = {};\r\n  public nameScript = '';\r\n  public scriptList: any = {};\r\n  public uploadHeader: any = {\r\n    Authorization: getSessionStorage('auth_token')\r\n  };\r\n  public childFromExist = false;\r\n  public importFiles: Array<any> = [];\r\n  public importDialogVisible = false;\r\n  public loading = false;\r\n  public uploadTableKey = '';\r\n  public lastCall: any = null;\r\n  public commonHistoryColumns: Array<any> = [\r\n    {\r\n      prop: 'taskName',\r\n      label: '修改节点',\r\n      'header-align': 'left',\r\n      align: 'left'\r\n    },\r\n    {\r\n      prop: 'value',\r\n      label: '修改结果',\r\n      'header-align': 'left',\r\n      align: 'left'\r\n    },\r\n    {\r\n      prop: 'handler',\r\n      label: '修改人',\r\n      'header-align': 'left',\r\n      align: 'left'\r\n    },\r\n    {\r\n      prop: 'taskTime',\r\n      label: '修改时间',\r\n      'header-align': 'left',\r\n      align: 'left'\r\n    }\r\n  ];\r\n\r\n  @Watch('formAttribute', { deep: true, immediate: true })\r\n  getVisible(newVal: any) {\r\n    // 加上此判断，防止监听进入死循环\r\n    let ok = '';\r\n    try {\r\n      ok = JSON.stringify(this.formConfig);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n\r\n    if (JSON.stringify(newVal) !== ok) {\r\n      if (newVal && newVal.formList) {\r\n        if (this.mode !== 'preview') {\r\n          this.renderView(newVal);\r\n        } else {\r\n          this.refreshView(newVal);\r\n        }\r\n      }\r\n    }\r\n  }\r\n  refreshView(formHandle) {\r\n    this.formConfig = formHandle;\r\n  }\r\n\r\n  renderView(formHandle) {\r\n    this.formConfig = { ...formHandle };\r\n    // 提前注册表单项变动监听器\r\n    this.formConfig.formList.forEach((item) => {\r\n      if (item.editable === 1 || item.readable === 1) {\r\n        // 增加 editMarks 对象，记录表单项的修改记录\r\n        if (item.type !== 'table') {\r\n          this.registerChangeListeners(item);\r\n          // 下拉框数据过滤设置\r\n          if (item.filterText && item.filterText.length > 0) {\r\n            item.filterText.forEach((ft) =>\r\n              this.addFormLinkFields(item, ft.textLinkValue)\r\n            );\r\n          }\r\n        } else {\r\n          // 注册拓展列显示隐藏监听\r\n          this.loadTableCols(item);\r\n        }\r\n        // 默认值绑定\r\n        this.defaultValueBind(item);\r\n\r\n        // 显示隐藏控制\r\n        this.loadShowConfig(item);\r\n      }\r\n    });\r\n\r\n    // 加载表单项数据资源\r\n    this.formConfig.formList.forEach((item) => {\r\n      if (item.editable === 1 || item.readable === 1) {\r\n        if (\r\n          item.type === 'select' ||\r\n          item.type === 'checkboxGroup' ||\r\n          item.type === 'radioGroup' ||\r\n          item.type === 'transfer'\r\n        ) {\r\n          this.$set(item, 'optionsList', []);\r\n          this.$set(item, 'optionsType', '');\r\n          if (item.sourceDataType === 'dataView') {\r\n            // 等待表单关联字段收集完成\r\n            setTimeout(() => {\r\n              if (item.dataQueryList.length > 0) {\r\n                this.listQueryHandle(\r\n                  item,\r\n                  item.dataQueryList,\r\n                  item.dataSetVal,\r\n                  'selectView'\r\n                );\r\n              } else {\r\n                this.dataViewQueryHandle(item.dataSetVal, item, 'selectView');\r\n              }\r\n            }, 500);\r\n          } else if (item.sourceDataType === 'variable') {\r\n            if (item.flowVisibleCode) {\r\n              this.getFlowVariablehttp('variableChange', item);\r\n            }\r\n          } else if (item.sourceDataType === 'static') {\r\n            // 添加静态选项初始化事件触发支持\r\n            if (item.value) {\r\n              setTimeout(() => {\r\n                if (item.listeners && item.listeners.change) {\r\n                  item.listeners.change(item.value, 'auto');\r\n                }\r\n              }, 500);\r\n            }\r\n          }\r\n        } else if (item.type === 'table') {\r\n          if (!item.refreshLoading && item.datas && item.datas.length > 0) {\r\n            // 每次加载都全量刷新拓展列\r\n            this.loadTableData(item, item.datas);\r\n          } else {\r\n            item.datas = [];\r\n            if (\r\n              Object.prototype.hasOwnProperty.call(item, 'defaultValue') &&\r\n              item.defaultValue.valueShow\r\n            ) {\r\n              this.scriptComputHandle(item, item.defaultValue, 'tableDefault');\r\n            } else {\r\n              if (item.mutexSetList && item.mutexSetList.length > 0) {\r\n                // 多数据源处理\r\n                this.mutexTableLoading(item);\r\n              } else if (item.flowVisibleCode) {\r\n                this.getFlowVariablehttp('table', item);\r\n              } else {\r\n                if (item.dataQueryList.length > 0) {\r\n                  this.listQueryHandle(\r\n                    item,\r\n                    item.dataQueryList,\r\n                    item.dataSetVal,\r\n                    'table'\r\n                  );\r\n                } else {\r\n                  this.dataViewQueryHandle(item.dataSetVal, item, 'table');\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  debunceInput(rowIndex, colProp, val, itemKey) {\r\n    if (this.lastCall) {\r\n      clearTimeout(this.lastCall);\r\n    }\r\n    this.lastCall = setTimeout(() => {\r\n      this.handleDoInput(rowIndex, colProp, val, itemKey, false);\r\n    }, 500);\r\n  }\r\n\r\n  handleDoInput(rowIndex, colProp, val, itemKey, isPre) {\r\n    const tableObj = this.editMarks[itemKey];\r\n    const editColObj = { prop: colProp };\r\n    if (isPre) {\r\n      editColObj['preValue'] = val;\r\n    } else {\r\n      editColObj['value'] = val;\r\n    }\r\n    if (!tableObj) {\r\n      // 1.该表格没有被改动过\r\n      this.$set(this.editMarks, itemKey, { [rowIndex]: [editColObj] });\r\n    } else {\r\n      const currentRowRecord = tableObj[rowIndex];\r\n      // 2.表格被修改过，判断行\r\n      if (currentRowRecord) {\r\n        // 2.1 该行被修改过 判断列是否被修改\r\n        const hasEditColIndex = currentRowRecord.findIndex((item) => {\r\n          return item.prop === colProp;\r\n        });\r\n        if (hasEditColIndex === -1) {\r\n          currentRowRecord.push(editColObj);\r\n        } else {\r\n          // currentRowRecord.splice(hasEditColIndex, 1, editColObj);\r\n          currentRowRecord[hasEditColIndex]['value'] = val;\r\n        }\r\n      } else {\r\n        // 2.2说明该行没有被修改过\r\n        this.$set(tableObj, rowIndex, [editColObj]);\r\n      }\r\n      // 触发表格关联计算\r\n      if (!isPre) {\r\n        this.handleTableColScript(rowIndex, colProp, itemKey);\r\n      }\r\n    }\r\n  }\r\n\r\n  handleTableColScript(rowIndex, colProp, itemKey) {\r\n    const tableItem = arrayFind(this.formConfig.formList, 'key', itemKey);\r\n    if (tableItem.scriptObservers) {\r\n      tableItem.scriptObservers.forEach((observer) => {\r\n        // 过滤单元格变更事件监听器\r\n        if (\r\n          observer.handleType === 'staticDefaultValue' ||\r\n          observer.handleType === 'hiddenDatas'\r\n        ) {\r\n          // 触发对当前单元格监听的执行\r\n          if (\r\n            observer.extendObj2.dataItem.editMarkIndex === rowIndex &&\r\n            observer.extendObj.value === colProp\r\n          ) {\r\n            this.scriptComputHandle(\r\n              observer.item,\r\n              observer.scriptConfig,\r\n              observer.handleType,\r\n              observer.extendObj,\r\n              observer.extendObj2\r\n            );\r\n          }\r\n        }\r\n\r\n        // 支持触发全表数据监听器\r\n        if (observer.handleType === 'defaultValue') {\r\n          // 触发对当前单元格监听的执行\r\n          this.scriptComputHandle(\r\n            observer.item,\r\n            observer.scriptConfig,\r\n            observer.handleType,\r\n            observer.extendObj,\r\n            observer.extendObj2\r\n          );\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  handleTableDatasChange(item) {\r\n    this.computTableColEditControl(item);\r\n    // 表格列默认值关联配置\r\n    this.staticColumnDefaultValue(item);\r\n    // 外挂代码，添加表格脚本支持\r\n    if (item.listeners && item.scriptObservers) {\r\n      item.scriptObservers.forEach((entity: any) => {\r\n        if (\r\n          entity.handleType !== 'staticDefaultValue' &&\r\n          entity.handleType !== 'hiddenDatas'\r\n        ) {\r\n          entity.extendObj.resultValue = item.datas; // 设置绑定参数的值\r\n          this.scriptComputHandle(\r\n            entity.item,\r\n            entity.scriptConfig,\r\n            entity.handleType,\r\n            entity.extendObj,\r\n            entity.extendObj2\r\n          );\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  loadTableCols(item) {\r\n    if (item.addSetList && item.addSetList.length > 0) {\r\n      item.addSetList.forEach((addSet) => {\r\n        if (addSet.showValueConfig) {\r\n          // 缓存原始cols配置\r\n          if (!item.oriCols) {\r\n            item.oriCols = item.cols;\r\n          }\r\n          if (addSet.showValueConfig.showType === 'form') {\r\n            const linkFather = arrayFind(\r\n              this.formConfig.formList,\r\n              'key',\r\n              addSet.showValueConfig.valueShow\r\n            );\r\n            if (linkFather) {\r\n              if (!linkFather.expandObservers) {\r\n                linkFather.expandObservers = [];\r\n              }\r\n\r\n              let insertFlag = true;\r\n              for (let j = 0; j < linkFather.expandObservers.length; j++) {\r\n                const so = linkFather.expandObservers[j];\r\n                if (\r\n                  so.childKey === item.key &&\r\n                  so.extendColName === addSet.extendColName\r\n                ) {\r\n                  insertFlag = false;\r\n                  break;\r\n                }\r\n              }\r\n              if (insertFlag) {\r\n                linkFather.expandObservers.push({\r\n                  ...addSet,\r\n                  childKey: item.key\r\n                });\r\n              }\r\n\r\n              if (!linkFather.listeners) {\r\n                this.registerChangeListeners(linkFather);\r\n              }\r\n              if (addSet.showValueConfig.bindField) {\r\n                this.addFormLinkFields(\r\n                  linkFather,\r\n                  addSet.showValueConfig.bindField\r\n                );\r\n              }\r\n              if (linkFather.value || linkFather.value === false) {\r\n                this.computeColsShowHide(linkFather);\r\n              }\r\n            }\r\n          } else if (addSet.showValueConfig.showType === 'variable') {\r\n            this.doFlowVariableQuery(addSet.showValueConfig.valueShow).then(\r\n              (data: any) => {\r\n                if (data || data === '') {\r\n                  let result = 'none';\r\n                  if (\r\n                    this.computVaild(\r\n                      addSet.showValueConfig.symbolShow,\r\n                      data ? (Array.isArray(data) ? data.join(',') : data) : '',\r\n                      addSet.showValueConfig.inputValue,\r\n                      addSet.showValueConfig\r\n                    )\r\n                  ) {\r\n                    result = 'show';\r\n                  }\r\n                  addSet.showForm = result;\r\n                  this.doExtendColsHidden(item, addSet);\r\n                }\r\n              }\r\n            );\r\n          } else if (addSet.showValueConfig.showType === 'script') {\r\n            this.scriptComputHandle(\r\n              item,\r\n              addSet.showValueConfig,\r\n              'tableCols',\r\n              null,\r\n              addSet\r\n            );\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  computeColsShowHide(item) {\r\n    item.expandObservers &&\r\n      item.expandObservers.forEach((expandList: any) => {\r\n        this.$set(\r\n          expandList,\r\n          'showForm',\r\n          this.vaildFormShow(expandList.showValueConfig, item, item.value)\r\n        );\r\n        const linkList = arrayFind(\r\n          this.formConfig.formList,\r\n          'key',\r\n          expandList.childKey\r\n        );\r\n        this.doExtendColsHidden(linkList, expandList);\r\n      });\r\n  }\r\n\r\n  // 若计算结果为隐藏，则隐藏拓展列下的所有列\r\n  doExtendColsHidden(item, selectedItem) {\r\n    const addItem = arrayFind(\r\n      item.addSetList,\r\n      'extendColName',\r\n      selectedItem.extendColName\r\n    );\r\n    if (addItem) {\r\n      const afterCols = cloneDeep(item.cols);\r\n      addItem.colsAdd.forEach((addSetCols) => {\r\n        const col = arrayFind(afterCols, 'fieldCode', addSetCols.fieldCode);\r\n        if (col) {\r\n          if (selectedItem.showForm === 'none') {\r\n            col.hidden = true;\r\n          } else {\r\n            // 还原非隐藏设置\r\n            const oriCol = arrayFind(\r\n              item.oriCols,\r\n              'fieldCode',\r\n              addSetCols.fieldCode\r\n            );\r\n            if (oriCol) {\r\n              col.hidden = oriCol.hidden;\r\n            }\r\n          }\r\n        }\r\n      });\r\n\r\n      item.cols = afterCols;\r\n    }\r\n  }\r\n\r\n  loadShowConfig(item) {\r\n    if (!item.showValueConfig && item.valueShow) {\r\n      // 临时代码，将原在item中的配置迁移到showValueConfig中\r\n      item.showValueConfig = {\r\n        showType: item.showType,\r\n        valueShow: item.valueShow,\r\n        targetType: item.targetType,\r\n        bindField: item.bindField,\r\n        symbolShow: item.symbolShow,\r\n        inputValue: item.inputValue,\r\n        parameterList: item.parameterList\r\n      };\r\n    }\r\n    if (item.showValueConfig) {\r\n      const sc = item.showValueConfig;\r\n      if (sc.showType === 'form') {\r\n        const linkFather = arrayFind(\r\n          this.formConfig.formList,\r\n          'key',\r\n          sc.valueShow\r\n        );\r\n        if (linkFather) {\r\n          if (linkFather.value) {\r\n            item.showForm = this.vaildFormShow(\r\n              sc,\r\n              linkFather,\r\n              linkFather.value\r\n            );\r\n          }\r\n          if (!linkFather.showObservers) {\r\n            linkFather.showObservers = [];\r\n          }\r\n          if (!arrayFind(linkFather.showObservers, 'key', item.key)) {\r\n            linkFather.showObservers.push(item);\r\n          }\r\n          if (!linkFather.listeners) {\r\n            this.registerChangeListeners(linkFather);\r\n          }\r\n          // 纪录表单关联字段\r\n          if (sc.bindField) {\r\n            this.addFormLinkFields(linkFather, sc.bindField);\r\n          }\r\n        }\r\n      } else if (sc.showType === 'variable') {\r\n        this.doFlowVariableQuery(sc.valueShow).then((data: any) => {\r\n          if (data || data === '') {\r\n            let result = 'none';\r\n            if (\r\n              this.computVaild(\r\n                sc.symbolShow,\r\n                data ? (Array.isArray(data) ? data.join(',') : data) : '',\r\n                sc.inputValue,\r\n                sc\r\n              )\r\n            ) {\r\n              result = 'show';\r\n            }\r\n            this.$set(item, 'showForm', result);\r\n          }\r\n        });\r\n      } else if (sc.showType === 'script') {\r\n        this.scriptComputHandle(item, sc, 'showAndHidden');\r\n      }\r\n    }\r\n  }\r\n\r\n  addFormLinkFields(item, field) {\r\n    if (!item.linkFields) {\r\n      item.linkFields = new Set<string>();\r\n    } else if (item.linkFields instanceof Array) {\r\n      item.linkFields = new Set(item.linkFields);\r\n    }\r\n    item.linkFields.add(field);\r\n  }\r\n\r\n  // 统一注册表单值变动监听\r\n  registerChangeListeners(item) {\r\n    this.$set(item, 'listeners', {\r\n      change: (val, flag) => {\r\n        if (flag !== 'auto' && item.type !== 'table') {\r\n          this.$set(this.editMarks, item.key, val);\r\n        }\r\n        // 数据过滤\r\n        item.filterObservers &&\r\n          item.filterObservers.forEach((dataLink: any) => {\r\n            this.datasFilter(dataLink);\r\n          });\r\n        // 单元格显示隐藏\r\n        item.showObservers &&\r\n          item.showObservers.forEach((dataLink: any) => {\r\n            this.$set(\r\n              dataLink,\r\n              'showForm',\r\n              this.vaildFormShow(dataLink.showValueConfig, item, val)\r\n            );\r\n          });\r\n        // 数据视图查询\r\n        item.queryObservers &&\r\n          item.queryObservers.forEach((entity: any) => {\r\n            entity.linkSetItem.resultValue = this.getFormLinkValue(\r\n              item,\r\n              entity.linkSetItem\r\n            ); // 设置绑定参数的值\r\n            this.listQueryHandle(\r\n              entity.item,\r\n              entity.dataQueryList,\r\n              entity.viewsId,\r\n              entity.typeData,\r\n              entity.extendObj\r\n            );\r\n          });\r\n        // 表单默认值绑定\r\n        this.emitDVEvent(item);\r\n\r\n        // 脚本参数绑定\r\n        item.scriptObservers &&\r\n          item.scriptObservers.forEach((entity: any) => {\r\n            entity.extendObj.resultValue = this.getFormLinkValue(\r\n              item,\r\n              entity.extendObj\r\n            ); // 设置绑定参数的值\r\n            if (\r\n              entity.handleType !== 'staticDefaultValue' &&\r\n              entity.handleType !== 'hiddenDatas'\r\n            ) {\r\n              this.scriptComputHandle(\r\n                entity.item,\r\n                entity.scriptConfig,\r\n                entity.handleType,\r\n                entity.extendObj,\r\n                entity.extendObj2\r\n              );\r\n            } else {\r\n              this.doStaticColumnComput(\r\n                entity.item,\r\n                entity.extendObj2.def,\r\n                entity.extendObj,\r\n                entity.handleType,\r\n                entity.extendObj2.headIndex\r\n              );\r\n            }\r\n          });\r\n\r\n        // 表格拓展列显示隐藏\r\n        this.computeColsShowHide(item);\r\n\r\n        // 数据视图默认值\r\n        item.internalObservers &&\r\n          item.internalObservers.forEach((formItem: any) => {\r\n            this.buttonChange(formItem);\r\n          });\r\n      }\r\n    });\r\n  }\r\n\r\n  emitDVEvent(item) {\r\n    item.dvObservers &&\r\n      item.dvObservers.forEach((entity: any) => {\r\n        if (entity.type === 'table') {\r\n          entity.cols.forEach((col) => {\r\n            let result = '';\r\n            let tableType = '';\r\n            if (col.fieldType === 0) {\r\n              tableType = 'string';\r\n            } else if (col.fieldType === 1) {\r\n              tableType = 'number';\r\n            } else if (col.fieldType === 2) {\r\n              tableType = 'date';\r\n            } else if (col.fieldType === 3) {\r\n              tableType = 'boolean';\r\n            }\r\n            if (col.defaultList && col.defaultList.cfgType === 'bind') {\r\n              if (col.defaultList.bindType === 'tableSta') {\r\n                entity.datas.forEach((detail) => {\r\n                  const defValue = entity.datas.some((sta: any) => {\r\n                    return sta[col.prop] === '';\r\n                  });\r\n                  if (defValue === true) {\r\n                    entity.datas.forEach((detail) => {\r\n                      detail[col.prop] = this.computDefaultValue(\r\n                        detail[col.defaultList.bindTarget],\r\n                        tableType,\r\n                        col.defaultList.bindExpress\r\n                      );\r\n                    });\r\n                  }\r\n                });\r\n              } else {\r\n                result = this.getFormLinkValue(item, col.defaultList);\r\n                const defResult = this.computDefaultValue(\r\n                  result,\r\n                  tableType,\r\n                  col.defaultList.bindExpress\r\n                );\r\n                const defValue = entity.datas.some((sta) => {\r\n                  return sta[col.prop] === '';\r\n                });\r\n                if (defValue === true) {\r\n                  entity.datas.forEach((detail) => {\r\n                    detail[col.prop] = defResult;\r\n                  });\r\n                }\r\n              }\r\n            }\r\n          });\r\n        } else {\r\n          const dvc = entity.defaultValue;\r\n          const result = this.getFormLinkValue(item, dvc);\r\n          entity.value = this.computDefaultValue(\r\n            result,\r\n            entity.type,\r\n            dvc.bindExpress\r\n          );\r\n\r\n          // 格式化显示\r\n          if (Object.prototype.hasOwnProperty.call(entity, 'realValue')) {\r\n            this.setFormatWapper(entity);\r\n          }\r\n        }\r\n        // 多级关联触发\r\n        if (\r\n          (entity.value || item.entity === '') &&\r\n          entity.listeners &&\r\n          entity.listeners.change\r\n        ) {\r\n          entity.listeners.change(entity.value, 'auto');\r\n        }\r\n      });\r\n  }\r\n\r\n  /**\r\n   * 查询流程变量的值\r\n   * 可以传入单一变量code，返回该变量的查询结果\r\n   * 也可以传入多个变量code组成的数组，返回{code: result}组成的对象\r\n   * 注意：变量的查询结果是一个数组\r\n   */\r\n  doFlowVariableQuery(vars) {\r\n    return new Promise((resolve, reject) => {\r\n      let expresses = vars;\r\n      if (!Array.isArray(vars)) {\r\n        expresses = [vars];\r\n      }\r\n      fetchBatchFlowVariable({ taskId: this.taskId, expresses }).then(\r\n        ({ data, error }) => {\r\n          if (!error) {\r\n            if (Array.isArray(vars)) {\r\n              resolve(data);\r\n            } else {\r\n              let result = data[vars];\r\n              if (!result || result.length === 0) {\r\n                result = null;\r\n              }\r\n              resolve(result);\r\n            }\r\n          } else {\r\n            this.$message.error(error.message);\r\n          }\r\n        }\r\n      );\r\n    });\r\n  }\r\n\r\n  getFlowVariablehttp(handleId, item) {\r\n    this.doFlowVariableQuery(item.flowVisibleCode).then((data: any) => {\r\n      if (data) {\r\n        if (handleId === 'variableChange') {\r\n          const itemListData: Array<any> = [];\r\n          data.forEach((itemList: any) => {\r\n            itemListData.push({\r\n              value: itemList[item.dataValue],\r\n              label: itemList[item.dataLabel]\r\n            });\r\n          });\r\n          this.$set(item, 'optionsList', itemListData);\r\n          this.$set(item, 'textListLabel', data);\r\n          this.$set(item, 'optionsType', 'viewsData');\r\n          if (item.value && item.listeners) {\r\n            item.listeners.change(item.value);\r\n          }\r\n          // 此处父表单比子表单多一个item.type === 'transfer'但不影响函数执行\r\n          if (item.type === 'select' || item.type === 'transfer') {\r\n            this.datasFilter(item);\r\n          }\r\n        } else if (handleId === 'table') {\r\n          if (data.length > 0) {\r\n            if (\r\n              item.cols.some((col) => col.prop && col.prop.indexOf('.') > -1)\r\n            ) {\r\n              // 临时代码，兼顾优化前列配置\r\n              this.loadTableData(item, data);\r\n            } else {\r\n              this.loadTableData(item, this.washTableFlowVariable(data));\r\n            }\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  mutexTableLoading(item) {\r\n    // 第一阶段，支持多流程变量型\r\n    const vars = [\r\n      item.flowVisibleCode,\r\n      ...item.mutexSetList.map((set) => set.addDataSetVal)\r\n    ];\r\n    this.doFlowVariableQuery(vars).then((data: any) => {\r\n      if (data) {\r\n        for (let i = 0; i < vars.length; i++) {\r\n          let list = data[vars[i]];\r\n          if (list && list.length > 0) {\r\n            // 1、判断是否是主数据源结果，如果不是，则执行字段匹配\r\n            if (vars[i] !== item.flowVisibleCode) {\r\n              list = this.washTableFlowVariable(list);\r\n\r\n              const mutexSet = arrayFind(\r\n                item.mutexSetList,\r\n                'addDataSetVal',\r\n                vars[i]\r\n              );\r\n              if (\r\n                mutexSet.addViewDataLists &&\r\n                mutexSet.addViewDataLists.length > 0\r\n              ) {\r\n                list.forEach((row) => {\r\n                  mutexSet.addViewDataLists.forEach((col) => {\r\n                    row[col['prop']] = row[col['bindProp']];\r\n                  });\r\n                });\r\n              }\r\n\r\n              this.loadTableData(item, list);\r\n            } else {\r\n              if (\r\n                item.cols.some((col) => col.prop && col.prop.indexOf('.') > -1)\r\n              ) {\r\n                // 临时代码，兼顾优化前列配置\r\n                this.loadTableData(item, list);\r\n              } else {\r\n                this.loadTableData(item, this.washTableFlowVariable(list));\r\n              }\r\n            }\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  // 转换表格用流程变量\r\n  washTableFlowVariable(datas) {\r\n    // 截取字段prop\r\n    return datas.map((ori) => {\r\n      const newd: any = {};\r\n      Object.keys(ori).forEach((key) => {\r\n        newd[key.substring(key.lastIndexOf('.') + 1)] = ori[key];\r\n      });\r\n      return newd;\r\n    });\r\n  }\r\n\r\n  // 父表单与子表单稍微有点不一样\r\n  defaultValueBind(item) {\r\n    // 如果表单有值，则不执行默认值关联\r\n    if (item.defaultValue) {\r\n      if (\r\n        !item.value ||\r\n        item.value.length === 0 ||\r\n        item.defaultValue.ignoreCurrVal\r\n      ) {\r\n        const dvc = item.defaultValue;\r\n        if (dvc.cfgType === 'script') {\r\n          this.scriptComputHandle(item, dvc, 'defaultValue');\r\n        } else {\r\n          if (dvc.bindType === 'form') {\r\n            const linkFather = arrayFind(\r\n              this.formConfig.formList,\r\n              'key',\r\n              dvc.bindTarget\r\n            );\r\n            if (linkFather) {\r\n              if (dvc.bindField) {\r\n                this.addFormLinkFields(linkFather, dvc.bindField);\r\n              }\r\n              if (linkFather.value) {\r\n                const result = this.getFormLinkValue(linkFather, dvc);\r\n                item.value = this.computDefaultValue(\r\n                  result,\r\n                  item.type,\r\n                  dvc.bindExpress\r\n                );\r\n                // 多级关联触发\r\n                if (\r\n                  (item.value || item.value === '') &&\r\n                  item.listeners &&\r\n                  item.listeners.change\r\n                ) {\r\n                  item.listeners.change(item.value, 'auto');\r\n                }\r\n              }\r\n              if (!linkFather.dvObservers) {\r\n                linkFather.dvObservers = [];\r\n              }\r\n              if (!arrayFind(linkFather.dvObservers, 'key', item.key)) {\r\n                linkFather.dvObservers.push(item);\r\n              }\r\n              if (!linkFather.listeners) {\r\n                this.registerChangeListeners(linkFather);\r\n              }\r\n            }\r\n          } else if (dvc.bindType === 'variable') {\r\n            this.doFlowVariableQuery(dvc.bindTarget).then((data: any) => {\r\n              if (data) {\r\n                item.value = this.computDefaultValue(\r\n                  Array.isArray(data) ? data.join(',') : data,\r\n                  item.type,\r\n                  dvc.bindExpress\r\n                );\r\n                if (\r\n                  (item.value || item.value === '') &&\r\n                  item.listeners &&\r\n                  item.listeners.change\r\n                ) {\r\n                  item.listeners.change(item.value, 'auto');\r\n                }\r\n                // 格式化显示\r\n                if (Object.prototype.hasOwnProperty.call(item, 'realValue')) {\r\n                  this.setFormatWapper(item);\r\n                }\r\n              }\r\n            });\r\n          } else if (dvc.bindType === 'static') {\r\n            if (dvc.bindTarget) {\r\n              if (item.type === 'date' && !dvc.bindTarget) {\r\n                // 默认系统当日\r\n                dvc.bindTarget = moment().format('YYYY-MM-DD');\r\n              }\r\n              item.value = this.computDefaultValue(\r\n                dvc.bindTarget,\r\n                item.type,\r\n                dvc.bindExpress\r\n              );\r\n              if (\r\n                (item.value || item.value === '') &&\r\n                item.listeners &&\r\n                item.listeners.change\r\n              ) {\r\n                item.listeners.change(item.value);\r\n              }\r\n              // 格式化显示\r\n              if (Object.prototype.hasOwnProperty.call(item, 'realValue')) {\r\n                this.setFormatWapper(item);\r\n              }\r\n            }\r\n          } else if (dvc.bindType === 'dataViews') {\r\n            this.buttonChange(item);\r\n          }\r\n        }\r\n      }\r\n    } else {\r\n      if (item.type === 'childFrom') {\r\n        // 子表单默认值处理\r\n        this.childFromChange(item);\r\n      }\r\n    }\r\n\r\n    // 数字输入框默认添加千分位格式化支持\r\n    if (item.type === 'number') {\r\n      this.setFormatWapper(item);\r\n\r\n      this.$set(item, 'listeners', {\r\n        ...item.listeners,\r\n        focus: () => {\r\n          this.$set(item, 'type', 'number');\r\n          this.$set(item, 'value', item.realValue);\r\n        },\r\n        blur: () => {\r\n          this.setFormatWapper(item);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  setFormatWapper(item) {\r\n    this.$set(item, 'realValue', item.value);\r\n    this.$set(item, 'type', 'text');\r\n    let accuracyNum: any;\r\n    if (item.accuracy || item.accuracy === 0) {\r\n      accuracyNum = Number(item.accuracy);\r\n    } else {\r\n      accuracyNum = 2;\r\n    }\r\n    this.$set(item, 'value', currencyFormatter(item.value, accuracyNum));\r\n  }\r\n\r\n  // 子表单默认值处理\r\n  childFromChange(item) {\r\n    let childChange = false;\r\n    item.value &&\r\n      item.value.formList &&\r\n      item.value.formList.some((val) => {\r\n        if (val.value && val.value.length > 0) {\r\n          childChange = true;\r\n        }\r\n      });\r\n    if (childChange === false) {\r\n      this.buttonChange(item);\r\n    }\r\n  }\r\n\r\n  registerFormScriptParam(\r\n    item,\r\n    scriptConfig,\r\n    handleType,\r\n    extendObj2,\r\n    linkSetItem\r\n  ) {\r\n    let result: any = null;\r\n    /**\r\n     * 查询对应表单项\r\n     * 1、如果表单项目前有值，则直接返回\r\n     * 2、注册对该表单项的查询监听\r\n     * 3、如果已经发生了数据变更，则存入linkSetItem.resultValue变量中直接取\r\n     */\r\n    if (!linkSetItem.resultValue || linkSetItem.resultValue.length === 0) {\r\n      const linkFather = arrayFind(\r\n        this.formConfig.formList,\r\n        'key',\r\n        linkSetItem.value\r\n      );\r\n      if (linkFather) {\r\n        if (!linkFather.scriptObservers) {\r\n          linkFather.scriptObservers = [];\r\n        }\r\n        // 监听器只允许注册一次\r\n        let insertFlag = true;\r\n        if (\r\n          handleType === 'paramsButtonValue' ||\r\n          handleType === 'resultButtonValue'\r\n        ) {\r\n          insertFlag = false;\r\n        } else {\r\n          for (let j = 0; j < linkFather.scriptObservers.length; j++) {\r\n            const so = linkFather.scriptObservers[j];\r\n            if (so.item.key === item.key && so.handleType === handleType) {\r\n              if (extendObj2) {\r\n                if (handleType === 'tableCols') {\r\n                  if (\r\n                    so.extendObj2.extendColName === extendObj2.extendColName\r\n                  ) {\r\n                    insertFlag = false;\r\n                  }\r\n                } else if (\r\n                  handleType === 'staticDefaultValue' ||\r\n                  handleType === 'hiddenDatas'\r\n                ) {\r\n                  if (\r\n                    so.extendObj2.def.fieldCode === extendObj2.def.fieldCode\r\n                  ) {\r\n                    insertFlag = false;\r\n                  }\r\n                }\r\n              } else {\r\n                insertFlag = false;\r\n              }\r\n              break;\r\n            }\r\n          }\r\n        }\r\n\r\n        insertFlag &&\r\n          linkFather.scriptObservers.push({\r\n            item,\r\n            scriptConfig,\r\n            handleType,\r\n            extendObj: linkSetItem,\r\n            extendObj2\r\n          });\r\n\r\n        if (!linkFather.listeners) {\r\n          this.registerChangeListeners(linkFather);\r\n        }\r\n        // 纪录表单关联字段\r\n        if (linkSetItem.bindField) {\r\n          this.addFormLinkFields(linkFather, linkSetItem.bindField);\r\n        }\r\n        // 1\r\n        if (linkFather.type === 'table' && linkFather.datas.length > 0) {\r\n          // 添加对表格支持\r\n          result = linkFather.datas;\r\n        } else if (linkFather.value) {\r\n          result = this.getFormLinkValue(linkFather, linkSetItem);\r\n        }\r\n      }\r\n      if (result) {\r\n        linkSetItem.resultValue = result;\r\n      }\r\n    } else {\r\n      result = linkSetItem.resultValue;\r\n    }\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * 加载数据视图查询参数\r\n   * @param item：所属表单\r\n   * @param dataQueryList 参数列表\r\n   * @param viewsId：数据视图id\r\n   * @param typeData：执行目标\r\n   * @param extendObj：拓展附属对象\r\n   */\r\n  listQueryHandle(\r\n    item,\r\n    dataQueryList,\r\n    viewsId,\r\n    typeData,\r\n    extendObj: any = null\r\n  ) {\r\n    if (dataQueryList.length > 0) {\r\n      /**\r\n       * 在数据视图查询参数存在的情况下，必须保证所有的参数都可用\r\n       * 才能够发起查询\r\n       */\r\n      Promise.all(\r\n        dataQueryList.map((linkSetItem) => {\r\n          return new Promise((resove, reject) => {\r\n            const param = {};\r\n            param['type'] = linkSetItem.type;\r\n            param['code'] = linkSetItem.code;\r\n            param['required'] = linkSetItem.required;\r\n\r\n            if (linkSetItem.valueType === 'fixed') {\r\n              // 关联默认值\r\n              param['value'] = linkSetItem.value;\r\n              resove(param);\r\n            } else if (linkSetItem.valueType === 'form') {\r\n              // 关联表单项\r\n              /**\r\n               * 查询对应表单项\r\n               * 1、如果表单项目前有值，则直接返回\r\n               * 2、注册对该表单项的查询监听\r\n               * 3、如果已经发生了数据变更，则存入linkSetItem.relationVal变量中直接取\r\n               */\r\n              if (linkSetItem.resultValue) {\r\n                param['value'] = linkSetItem.resultValue;\r\n                resove(param);\r\n              } else {\r\n                const linkFather = arrayFind(\r\n                  this.formConfig.formList,\r\n                  'key',\r\n                  linkSetItem.value\r\n                );\r\n                if (linkFather) {\r\n                  // 2\r\n                  if (!linkFather.queryObservers) {\r\n                    linkFather.queryObservers = [];\r\n                  }\r\n                  linkFather.queryObservers.push({\r\n                    item,\r\n                    dataQueryList,\r\n                    viewsId,\r\n                    typeData,\r\n                    extendObj,\r\n                    linkSetItem\r\n                  });\r\n                  if (!linkFather.listeners) {\r\n                    this.registerChangeListeners(linkFather);\r\n                  }\r\n\r\n                  if (linkFather.value) {\r\n                    param['value'] = this.getFormLinkValue(\r\n                      linkFather,\r\n                      linkSetItem\r\n                    );\r\n                    resove(param);\r\n                  } else {\r\n                    reject(); // 取消本次查询，等待表单值输入\r\n                  }\r\n                }\r\n              }\r\n            } else if (linkSetItem.valueType === 'variable') {\r\n              // 关联流程变量\r\n              if (linkSetItem.relationVal) {\r\n                // 直接从查询结果中获取\r\n                param['value'] = linkSetItem.relationVal;\r\n                resove(param);\r\n              } else {\r\n                this.doFlowVariableQuery(linkSetItem.value).then(\r\n                  (data: any) => {\r\n                    if (data) {\r\n                      linkSetItem.relationVal = Array.isArray(data)\r\n                        ? data.join(',')\r\n                        : data;\r\n                      param['value'] = linkSetItem.relationVal;\r\n                      resove(param);\r\n                    } else {\r\n                      reject();\r\n                    }\r\n                  }\r\n                );\r\n              }\r\n            } else {\r\n              // 不设置参数绑定\r\n              resove({});\r\n            }\r\n          });\r\n        })\r\n      )\r\n        .then((paramsValues) => {\r\n          // 必输参数校验\r\n          if (\r\n            paramsValues.every((pv: any) => {\r\n              let re = true;\r\n              if (pv.required === 0 && (!pv.value || pv.value.length === 0)) {\r\n                re = false;\r\n              }\r\n              return re;\r\n            })\r\n          ) {\r\n            // 参数已全部获得，执行数据视图查询操作\r\n            this.dataViewQueryHandle(\r\n              viewsId,\r\n              item,\r\n              typeData,\r\n              paramsValues.filter((pa: any) => pa['code']),\r\n              extendObj\r\n            );\r\n          }\r\n        })\r\n        .catch(() => {});\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 执行关联脚本\r\n   * @param item: 所属表单\r\n   * @param scriptConfig: 脚本配置对象\r\n   * @param handleType: 执行目标\r\n   * @param extendObj: 拓展附属对象 表格拓展列储存对象\r\n   */\r\n  scriptComputHandle(\r\n    item,\r\n    scriptConfig,\r\n    handleType,\r\n    extendObj: any = null,\r\n    extendObj2: any = null\r\n  ) {\r\n    Promise.all(\r\n      scriptConfig.parameterList.map((linkSetItem) => {\r\n        return new Promise((resove, reject) => {\r\n          const param = { label: linkSetItem.label };\r\n          if (linkSetItem.valueType === 'fixed') {\r\n            // 关联默认值\r\n            param['value'] = linkSetItem.value;\r\n            resove(param);\r\n          } else if (linkSetItem.valueType === 'form') {\r\n            // 关联表单项\r\n            const result = this.registerFormScriptParam(\r\n              item,\r\n              scriptConfig,\r\n              handleType,\r\n              extendObj2,\r\n              linkSetItem\r\n            );\r\n            // 脚本参数值允许为空\r\n            param['value'] = result ? result : '';\r\n            resove(param);\r\n          } else if (linkSetItem.valueType === 'variable') {\r\n            // 关联流程变量\r\n            if (linkSetItem.resultValue) {\r\n              param['value'] = linkSetItem.resultValue;\r\n              resove(param);\r\n            } else {\r\n              this.doFlowVariableQuery(linkSetItem.value).then((data: any) => {\r\n                if (data) {\r\n                  linkSetItem.resultValue =\r\n                    Array.isArray(data) && typeof data[0] !== 'object'\r\n                      ? data.join(',')\r\n                      : data;\r\n                  param['value'] = linkSetItem.resultValue;\r\n                  resove(param);\r\n                } else {\r\n                  // 苏晴晴提出，没有值也算是值\r\n                  linkSetItem.resultValue = '';\r\n                  param['value'] = '';\r\n                  resove(param);\r\n                }\r\n              });\r\n            }\r\n          } else if (linkSetItem.valueType === 'tableSta') {\r\n            // 奇怪的状态码，非静态列联动不允许字段触发\r\n            let unStaticFlag = false;\r\n            // 关联表格行\r\n            if (handleType === 'paramsButtonValue') {\r\n              param['value'] = extendObj2['row'][linkSetItem.value];\r\n            } else {\r\n              const currentRow = arrayFind(\r\n                item.datas,\r\n                'editMarkIndex',\r\n                extendObj2.dataItem['editMarkIndex']\r\n              );\r\n              if (currentRow) {\r\n                const resultValue: any = currentRow[linkSetItem.value];\r\n                if (resultValue) {\r\n                  param['value'] = resultValue;\r\n                }\r\n              }\r\n\r\n              if (\r\n                !extendObj2['scriptFlag'] ||\r\n                !extendObj2['scriptFlag'][`${handleType}_${linkSetItem.value}`]\r\n              ) {\r\n                // 注册监听器\r\n                if (!item.scriptObservers) {\r\n                  item.scriptObservers = [];\r\n                }\r\n                item.scriptObservers.push({\r\n                  item,\r\n                  scriptConfig,\r\n                  handleType,\r\n                  extendObj: linkSetItem,\r\n                  extendObj2\r\n                });\r\n                if (!item.listeners) {\r\n                  this.registerChangeListeners(item);\r\n                }\r\n                if (!extendObj2['scriptFlag']) {\r\n                  extendObj2['scriptFlag'] = {};\r\n                }\r\n                extendObj2['scriptFlag'][\r\n                  `${handleType}_${linkSetItem.value}`\r\n                ] = true;\r\n\r\n                if (extendObj2.def.type !== 'static') {\r\n                  unStaticFlag = true;\r\n                }\r\n              }\r\n            }\r\n\r\n            if (!unStaticFlag || extendObj2.ignoreFlag) {\r\n              resove(param);\r\n            } else {\r\n              reject();\r\n            }\r\n          } else if (linkSetItem.valueType === 'serviceResponse') {\r\n            if (linkSetItem.value) {\r\n              const serList = scriptConfig.returnData.map((reItem) => {\r\n                return reItem[linkSetItem.value];\r\n              });\r\n              param['value'] = Array.isArray(serList)\r\n                ? serList.join(',')\r\n                : serList;\r\n            } else {\r\n              // 如果不选择目标字段，则将整个返回结果作为参数的值\r\n              param['value'] = scriptConfig.returnData;\r\n            }\r\n\r\n            if (param['value']) {\r\n              resove(param);\r\n            } else {\r\n              reject();\r\n            }\r\n          }\r\n        });\r\n      })\r\n    )\r\n      .then((paramsValues) => {\r\n        // 参数已全部获得，执行脚本\r\n        new Promise((resolve, reject) => {\r\n          if (\r\n            scriptConfig.scriptType === 'javascript' ||\r\n            !scriptConfig.scriptType\r\n          ) {\r\n            // 正经脚本\r\n            const paramsList = paramsValues.map((par: any) => {\r\n              return par.value;\r\n            });\r\n\r\n            if (scriptConfig.valueShow) {\r\n              const methodChage = eval(\r\n                `window.dealFormScript = ${scriptConfig.valueShow}`\r\n              );\r\n\r\n              if (handleType === 'tableDefault') {\r\n                for (let i = 0; i < paramsList.length; i++) {\r\n                  if (Array.isArray(paramsList[i])) {\r\n                    paramsList[i] = this.washTableFlowVariable(paramsList[i]);\r\n                  }\r\n                }\r\n              }\r\n              resolve(methodChage(...paramsList));\r\n            } else {\r\n              reject();\r\n            }\r\n          } else if (scriptConfig.scriptType === 'meteorShower') {\r\n            // 刘星语\r\n            let meteorShower = scriptConfig.valueShow;\r\n            // 替换函数中的变量占位符\r\n            paramsValues.forEach((par: any) => {\r\n              meteorShower = meteorShower.replace(\r\n                new RegExp(par['label'], 'g'),\r\n                `\"${par['value']}\"`\r\n              );\r\n            });\r\n            // 调用后端计算接口\r\n            fetchMeteorShower({\r\n              script: meteorShower,\r\n              taskId: this.taskId\r\n            }).then(({ data }: any) => {\r\n              if (data) {\r\n                resolve(Array.isArray(data) ? data.join(',') : data);\r\n              } else {\r\n                resolve('');\r\n              }\r\n            });\r\n          }\r\n        })\r\n          .then((result: any) => {\r\n            if (handleType === 'defaultValue') {\r\n              // 默认值绑定\r\n              item.value = result;\r\n              if (item.listeners) {\r\n                item.listeners.change(item.value);\r\n              }\r\n              // 格式化显示\r\n              if (Object.prototype.hasOwnProperty.call(item, 'realValue')) {\r\n                this.setFormatWapper(item);\r\n              }\r\n            } else if (handleType === 'showAndHidden') {\r\n              // 显示隐藏控制\r\n              this.$set(item, 'showForm', 'none');\r\n              if (result === true) {\r\n                this.$set(item, 'showForm', 'show');\r\n              }\r\n            } else if (handleType === 'tableCols') {\r\n              let showForm = 'show';\r\n              if (!result || result === 'false') {\r\n                showForm = 'none';\r\n              }\r\n              extendObj2.showForm = showForm;\r\n              this.doExtendColsHidden(item, extendObj2);\r\n            } else if (handleType === 'staticDefaultValue') {\r\n              const newData: Array<any> = cloneDeep(\r\n                arrayFind(\r\n                  item.datas,\r\n                  'editMarkIndex',\r\n                  extendObj2.dataItem['editMarkIndex']\r\n                )\r\n              );\r\n              if (newData) {\r\n                newData[scriptConfig.fieldCode] = result;\r\n                item.datas.splice(extendObj2.ind, 1, newData);\r\n                // 更新原始数据中的对应值\r\n                const oriData: Array<any> = arrayFind(\r\n                  item.oriDatas,\r\n                  'editMarkIndex',\r\n                  extendObj2.dataItem['editMarkIndex']\r\n                );\r\n                let doInput = result ? true : false;\r\n                if (oriData) {\r\n                  const oldV = oriData[scriptConfig.fieldCode];\r\n\r\n                  oriData[scriptConfig.fieldCode] = result;\r\n\r\n                  if (doInput && oldV == result) {\r\n                    // 过滤自动默认值计算造成的假更新\r\n                    doInput = false;\r\n                  }\r\n                }\r\n                // 自动触发单元格编辑\r\n                doInput &&\r\n                  this.handleDoInput(\r\n                    extendObj2.dataItem['editMarkIndex'],\r\n                    scriptConfig.fieldCode,\r\n                    result,\r\n                    item.key,\r\n                    false\r\n                  );\r\n              }\r\n            } else if (handleType === 'hiddenDatas') {\r\n              if (!result) {\r\n                this.$set(extendObj.disable, extendObj2.headIndex, 0);\r\n              } else {\r\n                this.$set(extendObj.disable, extendObj2.headIndex, 1);\r\n              }\r\n            } else if (handleType === 'paramsButtonValue') {\r\n              scriptConfig.reqBody = result;\r\n              // 执行表格按钮服务\r\n              this.fetchBtnService(extendObj2.row, extendObj2.btn, item);\r\n            } else if (handleType === 'ordinaryButtonParams') {\r\n              scriptConfig.reqBody = result;\r\n              // 执行普通按钮服务\r\n              this.fetchOrdinaryBtnService(\r\n                extendObj2.linkPromise,\r\n                item,\r\n                extendObj2.linkDef\r\n              );\r\n            } else if (handleType === 'resultButtonValue') {\r\n              this.$set(extendObj2, scriptConfig.targetCol, result);\r\n            } else if (handleType === 'ordinaryButtonValue') {\r\n              const linkFather = arrayFind(\r\n                this.formConfig.formList,\r\n                'key',\r\n                item.setLink.targetObjectBut.targetCol\r\n              );\r\n              this.formConfig.formList.forEach((fromItem) => {\r\n                if (fromItem.key === linkFather.key) {\r\n                  fromItem.value = result;\r\n                  if (item.setLink.targetObjectBut.targetTableCol) {\r\n                    fromItem.datas.forEach((ele) => {\r\n                      ele[item.setLink.targetObjectBut.targetTableCol] = result;\r\n                    });\r\n                  } else {\r\n                    fromItem.value = result;\r\n                  }\r\n                }\r\n              });\r\n            } else if (handleType === 'defScriptValue') {\r\n              item.value = result;\r\n            } else if (handleType === 'tableDefault') {\r\n              this.loadTableData(item, result);\r\n            } else if (handleType === 'datasfilter') {\r\n              if (item.type === 'table') {\r\n                item.datas = result;\r\n              } else {\r\n                item.optionsList = result.map((option) => ({\r\n                  value: option[item.dataValue],\r\n                  label: option[item.dataLabel]\r\n                }));\r\n              }\r\n            }\r\n          })\r\n          .catch(() => {});\r\n      })\r\n      .catch(() => {});\r\n  }\r\n\r\n  /**\r\n   * 根据页面所需字段加载数据视图，减少数据冗余\r\n   */\r\n  getViewQueryFields(item, dataHandle, extendObj) {\r\n    let fields: any = [];\r\n    if (dataHandle === 'selectView') {\r\n      if (!item.linkFields) {\r\n        item.linkFields = new Set();\r\n      } else {\r\n        if (Array.isArray(item.linkFields)) {\r\n          item.linkFields = new Set(item.linkFields);\r\n        } else {\r\n          item.linkFields = new Set();\r\n        }\r\n      }\r\n      item.linkFields.add(item.dataValue);\r\n      item.linkFields.add(item.dataLabel);\r\n\r\n      fields = Array.from(item.linkFields);\r\n    } else if (dataHandle === 'tableChild') {\r\n      // 纪录关联目标字段\r\n      const fs = new Set(\r\n        extendObj.addViewDataLists.map((av) => av.addViewData)\r\n      );\r\n      // 添加拓展列目标字段\r\n      extendObj.addDataValue.forEach((fie) => fs.add(fie));\r\n      fields = Array.from(fs);\r\n    } else if (dataHandle === 'table') {\r\n      // 纪录表格待显示字段\r\n      const fs = new Set(item.associatedNodeList);\r\n      // 筛选出拓展列的关联来源字段\r\n      if (item.addSetList && item.addSetList.length > 0) {\r\n        item.addSetList.forEach((addSet) => {\r\n          if (addSet.addSetType !== 'addList') {\r\n            addSet.addViewDataLists.forEach(\r\n              (av) =>\r\n                av.addDataLink.indexOf('yss') > -1 && fs.add(av.addDataLink)\r\n            );\r\n          }\r\n        });\r\n      }\r\n      fields = Array.from(fs);\r\n    }\r\n    return fields;\r\n  }\r\n\r\n  dataViewQueryHandle(\r\n    viewsId,\r\n    item,\r\n    dataHandle,\r\n    queryParams: any = [],\r\n    extendObj: any = null\r\n  ) {\r\n    if (viewsId) {\r\n      const viewData = {\r\n        viewId: viewsId,\r\n        queryParams: queryParams ? queryParams : [],\r\n        authStationAndUsers: [\r\n          {\r\n            stationId: this.taskDealStationId,\r\n            userCode: this.userCode\r\n          }\r\n        ]\r\n      };\r\n      dataViewQueryWithAuth(viewData).then(({ data, error }) => {\r\n        if (error) {\r\n          this.$message.error('查询数据视图结果失败:' + error.message);\r\n          return false;\r\n        } else {\r\n          if (data.rows && data.rows.length > 0) {\r\n            if (dataHandle === 'tableChild') {\r\n              this.mergeExtendColsView(\r\n                data.rows,\r\n                extendObj.addViewDataLists,\r\n                extendObj,\r\n                item\r\n              );\r\n            } else if (dataHandle === 'selectView') {\r\n              const itemListData: Array<any> = [];\r\n              data.rows.forEach((itemList: any) => {\r\n                if (Array.isArray(item.dataLabel)) {\r\n                  const label: Array<any> = [];\r\n                  item.dataLabel.forEach((ele, index) => {\r\n                    label.push(itemList[ele]);\r\n                  });\r\n                  if (\r\n                    !arrayFind(itemListData, 'value', itemList[item.dataValue])\r\n                  ) {\r\n                    itemListData.push({\r\n                      value: itemList[item.dataValue],\r\n                      label: label.join('-')\r\n                    });\r\n                  }\r\n                } else {\r\n                  itemListData.push({\r\n                    value: itemList[item.dataValue],\r\n                    label: itemList[item.dataLabel]\r\n                  });\r\n                }\r\n              });\r\n              // 添加排序支持\r\n              if (Array.isArray(item.dataLabel) && item.dataLabel.length > 1) {\r\n                itemListData.sort((pre, aft) => {\r\n                  return pre['label'] > aft['label'] ? 1 : -1;\r\n                });\r\n              }\r\n              this.$set(item, 'textListLabel', data.rows);\r\n              this.$set(item, 'optionsList', itemListData);\r\n              this.$set(item, 'optionsType', 'viewsData');\r\n              if (item.value && item.listeners) {\r\n                item.listeners.change(item.value, 'auto');\r\n              }\r\n              if (item.type === 'select' || item.type === 'transfer') {\r\n                this.datasFilter(item);\r\n              }\r\n            } else if (dataHandle === 'table') {\r\n              this.loadTableData(item, data.rows);\r\n            }\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  // 加载表格数据\r\n  loadTableData(item, records) {\r\n    if (records && records.length > 0) {\r\n      //  为各行添加唯一主键 editMarkIndex\r\n      records.forEach((record, index) => {\r\n        let key: any = null;\r\n        if (item.refreshLoading && item.loadingPrimKey.length > 0) {\r\n          key = item.loadingPrimKey.map((key) => record[key]).join('_');\r\n        } else if (!record['editMarkIndex']) {\r\n          // 如果有主键，则使用主键作为editMarkIndex的值，否则默认生成\r\n          key = `r${index}`;\r\n        }\r\n        if (key) {\r\n          this.$set(record, 'editMarkIndex', key);\r\n        }\r\n      });\r\n      // 主表数据加载\r\n      item.oriDatas = records;\r\n      // 直接执行主表数据过滤\r\n      this.datasFilter(item);\r\n\r\n      // 流转历史面板，加载表格时，不用重复渲染拓展列\r\n      if (this.mode === 'historyDetail') {\r\n        return false;\r\n      }\r\n      // 预加载表格编辑历史\r\n      if (item.history) {\r\n        this.queryItemImprint(item);\r\n      }\r\n\r\n      // 拓展列数据加载\r\n      if (item.addSetList && item.addSetList.length > 0) {\r\n        item.addSetList.forEach((addSet) => {\r\n          this.doExtendColsQuery(addSet, item);\r\n        });\r\n      }\r\n      if (item.value && item.listeners) {\r\n        item.listeners.change(item.value);\r\n      }\r\n    }\r\n  }\r\n\r\n  doExtendColsQuery(addSet, item) {\r\n    const records = item.oriDatas;\r\n    if (addSet.addSetType === 'addList') {\r\n      // 静态列\r\n      if (addSet.tabList.length > 0 || addSet.colsAdd.length > 0) {\r\n        // 临时代码，见过历史配置\r\n        const cols =\r\n          addSet.colsAdd.length > 0 ? addSet.colsAdd : addSet.tabList;\r\n        this.recordsHanle(records, item, cols);\r\n      }\r\n      this.datasFilter(item);\r\n    } else if (addSet.addSetType === 'addViewList') {\r\n      // 关联数据视图\r\n      if (addSet.addDataQueryList.length > 0) {\r\n        this.listQueryHandle(\r\n          item,\r\n          addSet.addDataQueryList,\r\n          addSet.addDataSetVal,\r\n          'tableChild',\r\n          addSet\r\n        );\r\n      } else {\r\n        this.dataViewQueryHandle(\r\n          addSet.addDataSetVal,\r\n          item,\r\n          'tableChild',\r\n          [],\r\n          addSet\r\n        );\r\n      }\r\n    } else if (addSet.addSetType === 'addFlowVariables') {\r\n      // 关联流程变量\r\n      this.addFlowVariablesLink(addSet, addSet.addViewDataLists, item, records);\r\n    }\r\n  }\r\n\r\n  // 计算表单关联项的值\r\n  getFormLinkValue(formItem, linkSetItem) {\r\n    let result: any = '';\r\n    if (linkSetItem.bindField) {\r\n      if (formItem.textListLabel && formItem.textListLabel.length > 0) {\r\n        const fobj = arrayFind(\r\n          formItem.textListLabel,\r\n          formItem.dataValue,\r\n          formItem.value\r\n        );\r\n        if (fobj) {\r\n          result = fobj[linkSetItem.bindField];\r\n        }\r\n      }\r\n      this.addFormLinkFields(formItem, linkSetItem.bindField);\r\n    } else {\r\n      result = formItem.realValue ? formItem.realValue : formItem.value;\r\n    }\r\n    return result;\r\n  }\r\n\r\n  // registerFormScriptParam\r\n\r\n  doStaticColumnComput(item, def, extendObj, handleType, headIndex) {\r\n    item.datas.forEach((dataItem, index) => {\r\n      if (handleType === 'hiddenDatas') {\r\n        dataItem.disable = new Array(item.cols.length);\r\n      }\r\n      if (\r\n        def.type === 'static' &&\r\n        handleType === 'staticDefaultValue' &&\r\n        dataItem[def.fieldCode]\r\n      ) {\r\n        // 静态列有值则不设置关联\r\n      } else {\r\n        const dataList = {\r\n          dataItem: dataItem,\r\n          def: def,\r\n          ind: index,\r\n          headIndex,\r\n          ignoreFlag: true\r\n        };\r\n        this.scriptComputHandle(\r\n          item,\r\n          def.defaultList,\r\n          handleType,\r\n          extendObj,\r\n          dataList\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  // 静态列默认值设置\r\n  staticColumnDefaultValue(item) {\r\n    let tableType: any = '';\r\n    item.cols.forEach((def: any) => {\r\n      if (def.defaultList) {\r\n        if (def.fieldType === 0) {\r\n          tableType = 'string';\r\n        } else if (def.fieldType === 1) {\r\n          tableType = 'number';\r\n        } else if (def.fieldType === 2) {\r\n          tableType = 'date';\r\n        } else if (def.fieldType === 3) {\r\n          tableType = 'boolean';\r\n        }\r\n        if (def.defaultList.cfgType === 'script') {\r\n          if (def.type !== 'static' && def.editable !== 1) {\r\n            // 普通列只有在编辑状态下才开启关联\r\n          } else {\r\n            const vars: any = [];\r\n            def.defaultList.parameterList.forEach((pl) => {\r\n              if (!pl.resultValue) {\r\n                if (pl.valueType === 'variable') {\r\n                  vars.push(pl.value);\r\n                } else if (pl.valueType === 'form') {\r\n                  // item, scriptConfig, handleType, extendObj2, linkSetItem\r\n                  pl.resultValue = this.registerFormScriptParam(\r\n                    item,\r\n                    def.defaultList,\r\n                    'staticDefaultValue',\r\n                    { def },\r\n                    pl\r\n                  );\r\n                }\r\n              }\r\n            });\r\n\r\n            new Promise((resolve) => {\r\n              if (vars.length > 0) {\r\n                this.doFlowVariableQuery(vars).then((data: any) => {\r\n                  if (data) {\r\n                    def.defaultList.parameterList.forEach((pl) => {\r\n                      if (pl.valueType === 'variable' && !pl.resultValue) {\r\n                        pl['resultValue'] = data[pl.value];\r\n                      }\r\n                    });\r\n                  }\r\n                  resolve();\r\n                });\r\n              } else {\r\n                resolve();\r\n              }\r\n            }).then(() => {\r\n              this.doStaticColumnComput(\r\n                item,\r\n                def,\r\n                null,\r\n                'staticDefaultValue',\r\n                null\r\n              );\r\n            });\r\n          }\r\n        } else {\r\n          if (def.defaultList.bindType === 'static') {\r\n            if (def.fieldType === 2 && !def.defaultList.bindTarget) {\r\n              // 默认系统当日\r\n              def.defaultList.bindTarget = moment().format('YYYY-MM-DD');\r\n            }\r\n            if (def.defaultList.bindTarget) {\r\n              const staticDef = this.computDefaultValue(\r\n                def.defaultList.bindTarget,\r\n                tableType,\r\n                def.defaultList.bindExpress\r\n              );\r\n              const defValue = item.datas.some((sta) => {\r\n                return sta[def.prop] === '';\r\n              });\r\n              if (defValue === true) {\r\n                item.datas.forEach((detail) => {\r\n                  detail[def.prop] = staticDef;\r\n                });\r\n              }\r\n            }\r\n          } else if (def.defaultList.bindType === 'variable') {\r\n            new Promise((resolve) => {\r\n              if (!def.defaultList.resultValue) {\r\n                this.doFlowVariableQuery(def.defaultList.bindTarget).then(\r\n                  (data: any) => {\r\n                    if (data) {\r\n                      def.defaultList.resultValue = Array.isArray(data)\r\n                        ? data.join(',')\r\n                        : data;\r\n                    }\r\n                    resolve();\r\n                  }\r\n                );\r\n              } else {\r\n                resolve();\r\n              }\r\n            }).then(() => {\r\n              const variableDef = this.computDefaultValue(\r\n                def.defaultList.resultValue,\r\n                tableType,\r\n                def.defaultList.bindExpress\r\n              );\r\n              const defValue = item.datas.some((sta) => {\r\n                return sta[def.prop] === '';\r\n              });\r\n              if (defValue === true) {\r\n                item.datas.forEach((detail) => {\r\n                  detail[def.prop] = variableDef;\r\n                });\r\n              }\r\n            });\r\n          } else if (def.defaultList.bindType === 'form') {\r\n            const linkFather = arrayFind(\r\n              this.formConfig.formList,\r\n              'key',\r\n              def.defaultList.bindTarget\r\n            );\r\n            if (linkFather) {\r\n              if (def.defaultList.bindField) {\r\n                this.addFormLinkFields(linkFather, def.defaultList.bindField);\r\n              }\r\n              if (linkFather.value) {\r\n                const result = this.getFormLinkValue(\r\n                  linkFather,\r\n                  def.defaultList\r\n                );\r\n                const defResult = this.computDefaultValue(\r\n                  result,\r\n                  tableType,\r\n                  def.defaultList.bindExpress\r\n                );\r\n                const defValue = item.datas.some((sta) => {\r\n                  return sta[def.prop] === '';\r\n                });\r\n                if (defValue === true) {\r\n                  item.datas.forEach((detail) => {\r\n                    detail[def.prop] = defResult;\r\n                  });\r\n                }\r\n              }\r\n              if (!linkFather.dvObservers) {\r\n                linkFather.dvObservers = [];\r\n              }\r\n              if (!arrayFind(linkFather.dvObservers, 'key', item.key)) {\r\n                linkFather.dvObservers.push(item);\r\n              }\r\n              if (!linkFather.listeners) {\r\n                this.registerChangeListeners(linkFather);\r\n              }\r\n            }\r\n          } else if (def.defaultList.bindType === 'tableSta') {\r\n            item.datas.forEach((detail) => {\r\n              const defValue = item.datas.some((sta: any) => {\r\n                return sta[def.prop] === '';\r\n              });\r\n              if (defValue === true) {\r\n                item.datas.forEach((detail) => {\r\n                  detail[def.prop] = this.computDefaultValue(\r\n                    detail[def.defaultList.bindTarget],\r\n                    tableType,\r\n                    def.defaultList.bindExpress\r\n                  );\r\n                });\r\n              }\r\n            });\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n   * 表格列可编辑状态控制\r\n   */\r\n  computTableColEditControl(item) {\r\n    item.cols.forEach((colsItem, ind) => {\r\n      // 可编辑设置\r\n      if (colsItem.staticList) {\r\n        if (colsItem.staticList.staticType === 'script') {\r\n          const showValueConfig = colsItem.staticList.showValueConfig;\r\n          const vars: any = [];\r\n          showValueConfig.parameterList.forEach((pl) => {\r\n            if (!pl.resultValue) {\r\n              if (pl.valueType === 'variable') {\r\n                vars.push(pl.value);\r\n              } else if (pl.valueType === 'form') {\r\n                // item, scriptConfig, handleType, extendObj2, linkSetItem\r\n                pl.resultValue = this.registerFormScriptParam(\r\n                  item,\r\n                  showValueConfig,\r\n                  'hiddenDatas',\r\n                  { def: colsItem, headIndex: ind },\r\n                  pl\r\n                );\r\n              }\r\n            }\r\n          });\r\n\r\n          new Promise((resolve) => {\r\n            if (vars.length > 0) {\r\n              this.doFlowVariableQuery(vars).then((data: any) => {\r\n                if (data) {\r\n                  showValueConfig.parameterList.parameterList.forEach((pl) => {\r\n                    if (pl.valueType === 'variable' && !pl.resultValue) {\r\n                      pl['resultValue'] = data[pl.value];\r\n                    }\r\n                  });\r\n                }\r\n                resolve();\r\n              });\r\n            } else {\r\n              resolve();\r\n            }\r\n          }).then(() => {\r\n            this.doStaticColumnComput(\r\n              item,\r\n              colsItem,\r\n              null,\r\n              'hiddenDatas',\r\n              null\r\n            );\r\n          });\r\n        } else if (colsItem.staticList.staticType === 'tableSta') {\r\n          item.datas.forEach((record, index) => {\r\n            // 重置可编辑状态\r\n            record.disable = new Array(item.cols.length);\r\n\r\n            colsItem.staticList.staticDataList.forEach((showCols) => {\r\n              if (\r\n                !this.computVaild(\r\n                  showCols.staticFilter,\r\n                  record[showCols.staticCheck]\r\n                    ? record[showCols.staticCheck]\r\n                    : '',\r\n                  showCols.staticText,\r\n                  ''\r\n                )\r\n              ) {\r\n                this.$set(record.disable, ind, 0);\r\n              }\r\n            });\r\n          });\r\n        }\r\n      }\r\n    });\r\n    item.datas.forEach((record, index) => {\r\n      // 重置可编辑状态\r\n      record.disable = new Array(item.cols.length);\r\n    });\r\n  }\r\n\r\n  computDefaultValue(result, itemType, express) {\r\n    if (result) {\r\n      let cr = result;\r\n      if (itemType === 'date') {\r\n        cr = moment(result);\r\n        if (express.year && express.year !== 0) {\r\n          if (express.yearSign === 1) {\r\n            express.year = 0 - express.year;\r\n          }\r\n          cr = cr.add(express.year, 'years');\r\n        }\r\n        if (express.month && express.month !== 0) {\r\n          if (express.monthSign === 1) {\r\n            express.month = 0 - express.month;\r\n          }\r\n          cr = cr.add(express.month, 'months');\r\n        }\r\n        if (express.day && express.day !== 0) {\r\n          if (express.daySign === 1) {\r\n            express.day = 0 - express.day;\r\n          }\r\n          cr = cr.add(express.day, 'days');\r\n        }\r\n        cr = cr.format('YYYY-MM-DD');\r\n      } else if (itemType === 'number') {\r\n        cr = parseFloat(result);\r\n        if (express.offset) {\r\n          const os = parseFloat(express.offset);\r\n          switch (express.sign) {\r\n            case 0:\r\n              cr += os;\r\n              break;\r\n            case 1:\r\n              cr -= os;\r\n              break;\r\n            case 2:\r\n              cr *= os;\r\n              break;\r\n            case 3:\r\n              cr /= os;\r\n              break;\r\n          }\r\n        }\r\n      }\r\n      return cr;\r\n    } else {\r\n      return '';\r\n    }\r\n  }\r\n\r\n  doDatasfilter(records, key, value, type) {\r\n    return records.filter((item) => {\r\n      const target = item[key];\r\n      return this.computVaild(type, target, value, '');\r\n    });\r\n  }\r\n\r\n  computVaild(type, target, value, sc) {\r\n    if (sc.relationship === '2' && sc.showType === 'variable') {\r\n      return target.split(',').some((someItem) => {\r\n        return this.targetFun(type, someItem, value, 'item');\r\n      });\r\n    } else if (sc.relationship === '1' && sc.showType === 'variable') {\r\n      return target.split(',').every((everyItem) => {\r\n        return this.targetFun(type, everyItem, value, 'item');\r\n      });\r\n    } else {\r\n      return this.targetFun(type, target, value, 'all');\r\n    }\r\n  }\r\n\r\n  targetFun(type, targetItem, value, typetDiff) {\r\n    if (typeof targetItem === 'boolean') {\r\n      targetItem = `${targetItem}`;\r\n    } else if (!isNaN(targetItem)) {\r\n      targetItem = parseFloat(targetItem);\r\n      value = parseFloat(value);\r\n    }\r\n    if (type === '1' || !type) {\r\n      if (typetDiff === 'item') {\r\n        return targetItem === value;\r\n      } else {\r\n        if (\r\n          targetItem &&\r\n          (typeof targetItem === 'string' || typeof targetItem === 'object') &&\r\n          targetItem.indexOf(',') !== -1\r\n        ) {\r\n          return targetItem.indexOf(value) > -1;\r\n        } else {\r\n          return targetItem == value;\r\n        }\r\n      }\r\n    } else if (type === '0') {\r\n      return targetItem > value;\r\n    } else if (type === '2') {\r\n      return targetItem < value;\r\n    } else if (type === '3') {\r\n      return targetItem !== value;\r\n    } else if (type === '4') {\r\n      return targetItem >= value;\r\n    } else if (type === '5') {\r\n      return targetItem <= value;\r\n    } else if (type === '6') {\r\n      if (targetItem) {\r\n        return targetItem.indexOf(value) > -1;\r\n      }\r\n    } else if (type === '7') {\r\n      if (targetItem) {\r\n        return targetItem.indexOf(value) === -1;\r\n      }\r\n    }\r\n  }\r\n\r\n  // vaildFormShow\r\n\r\n  // 数据过滤\r\n  datasFilter(item) {\r\n    // 临时代码，兼容历史配置\r\n    if (item.filterText && item.filterText.length > 0) {\r\n      item.filterConfig = {\r\n        cfgType: 'bind',\r\n        filterText: item.filterText,\r\n        strategy: 'and'\r\n      };\r\n      item.filterText = null;\r\n    }\r\n\r\n    if (item.filterConfig) {\r\n      if (item.filterConfig.cfgType === 'bind') {\r\n        if (\r\n          item.filterConfig.filterText &&\r\n          item.filterConfig.filterText.length > 0\r\n        ) {\r\n          Promise.all(\r\n            item.filterConfig.filterText.map((itemList) => {\r\n              return new Promise((resolve, reject) => {\r\n                const param = {};\r\n                if (itemList.textLinkValue) {\r\n                  if (itemList.filterType === 'form') {\r\n                    const textLinkFather = arrayFind(\r\n                      this.formConfig.formList,\r\n                      'key',\r\n                      itemList.textLink\r\n                    );\r\n                    if (textLinkFather) {\r\n                      param['textLinkValue'] = itemList.textLinkValue;\r\n                      param['textLinkMethod'] = itemList.textLinkMethod;\r\n                      param['value'] = textLinkFather.value;\r\n                      resolve(param);\r\n\r\n                      if (!textLinkFather.filterObservers) {\r\n                        textLinkFather.filterObservers = [];\r\n                      }\r\n                      if (\r\n                        !arrayFind(\r\n                          textLinkFather.filterObservers,\r\n                          'key',\r\n                          item.key\r\n                        )\r\n                      ) {\r\n                        textLinkFather.filterObservers.push(item);\r\n                      }\r\n                      if (!textLinkFather.listeners) {\r\n                        this.registerChangeListeners(textLinkFather);\r\n                      }\r\n                    }\r\n                  } else if (itemList.filterType === 'variable') {\r\n                    if (\r\n                      itemList.filterValue &&\r\n                      itemList.filterValue.length > 0\r\n                    ) {\r\n                      param['textLinkValue'] = itemList.textLinkValue;\r\n                      param['textLinkMethod'] = itemList.textLinkMethod;\r\n                      param['value'] = itemList.filterValue;\r\n                      resolve(param);\r\n                    } else {\r\n                      this.doFlowVariableQuery(itemList.textLink).then(\r\n                        (data: any) => {\r\n                          if (\r\n                            data &&\r\n                            (data instanceof String || data.length > 0)\r\n                          ) {\r\n                            this.$set(itemList, 'filterValue', data);\r\n                            param['textLinkValue'] = itemList.textLinkValue;\r\n                            param['textLinkMethod'] = itemList.textLinkMethod;\r\n                            param['value'] = data;\r\n                            resolve(param);\r\n                          } else {\r\n                            this.$set(itemList, 'filterValue', '');\r\n                            param['textLinkValue'] = itemList.textLinkValue;\r\n                            param['textLinkMethod'] = itemList.textLinkMethod;\r\n                            param['value'] = '';\r\n                            resolve(param);\r\n                          }\r\n                        }\r\n                      );\r\n                    }\r\n                  } else if (itemList.filterType === 'static') {\r\n                    if (itemList.textLink) {\r\n                      param['textLinkValue'] = itemList.textLinkValue;\r\n                      param['textLinkMethod'] = itemList.textLinkMethod;\r\n                      param['value'] = itemList.textLink;\r\n                      resolve(param);\r\n                    }\r\n                  }\r\n                }\r\n              });\r\n            })\r\n          ).then((params) => {\r\n            const orFlag = item.filterConfig.strategy === 'or';\r\n\r\n            const computWapper = (itemData: any) => {\r\n              return (param: any) => {\r\n                if (param.value && param.value instanceof Array) {\r\n                  return this.computVaild(\r\n                    param.textLinkMethod,\r\n                    itemData[param.textLinkValue],\r\n                    param.value.join(','),\r\n                    ''\r\n                  );\r\n                } else {\r\n                  return this.computVaild(\r\n                    param.textLinkMethod,\r\n                    itemData[param.textLinkValue],\r\n                    param.value,\r\n                    ''\r\n                  );\r\n                }\r\n              };\r\n            };\r\n\r\n            if (item.type === 'table') {\r\n              const colsDatas: Array<any> = [];\r\n              item.oriDatas.forEach((itemDatas) => {\r\n                const comput = computWapper(itemDatas);\r\n                const condition = orFlag\r\n                  ? params.some(comput)\r\n                  : params.every(comput);\r\n                if (condition === true) {\r\n                  colsDatas.push(itemDatas);\r\n                }\r\n              });\r\n              item.datas = colsDatas;\r\n              this.handleTableDatasChange(item);\r\n            } else {\r\n              const itemListData: Array<any> = [];\r\n              item.textListLabel.forEach((itemList: any) => {\r\n                const comput = computWapper(itemList);\r\n                const condition = orFlag\r\n                  ? params.some(comput)\r\n                  : params.every(comput);\r\n                if (condition === true) {\r\n                  itemListData.push({\r\n                    value: itemList[item.dataValue],\r\n                    label: itemList[item.dataLabel]\r\n                  });\r\n                }\r\n              });\r\n              this.$set(item, 'optionsList', itemListData);\r\n            }\r\n          });\r\n        }\r\n      } else {\r\n        // 如果采用脚本，先假设过滤结果全为真\r\n        item.datas = item.oriDatas;\r\n        // 将待过滤数据作为最后一个参数传入\r\n        if (!item.filterConfig.pushDatas) {\r\n          item.filterConfig.parameterList.push({\r\n            label: 'beFilterDatas',\r\n            valueType: 'fixed',\r\n            value: item.type === 'table' ? item.oriDatas : item.textListLabel\r\n          });\r\n          item.filterConfig.pushDatas = true;\r\n        }\r\n\r\n        this.scriptComputHandle(item, item.filterConfig, 'datasfilter');\r\n      }\r\n    } else {\r\n      if (item.type === 'table') {\r\n        item.datas = item.oriDatas;\r\n        this.handleTableDatasChange(item);\r\n      }\r\n    }\r\n  }\r\n\r\n  recordsHanle(records, item, cols) {\r\n    records.forEach((record, index) => {\r\n      cols.forEach((colsItem) => {\r\n        const key = colsItem.fieldCode ? colsItem.fieldCode : colsItem.prop;\r\n        // 保留原数据，只做初始化\r\n        if (!record[key]) {\r\n          if (colsItem.value) {\r\n            record[key] = colsItem.value;\r\n          } else {\r\n            record[key] = '';\r\n          }\r\n        }\r\n      });\r\n    });\r\n    item.datas = records;\r\n  }\r\n\r\n  // 添加流程变量型关联列\r\n  addFlowVariablesLink(tableAddList, addViewDataLists, item, records) {\r\n    if (tableAddList.addDataSetVal) {\r\n      this.doFlowVariableQuery(tableAddList.addDataSetVal).then((data: any) => {\r\n        if (data && data.length > 0) {\r\n          let oris = data;\r\n          // 临时代码，兼顾优化前列配置\r\n          if (\r\n            !item.cols.some((col) => col.prop && col.prop.indexOf('.') > -1)\r\n          ) {\r\n            oris = this.washTableFlowVariable(data);\r\n          }\r\n          this.mergeExtendColsView(oris, addViewDataLists, tableAddList, item);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  // 执行关联列与主表合并\r\n  mergeExtendColsView(datas, addViewDataLists, tableAddList, item) {\r\n    // 缓存拓展列查询结果\r\n    if (!tableAddList.datas) {\r\n      tableAddList.datas = datas;\r\n    }\r\n\r\n    const linkDatas = datas;\r\n    if (linkDatas) {\r\n      const afterDatas = cloneDeep(item.oriDatas);\r\n\r\n      afterDatas.forEach((row) => {\r\n        let theOne: any = null;\r\n        if (addViewDataLists.length > 1) {\r\n          for (let i = 0; i < linkDatas.length; i++) {\r\n            const opt = linkDatas[i];\r\n            if (\r\n              addViewDataLists.every(\r\n                (av) => opt[av.addViewData] === row[av.addDataLink]\r\n              )\r\n            ) {\r\n              theOne = opt;\r\n              break;\r\n            }\r\n          }\r\n        } else {\r\n          theOne = arrayFind(\r\n            linkDatas,\r\n            addViewDataLists[0].addViewData,\r\n            row[addViewDataLists[0].addDataLink]\r\n          );\r\n        }\r\n        if (theOne) {\r\n          tableAddList.addDataValue.forEach((col) => {\r\n            /**\r\n             * 判断拓展列字段值是否不空，如果不空，则保留原值\r\n             * 目的：应对拓展列字段被修改的情况\r\n             */\r\n            if (!row[col]) {\r\n              row[col] = theOne[col];\r\n            }\r\n          });\r\n        }\r\n      });\r\n      item.oriDatas = afterDatas;\r\n      this.datasFilter(item);\r\n    }\r\n    // else {\r\n    //   // 特殊情况处理，如果拓展列无数据加载，但当前列可见且可编辑，则给该列赋空值，防止编辑响应问题发生\r\n    //   const edit = tableAddList.addDataValue.some((prop) => {\r\n    //     const col = arrayFind(item.cols, 'prop', prop);\r\n    //     return col && col.editable === 1;\r\n    //   });\r\n\r\n    //   if (edit) {\r\n    //     const tds = item.oriDatas ? item.oriDatas : item.datas;\r\n    //     tds.forEach((data) => {\r\n    //       tableAddList.addDataValue.forEach((col) => {\r\n    //         if (!data[col]) {\r\n    //           data[col] = '';\r\n    //         }\r\n    //       });\r\n    //     });\r\n    //   }\r\n    // }\r\n  }\r\n\r\n  computeCellClass({ row, columnIndex, column }) {\r\n    if (\r\n      row.beModified &&\r\n      Array.from(row.beModified).indexOf(column.property) > -1\r\n    ) {\r\n      return 'red-alert';\r\n    }\r\n  }\r\n\r\n  fileType(fileName) {\r\n    if (fileName) {\r\n      const startIndex = fileName.lastIndexOf('.');\r\n      const endIndex = fileName.length;\r\n      const fileTypeList = fileName.substring(startIndex + 1, endIndex);\r\n      if (fileTypeList === 'xlsx' || fileTypeList === 'xls') {\r\n        return 'excel';\r\n      } else if (fileTypeList === 'doc' || fileTypeList === 'docx') {\r\n        return 'doc';\r\n      } else if (fileTypeList === 'html') {\r\n        return 'html';\r\n      } else if (fileTypeList === 'pdf') {\r\n        return 'pdf';\r\n      } else if (fileTypeList === 'txt') {\r\n        return 'txt';\r\n      } else if (\r\n        fileTypeList === 'jpg' ||\r\n        fileTypeList === 'jpeg' ||\r\n        fileTypeList === 'svg' ||\r\n        fileTypeList === 'png' ||\r\n        fileTypeList === 'bmp' ||\r\n        fileTypeList === 'gif'\r\n      ) {\r\n        return 'tupian';\r\n      } else {\r\n        return 'wenjian';\r\n      }\r\n    }\r\n  }\r\n\r\n  download(path) {\r\n    attachmentDownload(path);\r\n  }\r\n\r\n  showHistoryCompare(formItem) {\r\n    this.modifysVisible = true;\r\n    this.queryItemImprint(formItem);\r\n  }\r\n\r\n  queryItemImprint(formItem) {\r\n    this.historyLoading = true;\r\n    queryEditMarks(this.processInstanceId, formItem['key']).then(\r\n      ({ error, data }) => {\r\n        this.historyLoading = false;\r\n        if (!error && data.length > 0) {\r\n          if (formItem['type'] === 'table') {\r\n            if (!formItem['tableCompareContainer']) {\r\n              this.compareTableDatas(formItem, data);\r\n            } else {\r\n              this.tableCompareContainer = formItem['tableCompareContainer'];\r\n              this.tableCompareColumns = formItem['cols'].filter((col) => {\r\n                return col.label !== '操作' && !col.hidden;\r\n              });\r\n            }\r\n          } else {\r\n            this.tableCompareColumns = this.commonHistoryColumns;\r\n            this.tableCompareContainer = data;\r\n          }\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  compareTableDatas(tableItem, imprint) {\r\n    const tableCompareContainer: Array<any> = [];\r\n    imprint.reverse();\r\n    imprint.forEach((editHistorys) => {\r\n      Object.keys(editHistorys.value).forEach((editMarkIndex) => {\r\n        const row = arrayFind(tableItem.datas, 'editMarkIndex', editMarkIndex);\r\n        if (row) {\r\n          let beModified: any = null;\r\n          let hr: any = null;\r\n          if (row.beModified) {\r\n            beModified = cloneDeep(row.beModified);\r\n            hr = arrayFind(\r\n              tableCompareContainer,\r\n              'editMarkIndex',\r\n              editMarkIndex\r\n            );\r\n          } else {\r\n            beModified = new Set();\r\n            hr = cloneDeep(row);\r\n            tableCompareContainer.push(hr);\r\n          }\r\n\r\n          const eh = editHistorys['value'][editMarkIndex];\r\n          eh.forEach((edit: any) => {\r\n            if (edit.value) {\r\n              beModified.add(edit['prop']);\r\n\r\n              // if (!hr[edit['prop']]) { // hr[edit['prop']]的值为修改后的值暂时注释掉后可以赋值修改前。\r\n              if (edit.preValue) {\r\n                hr[edit['prop']] = edit.preValue;\r\n              } else {\r\n                hr[edit['prop']] = '';\r\n              }\r\n              // }\r\n              hr[edit['prop']] += ` -> ${edit.value}`;\r\n              // 把之前节点的变更历史写回当前节点\r\n              if (tableItem.refreshLoading) {\r\n                row[edit['prop']] = edit.value;\r\n              }\r\n            }\r\n          });\r\n          this.$set(row, 'beModified', beModified);\r\n          hr.beModified = beModified;\r\n        }\r\n      });\r\n    });\r\n\r\n    if (tableCompareContainer.length > 0) {\r\n      tableItem.tableCompareContainer = tableCompareContainer;\r\n      this.tableCompareContainer = tableItem['tableCompareContainer'];\r\n      this.tableCompareColumns = tableItem['cols'].filter((col) => {\r\n        return col.label !== '操作' && !col.hidden;\r\n      });\r\n    }\r\n  }\r\n\r\n  uploadTable(item) {\r\n    this.uploadTableKey = item.key;\r\n    this.importFiles = [];\r\n    this.importDialogVisible = !this.importDialogVisible;\r\n  }\r\n\r\n  doUpload() {\r\n    if (this.importFiles.length === 0) {\r\n      this.$message.error('请先选择要导入或上传的文件！');\r\n    } else {\r\n      this.$confirm('该操作可能会覆盖其余数据，是否继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      })\r\n        .then(() => {\r\n          this.loading = true;\r\n          const uploadForm = new FormData();\r\n          this.importFiles.forEach((item) =>\r\n            uploadForm.append('file', item.raw)\r\n          );\r\n          tableUpload(uploadForm).then(({ data, error }) => {\r\n            if (!error) {\r\n              this.loading = false;\r\n              this.importDialogVisible = !this.importDialogVisible;\r\n              this.$message.success('导入成功！');\r\n              // 删除改表格之前的修改记录\r\n              if (this.editMarks[this.uploadTableKey]) {\r\n                this.$delete(this.editMarks, this.uploadTableKey);\r\n              }\r\n              // 将导入的数据替换原表格数据\r\n              const targeTableItem = arrayFind(\r\n                this.formConfig.formList,\r\n                'key',\r\n                this.uploadTableKey\r\n              );\r\n              const targetCols = cloneDeep(targeTableItem.cols);\r\n              const tableDataArr: any = [];\r\n              data.forEach((item) => {\r\n                const obj = {};\r\n                for (const itemName in item) {\r\n                  if (Object.prototype.hasOwnProperty.call(item, itemName)) {\r\n                    const colProp = arrayFind(\r\n                      targetCols,\r\n                      'fieldName',\r\n                      itemName\r\n                    );\r\n                    if (colProp) {\r\n                      this.$set(obj, colProp.prop, item[itemName]);\r\n                    }\r\n                  }\r\n                }\r\n                tableDataArr.push(obj);\r\n              });\r\n              // this.$set(targeTableItem, 'datas', tableDataArr);\r\n              this.loadTableData(targeTableItem, tableDataArr);\r\n            } else {\r\n              this.loading = false;\r\n              this.$message.error(`导入失败：${error.message}`);\r\n            }\r\n          });\r\n        })\r\n        .catch(() => {});\r\n    }\r\n  }\r\n\r\n  closeDialog() {\r\n    const nu: any = this.$refs.netUpload;\r\n    nu.clearFiles();\r\n    this.importDialogVisible = !this.importDialogVisible;\r\n    this.loading = false;\r\n  }\r\n\r\n  // 导入文件\r\n  handleUploadFileChange(file, fileList) {\r\n    this.importFiles = fileList;\r\n  }\r\n\r\n  // 移除待上传文件\r\n  onRemove(file, fileList) {\r\n    this.importFiles = fileList;\r\n  }\r\n\r\n  // 导出\r\n  exportTable(item) {\r\n    const params = {\r\n      headers: item.cols.filter((col) => !col.hidden),\r\n      rows: item.datas\r\n    };\r\n    tableDownload(params, `${item.label}.xls`);\r\n  }\r\n\r\n  // 计算表单显示还是隐藏\r\n  vaildFormShow(sc, linkFather, value) {\r\n    let show = 'show';\r\n    if (sc.bindField) {\r\n      // const result = this.getFormLinkValue(linkFather, sc);\r\n      if (\r\n        !this.computVaild(\r\n          sc.symbolShow,\r\n          this.getFormLinkValue(linkFather, sc),\r\n          sc.inputValue,\r\n          sc\r\n        )\r\n      ) {\r\n        show = 'none';\r\n      }\r\n    } else {\r\n      if (!this.computVaild(sc.symbolShow, value, sc.inputValue, sc)) {\r\n        show = 'none';\r\n      }\r\n    }\r\n    return show;\r\n  }\r\n  // 新增\r\n  addChange(val) {\r\n    this.labelTable = val.key;\r\n    if (\r\n      val.addTemplate &&\r\n      val.addTemplate.formList &&\r\n      val.addTemplate.formList.length > 0\r\n    ) {\r\n      this.childFromExist = true;\r\n      this.formAttributeAlert = cloneDeep(val.addTemplate);\r\n      this.formAttributeAlert.formList.forEach((item) => {\r\n        this.$set(item, 'showForm', 'show');\r\n        this.$set(item, 'editable', 1);\r\n        if (item.type === 'checkboxGroup') {\r\n          this.$set(item, 'value', []);\r\n        } else if (item.type === 'transfer') {\r\n          this.$set(item, 'value', []);\r\n        } else {\r\n          this.$set(item, 'value', '');\r\n        }\r\n      });\r\n    } else {\r\n      this.childFromExist = false;\r\n      const colsDiff: Array<any> = cloneDeep(val.cols);\r\n      this.addTableList = colsDiff.filter(\r\n        (col) => col.label !== '操作' && !col.hidden\r\n      );\r\n    }\r\n    this.dialogSwitch = true;\r\n    const colsDiff: Array<any> = cloneDeep(val.cols);\r\n    this.addTableList = colsDiff.filter(\r\n      (col) => col.label !== '操作' && col.type !== 'index' && !col.hidden\r\n    );\r\n  }\r\n\r\n  treeDataTest() {\r\n    let same: any = {};\r\n    same = this.$refs.advance['spread'].model;\r\n    const item = arrayFind(this.formAttribute.formList, 'key', this.labelTable);\r\n    if (item) {\r\n      this.doTableRowAdd(item, [same]);\r\n    }\r\n    this.dialogSwitch = false;\r\n    this.cancelSwitch();\r\n  }\r\n\r\n  doTableRowAdd(item, records) {\r\n    records.forEach((record) => {\r\n      // 如果有主键，则使用主键作为editMarkIndex的值，否则默认生成\r\n      let key = `r${item.oriDatas ? item.oriDatas.length : item.datas.length}`;\r\n      if (item.refreshLoading && item.loadingPrimKey.length > 0) {\r\n        key = item.loadingPrimKey.map((key) => record[key]).join('_');\r\n      }\r\n      this.$set(record, 'editMarkIndex', key);\r\n      if (item.oriDatas) {\r\n        item.oriDatas.push(record);\r\n      } else {\r\n        item.datas.push(record);\r\n      }\r\n    });\r\n\r\n    // 触发表格中所有的联动事件\r\n    this.loadTableData(item, item.oriDatas ? item.oriDatas : item.datas);\r\n  }\r\n\r\n  // 上传删除\r\n  handleFileRemove(file: any, ind: number) {\r\n    const fileList = this.$refs.upload[0].uploadFiles;\r\n    const index = fileList.findIndex((fileItem: any) => {\r\n      return fileItem.uid === file.uid;\r\n    });\r\n    fileList.splice(index, 1);\r\n    const fileIndex = this.formConfig.formList[ind].value.findIndex(\r\n      (fileItems: any) => {\r\n        return fileItems.uid === file.uid;\r\n      }\r\n    );\r\n    this.formConfig.formList[ind].value.splice(fileIndex, 1);\r\n  }\r\n\r\n  // 上传成功数据处理\r\n  successList(response: any, file: any, fileList: any, index: number) {\r\n    if (response.data && response.data.path) {\r\n      if (!this.formConfig.formList[index].value) {\r\n        this.formConfig.formList[index].value = [];\r\n      }\r\n      this.formConfig.formList[index].value.push({\r\n        name: file.name,\r\n        url: file.response['data']['path'],\r\n        uid: file.uid\r\n      });\r\n    } else {\r\n      this.$message.warning('文件上传失败:' + response.message);\r\n    }\r\n  }\r\n  // 普通按钮事件\r\n  buttonChange(item) {\r\n    let linkPromise = [];\r\n    let linkDef: any = {};\r\n    if (item.setLink) {\r\n      linkDef = item.setLink;\r\n      linkPromise = item.setLink.associatedLink;\r\n    } else if (item.defaultValue) {\r\n      linkDef = item.defaultValue;\r\n      linkPromise = item.defaultValue.associatedLink;\r\n    }\r\n\r\n    if (linkDef.scriptLinkConfig && linkDef.scriptLinkConfig.valueShow) {\r\n      // 如果包含脚本型请求体参数，则参数必须存在\r\n      if (!linkDef.scriptLinkConfig.reqBody) {\r\n        this.scriptComputHandle(\r\n          item,\r\n          linkDef.scriptLinkConfig,\r\n          'ordinaryButtonParams',\r\n          null,\r\n          { linkPromise, linkDef }\r\n        );\r\n        return;\r\n      }\r\n    }\r\n    this.fetchOrdinaryBtnService(linkPromise, item, linkDef);\r\n  }\r\n\r\n  fetchOrdinaryBtnService(linkPromise, item, linkDef) {\r\n    if (linkPromise.length > 0) {\r\n      Promise.all(\r\n        linkPromise.map((itemItem: any) => {\r\n          return new Promise((resove, reject) => {\r\n            const param = { code: itemItem.code, type: itemItem.type };\r\n            if (itemItem.valueType) {\r\n              if (itemItem.valueType === 'fixed') {\r\n                // 关联表单\r\n                param['value'] = itemItem.value;\r\n                if (param['value']) {\r\n                  resove(param);\r\n                } else {\r\n                  reject();\r\n                }\r\n              } else if (itemItem.valueType === 'form') {\r\n                // 关联表单\r\n                const linkFather = arrayFind(\r\n                  this.formConfig.formList,\r\n                  'key',\r\n                  itemItem.value\r\n                );\r\n                if (linkFather) {\r\n                  if (!linkFather.internalObservers) {\r\n                    linkFather.internalObservers = [];\r\n                  }\r\n                  if (\r\n                    !arrayFind(linkFather.internalObservers, 'key', item.key)\r\n                  ) {\r\n                    linkFather.internalObservers.push(item);\r\n                  }\r\n                  if (!linkFather.listeners) {\r\n                    this.registerChangeListeners(linkFather);\r\n                  }\r\n                  param['value'] = linkFather.value;\r\n                  if (param['value'] && param['value'].length > 0) {\r\n                    resove(param);\r\n                  } else {\r\n                    reject();\r\n                  }\r\n                }\r\n              } else if (itemItem.valueType === 'variable') {\r\n                // 关联流程变量\r\n                if (itemItem.resultValue) {\r\n                  param['value'] = itemItem.resultValue;\r\n                  resove(param);\r\n                } else {\r\n                  this.doFlowVariableQuery(itemItem.value).then((data: any) => {\r\n                    if (data) {\r\n                      itemItem.resultValue = Array.isArray(data)\r\n                        ? data.join(',')\r\n                        : data;\r\n                      param['value'] = itemItem.resultValue;\r\n                    } else {\r\n                      itemItem.resultValue = '';\r\n                      param['value'] = '';\r\n                      resove(param);\r\n                    }\r\n                    if (param['value']) {\r\n                      resove(param);\r\n                    } else {\r\n                      reject();\r\n                    }\r\n                  });\r\n                }\r\n              } else {\r\n                // 不设置参数绑定值\r\n                resove(param);\r\n              }\r\n            } else {\r\n              // 不设置参数绑定值\r\n              resove(param);\r\n            }\r\n          });\r\n        })\r\n      ).then((paramsValues) => {\r\n        this.doOrdinaryButtonQuery(\r\n          item,\r\n          paramsValues.filter((pa: any) => pa['value']),\r\n          linkDef.scriptLinkConfig.reqBody\r\n        );\r\n      });\r\n    } else {\r\n      if (linkDef && linkDef.scriptLinkConfig) {\r\n        this.doOrdinaryButtonQuery(item, [], linkDef.scriptLinkConfig.reqBody);\r\n      }\r\n    }\r\n  }\r\n\r\n  doOrdinaryButtonQuery(item, paramsValues, reqBody) {\r\n    let resultList = [];\r\n    const params: any = {};\r\n    if (reqBody) {\r\n      params.reqBody = JSON.stringify(reqBody);\r\n    }\r\n    if (item.setLink) {\r\n      this.$set(params, 'viewId', item.setLink.linkedSerVal);\r\n      this.$set(params, 'queryParams', paramsValues);\r\n      this.$set(params, 'authStationAndUsers', [\r\n        {\r\n          stationId: this.taskDealStationId,\r\n          userCode: this.userCode\r\n        }\r\n      ]);\r\n      let fetch = dataViewQueryWithAuth;\r\n      if (item.type === 'button') {\r\n        fetch = fetchPushService;\r\n      }\r\n      fetch(params).then(({ data, error }) => {\r\n        if (data) {\r\n          if (item.setLink.targetObjectBut.setWay === 'bind') {\r\n            resultList = data.rows.map((reItem) => {\r\n              return reItem[item.setLink.targetObjectBut.bindingTargets];\r\n            });\r\n            const linkFather = arrayFind(\r\n              this.formConfig.formList,\r\n              'key',\r\n              item.setLink.targetObjectBut.targetCol\r\n            );\r\n            this.formConfig.formList.forEach((fromItem) => {\r\n              if (fromItem.key === linkFather.key) {\r\n                if (item.setLink.targetObjectBut.targetTableCol) {\r\n                  fromItem.datas.forEach((ele) => {\r\n                    ele[\r\n                      item.setLink.targetObjectBut.targetTableCol\r\n                    ] = resultList.join(',');\r\n                  });\r\n                } else {\r\n                  fromItem.value = resultList.join(',');\r\n                }\r\n              }\r\n            });\r\n          } else if (item.setLink.targetObjectBut.setWay === 'script') {\r\n            item.setLink.targetObjectBut.scriptTargets.returnData = data.rows;\r\n            item.setLink.targetObjectBut.scriptTargets.targetCol =\r\n              item.setLink.targetObjectBut.targetCol;\r\n            this.scriptComputHandle(\r\n              item,\r\n              item.setLink.targetObjectBut.scriptTargets,\r\n              'ordinaryButtonValue',\r\n              null,\r\n              null\r\n            );\r\n          }\r\n        } else {\r\n          this.$message.error(error.message);\r\n        }\r\n      });\r\n    } else {\r\n      const def = item.defaultValue;\r\n      this.$set(params, 'viewId', item.defaultValue.bindTarget);\r\n      this.$set(\r\n        params,\r\n        'queryParams',\r\n        paramsValues.filter((pa: any) => pa['value'])\r\n      );\r\n      this.$set(params, 'authStationAndUsers', [\r\n        {\r\n          stationId: this.taskDealStationId,\r\n          userCode: this.userCode\r\n        }\r\n      ]);\r\n      dataViewQueryWithAuth(params).then(({ data, error }) => {\r\n        if (item.type === 'childFrom') {\r\n          item.value.formList.forEach((list) => {\r\n            def.paramDefList.forEach((param) => {\r\n              if (list.key === param.key) {\r\n                resultList = data.rows.map((reItem) => {\r\n                  return reItem[param.value];\r\n                });\r\n                list.value = resultList.join(',');\r\n              }\r\n            });\r\n          });\r\n        } else {\r\n          if (data) {\r\n            if (def.targetObjectBut.setWay === 'bind') {\r\n              resultList = data.rows.map((reItem) => {\r\n                return reItem[def.targetObjectBut.bindingTargets];\r\n              });\r\n              this.$set(item, 'value', resultList.join(','));\r\n              item.value = resultList.join(',');\r\n            } else {\r\n              def.targetObjectBut.scriptTargets.returnData = data.rows;\r\n              def.targetObjectBut.scriptTargets.targetCol =\r\n                def.targetObjectBut.targetCol;\r\n              this.scriptComputHandle(\r\n                item,\r\n                def.targetObjectBut.scriptTargets,\r\n                'defScriptValue',\r\n                null,\r\n                null\r\n              );\r\n            }\r\n          } else {\r\n            this.$message.error(error.message);\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  buttonParameter(row, btn, item) {\r\n    // 使用脚本获得查询参数（请求体参数）\r\n    if (btn.scriptLinkConfig && btn.scriptLinkConfig.valueShow) {\r\n      // 如果包含脚本型请求体参数，则参数必须存在\r\n      if (!btn.scriptLinkConfig.reqBody) {\r\n        this.scriptComputHandle(\r\n          item,\r\n          btn.scriptLinkConfig,\r\n          'paramsButtonValue',\r\n          null,\r\n          { row, btn }\r\n        );\r\n        return;\r\n      }\r\n    }\r\n    this.fetchBtnService(row, btn, item);\r\n  }\r\n\r\n  fetchBtnService(row, btn, item) {\r\n    const linkPromise = btn.associatedLink;\r\n    if (linkPromise && linkPromise.length > 0) {\r\n      // 获得普通参数绑定值\r\n      Promise.all(\r\n        linkPromise.map((itemItem) => {\r\n          return new Promise((resove) => {\r\n            const param = { code: itemItem.code, type: itemItem.type };\r\n            if (itemItem.valueType) {\r\n              if (itemItem.valueType === 'fixed') {\r\n                // 关联表单\r\n                param['value'] = itemItem.value;\r\n                resove(param);\r\n              } else if (itemItem.valueType === 'form') {\r\n                // 关联表单\r\n                const linkFather = arrayFind(\r\n                  this.formConfig.formList,\r\n                  'key',\r\n                  itemItem.value\r\n                );\r\n                param['value'] = linkFather.value;\r\n                resove(param);\r\n              } else if (itemItem.valueType === 'variable') {\r\n                // 关联流程变量\r\n                if (itemItem.resultValue) {\r\n                  param['value'] = itemItem.resultValue;\r\n                  resove(param);\r\n                } else {\r\n                  this.doFlowVariableQuery(itemItem.value).then((data: any) => {\r\n                    if (data) {\r\n                      itemItem.resultValue = Array.isArray(data)\r\n                        ? data.join(',')\r\n                        : data;\r\n                      param['value'] = itemItem.resultValue;\r\n                      resove(param);\r\n                    } else {\r\n                      // 苏晴晴提出，没有值也算是值\r\n                      itemItem.resultValue = '';\r\n                      param['value'] = '';\r\n                      resove(param);\r\n                    }\r\n                  });\r\n                }\r\n              } else if (itemItem.valueType === 'tableSta') {\r\n                // 关联表格数据\r\n                param['value'] = row[itemItem.value];\r\n                resove(param);\r\n              }\r\n            }\r\n          });\r\n        })\r\n      ).then((paramsValues) => {\r\n        this.doTableCellBtn(btn, paramsValues, btn.targetObjectBut, row, item);\r\n      });\r\n    } else {\r\n      this.doTableCellBtn(btn, [], btn.targetObjectBut, row, item);\r\n    }\r\n  }\r\n\r\n  doTableCellBtn(btn, queryParams, targetObjectBut, row, item) {\r\n    let resultList = [];\r\n    const params: any = {\r\n      viewId: btn.linkedSerVal,\r\n      queryParams\r\n    };\r\n    if (btn.scriptLinkConfig.reqBody) {\r\n      params.reqBody = JSON.stringify(btn.scriptLinkConfig.reqBody);\r\n    }\r\n    fetchPushService(params).then(({ data, error }) => {\r\n      if (data) {\r\n        if (targetObjectBut.setWay === 'bind') {\r\n          resultList = data.rows.map((reItem) => {\r\n            return reItem[targetObjectBut.bindingTargets];\r\n          });\r\n          this.$set(row, targetObjectBut.targetCol, resultList.join(','));\r\n        } else if (targetObjectBut.setWay === 'script') {\r\n          targetObjectBut.scriptTargets.returnData = data.rows;\r\n          targetObjectBut.scriptTargets.targetCol = targetObjectBut.targetCol;\r\n          this.scriptComputHandle(\r\n            item,\r\n            targetObjectBut.scriptTargets,\r\n            'resultButtonValue',\r\n            null,\r\n            row\r\n          );\r\n        }\r\n      } else {\r\n        this.$message.error(error.message);\r\n      }\r\n    });\r\n  }\r\n  // 表格按钮点击事件\r\n  changeClickBut(row, item, itemTable) {\r\n    if (item.setLink) {\r\n      this.buttonParameter(row, item.setLink, itemTable);\r\n    }\r\n  }\r\n\r\n  loadingColumns(cols, item) {\r\n    return cols.filter((col) => {\r\n      const { tableFormConfig } = col;\r\n      if (col.editable) {\r\n        const type = tableFormConfig ? tableFormConfig.formType : 'input';\r\n        if (\r\n          type === 'select' ||\r\n          type === 'checkboxGroup' ||\r\n          type === 'radioGroup'\r\n        ) {\r\n          this.$set(tableFormConfig, 'optionsList', []);\r\n          this.$set(tableFormConfig, 'optionsType', '');\r\n          if (tableFormConfig.sourceDataType === 'dataView') {\r\n            // 等待表单关联字段收集完成\r\n            setTimeout(() => {\r\n              if (tableFormConfig.dataQueryList.length > 0) {\r\n                this.listQueryHandle(\r\n                  tableFormConfig,\r\n                  tableFormConfig.dataQueryList,\r\n                  tableFormConfig.dataSetVal,\r\n                  'selectView'\r\n                );\r\n              } else {\r\n                this.dataViewQueryHandle(\r\n                  tableFormConfig.dataSetVal,\r\n                  tableFormConfig,\r\n                  'selectView'\r\n                );\r\n              }\r\n            }, 500);\r\n          } else if (tableFormConfig.sourceDataType === 'variable') {\r\n            if (tableFormConfig.flowVisibleCode) {\r\n              this.getFlowVariablehttp('variableChange', tableFormConfig);\r\n            }\r\n          } else if (tableFormConfig.sourceDataType === 'static') {\r\n            // 添加静态选项初始化事件触发支持\r\n            if (tableFormConfig.value) {\r\n              setTimeout(() => {\r\n                if (\r\n                  tableFormConfig.listeners &&\r\n                  tableFormConfig.listeners.change\r\n                ) {\r\n                  tableFormConfig.listeners.change(\r\n                    tableFormConfig.value,\r\n                    'auto'\r\n                  );\r\n                }\r\n              }, 500);\r\n            }\r\n          }\r\n        }\r\n        col.editer = {\r\n          key: col.prop,\r\n          type: col.tableFormConfig ? col.tableFormConfig.formType : 'input',\r\n          config: col.tableFormConfig\r\n        };\r\n      }\r\n      if (!col.hidden && col.format) {\r\n        this.configFormatCol(col);\r\n      }\r\n      if (col.label === '操作') {\r\n        col.actions = [];\r\n        if (col.buttonAdd) {\r\n          col.actions = col.buttonAdd.map((btn) => {\r\n            return {\r\n              code: btn.fieldCode,\r\n              type: btn.fieldType,\r\n              text: btn.fieldName,\r\n              onClick: (row) => this.changeClickBut(row, btn, item)\r\n            };\r\n          });\r\n        }\r\n        if (item.editable === 1 && item.addLine) {\r\n          col.actions.push({\r\n            code: 'deleteRequired',\r\n            text: '删除',\r\n            onClick: this.deleteEdit\r\n          });\r\n        }\r\n      }\r\n      return !col.hidden;\r\n    });\r\n  }\r\n\r\n  configFormatCol(col) {\r\n    if (!col.formatter) {\r\n      switch (col.format) {\r\n        case 'thousand':\r\n          col.formatter = (row, column, cellValue) => {\r\n            return currencyFormatter(cellValue, col.accuracy);\r\n          };\r\n          break;\r\n        case 'thousandPercent':\r\n          col.formatter = (row, column, cellValue) => {\r\n            return currencyFormatter(cellValue * 100, col.accuracy) + '%';\r\n          };\r\n      }\r\n    }\r\n  }\r\n}\r\n","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./previewFormChild.vue?vue&type=style&index=1&id=47503550&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./previewFormChild.vue?vue&type=style&index=1&id=47503550&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"previewForm\"},[_c('el-form',{attrs:{\"model\":_vm.formAttribute,\"label-width\":_vm.formConfig.labelWidth + 'px',\"label-position\":_vm.formConfig.labelPosition}},[_c('el-row',{attrs:{\"gutter\":20}},_vm._l((_vm.formConfig.formList),function(item,index){return _c('el-col',{key:item,staticClass:\"itemBox\",attrs:{\"span\":item.type === 'hidden' ? 0 : item.span}},[(!item.showForm || item.showForm === 'show')?_c('div',[(item.editable === 1 || item.readable === 1)?_c('div',[(\n                _vm.mode === 'task' &&\n                  item.editable === 1 &&\n                  item.type === 'table' &&\n                  item.addLine === true\n              )?_c('el-row',{staticClass:\"button_style\"},[_c('el-button',{on:{\"click\":function($event){return _vm.exportTable(item)}}},[_vm._v(\"导出\")]),_c('el-button',{on:{\"click\":function($event){return _vm.uploadTable(item)}}},[_vm._v(\"导入\")]),_c('el-button',{on:{\"click\":function($event){return _vm.addChange(item)}}},[_vm._v(\"新增\")])],1):_vm._e(),(_vm.mode === 'task' && item.history)?_c('div',{staticClass:\"history-badge\"},[_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.showHistoryCompare(item)}}},[_c('svg-icon',{staticClass:\"icon\",attrs:{\"icon-class\":\"red_dot\"}})],1)],1):_vm._e(),_c('el-form-item',{key:item.key,staticStyle:{\"margin-bottom\":\"20px\"},attrs:{\"prop\":'formList[' + index + '].value',\"label\":item.label,\"rules\":item.rules}},[(item.type === 'table')?_c('base-table',{staticClass:\"formTable\",attrs:{\"data-source\":item.datas,\"border-style\":true,\"cellClassName\":_vm.computeCellClass,\"border\":\"\",\"columns\":_vm.loadingColumns(item.cols, item),\"can-edit\":\"\"},on:{\"doHandleInput\":function (row, colProp, val) { return _vm.debunceInput(row['editMarkIndex'], colProp, val, item.key); },\"doEdit\":function (row, index, colProp) { return _vm.handleDoInput(\n                      row['editMarkIndex'],\n                      colProp.prop,\n                      row[colProp.prop],\n                      item.key,\n                      true\n                    ); }}}):(item.type === 'ueditor')?_c('ueditor',{staticClass:\"ueditor\",attrs:{\"onEditBlur\":item.onEditBlur,\"itemValue\":item,\"disable\":item.readable === 1}}):(item.type === 'childFrom')?_c('previewFormChild',{attrs:{\"formAttribute\":item.value,\"taskId\":_vm.taskId,\"processInstanceId\":_vm.processInstanceId,\"taskDealStationId\":_vm.taskDealStationId}}):(item.type === 'button')?_c('el-button',{attrs:{\"type\":item.buttonType,\"disabled\":_vm.mode !== 'task'},on:{\"click\":function($event){return _vm.buttonChange(item)}}},[_vm._v(_vm._s(item.value))]):(item.type === 'alert')?_c('el-alert',{attrs:{\"title\":item.value,\"type\":item.alertType,\"center\":item.centerFont,\"description\":item.description,\"closable\":false,\"show-icon\":item.showIcon}}):(item.type === 'upload')?_c('el-upload',{ref:\"upload\",refInFor:true,staticClass:\"uploadList\",attrs:{\"drag\":\"\",\"action\":\"/api/file-service/file/upload\",\"list-type\":\"picture-card\",\"auto-upload\":_vm.mode === 'task' ? true : false,\"headers\":_vm.uploadHeader,\"file-list\":item.value,\"disabled\":item.readable === 1,\"on-success\":function (response, file, fileList) {\n                    return _vm.successList(response, file, fileList, index);\n                  }},scopedSlots:_vm._u([{key:\"file\",fn:function(ref){\n                  var file = ref.file;\nreturn _c('div',{staticClass:\"filestyle-li\"},[_c('svg-icon',{staticClass:\"file-img\",attrs:{\"icon-class\":_vm.fileType(file.name)}}),_c('p',[_c('span',{staticClass:\"file-name\"},[_vm._v(_vm._s(file.name))]),_c('span',{staticClass:\"file-delete\",on:{\"click\":function($event){return _vm.handleFileRemove(file, index)}}},[_vm._v(\"删除\")]),_c('span',{staticClass:\"file-delete\",on:{\"click\":function($event){return _vm.download(file.url)}}},[_vm._v(\"下载\")])]),_c('p',[(file.status === 'success')?_c('span',{staticClass:\"flie-suc\"},[_vm._v(\"上传完成\")]):_vm._e(),(file.status === 'error')?_c('span',{staticClass:\"flie-error\"},[_vm._v(\"上传失败\")]):_vm._e()])],1)}}],null,true)},[(item.editable === 1)?_c('i',{staticClass:\"el-icon-plus\"}):_vm._e()]):_c('customItemRender',{attrs:{\"type\":item.type,\"config\":{\n                  placeholder: item.placeholder || '',\n                  key: item.key,\n                  value: item.value,\n                  goods: item,\n                  multiple: item.itemMultiple,\n                  options:\n                    item.optionsType === 'viewsData'\n                      ? item.optionsList\n                      : item.options || [],\n                  listeners: item.listeners\n                }}})],1)],1):_vm._e()]):_vm._e()])}),1)],1),_c('simple-dialog',{attrs:{\"dialog-title\":\"变更历史\",\"dialog-visible\":_vm.modifysVisible,\"dialog-width\":\"66%\",\"save-text\":\"确 定\",\"cancel-text\":\"取 消\",\"botton-show\":\"true\"},on:{\"update:dialogVisible\":function($event){_vm.modifysVisible=$event},\"update:dialog-visible\":function($event){_vm.modifysVisible=$event},\"saveEmit\":_vm.certain,\"cancelEmit\":function($event){_vm.modifysVisible = false}}},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.historyLoading),expression:\"historyLoading\"}]},[_c('base-table',{attrs:{\"data-source\":_vm.tableCompareContainer,\"columns\":_vm.tableCompareColumns,\"cellClassName\":_vm.computeCellClass,\"border-style\":true,\"border\":\"\"}})],1)]),(_vm.childFromExist === true && _vm.dialogSwitch)?_c('simple-dialog',{attrs:{\"dialog-title\":\"新增\",\"dialog-visible\":_vm.dialogSwitch,\"dialog-width\":\"870px\",\"save-text\":\"确 定\",\"cancel-text\":\"取 消\",\"botton-show\":\"true\"},on:{\"update:dialogVisible\":function($event){_vm.dialogSwitch=$event},\"update:dialog-visible\":function($event){_vm.dialogSwitch=$event},\"saveEmit\":function () { return _vm.tableFormSave(_vm.formAttributeAlert); },\"cancelEmit\":function () { return _vm.cancelSwitch(); }}},[_c('previewFormChild',{attrs:{\"formAttribute\":_vm.formAttributeAlert,\"taskId\":_vm.taskId,\"processInstanceId\":_vm.processInstanceId,\"taskDealStationId\":_vm.taskDealStationId}})],1):_vm._e(),(_vm.childFromExist === false && _vm.dialogSwitch)?_c('addContent',{ref:\"advance\",attrs:{\"dialog-title\":_vm.dialogTitle,\"dialog-test-switch\":_vm.dialogSwitch,\"params-list\":_vm.addTableList},on:{\"saveEmitSwitch\":function () { return _vm.treeDataTest(); },\"cancelEmitSwitch\":function () { return _vm.cancelSwitch(); }}}):_vm._e(),_c('simple-dialog',{attrs:{\"dialogTitle\":\"文件导入\",\"dialog-visible\":_vm.importDialogVisible,\"botton-show\":\"true\",\"dialogWidth\":\"500px\"},on:{\"saveEmit\":function () { return _vm.doUpload(); },\"cancelEmit\":function () { return _vm.closeDialog(); }}},[_c('el-row',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"gutter\":10,\"element-loading-text\":'上传中...',\"element-loading-spinner\":\"el-icon-loading\"}},[_c('el-col',{attrs:{\"md\":24}},[_c('el-upload',{ref:\"netUpload\",staticClass:\"netVal-import\",attrs:{\"name\":\"files\",\"action\":\"importApi\",\"multiple\":\"\",\"file-list\":_vm.importFiles,\"on-change\":function (file, fileList) { return _vm.handleUploadFileChange(file, fileList); },\"on-remove\":function (file, fileList) { return _vm.onRemove(file, fileList); },\"auto-upload\":false}},[_c('el-button',{staticClass:\"defaultBtn\",attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"选择文件\")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"previewForm\"},[_c('el-form',{attrs:{\"model\":_vm.formAttribute,\"label-width\":_vm.formConfig.labelWidth + 'px',\"label-position\":_vm.formConfig.labelPosition}},[_c('el-row',{attrs:{\"gutter\":20}},_vm._l((_vm.formConfig.formList),function(item,index){return _c('el-col',{key:item,staticClass:\"itemBox\",attrs:{\"span\":item.type === 'hidden' ? 0 : item.span}},[(!item.showForm || item.showForm === 'show')?_c('div',[(item.editable === 1 || item.readable === 1)?_c('div',[(\n                _vm.mode === 'task' &&\n                  item.editable === 1 &&\n                  item.type === 'table' &&\n                  item.addLine === true\n              )?_c('el-row',{staticClass:\"button_style\"},[_c('el-button',{on:{\"click\":function($event){return _vm.exportTable(item)}}},[_vm._v(\"导出\")]),_c('el-button',{on:{\"click\":function($event){return _vm.uploadTable(item)}}},[_vm._v(\"导入\")]),_c('el-button',{on:{\"click\":function($event){return _vm.addChange(item)}}},[_vm._v(\"新增\")])],1):_vm._e(),(_vm.mode === 'task' && item.history)?_c('div',{staticClass:\"history-badge\"},[_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.showHistoryCompare(item)}}},[_c('svg-icon',{staticClass:\"icon\",attrs:{\"icon-class\":\"red_dot\"}})],1)],1):_vm._e(),_c('el-form-item',{key:item.key,staticStyle:{\"margin-bottom\":\"20px\"},attrs:{\"prop\":'formList[' + index + '].value',\"label\":item.label,\"rules\":item.rules}},[(item.type === 'table')?_c('base-table',{staticClass:\"formTable\",attrs:{\"data-source\":item.datas,\"border-style\":true,\"cellClassName\":_vm.computeCellClass,\"border\":\"\",\"columns\":_vm.loadingColumns(item.cols, item),\"can-edit\":\"\"},on:{\"doHandleInput\":function (row, colProp, val) { return _vm.debunceInput(row['editMarkIndex'], colProp, val, item.key); },\"doEdit\":function (row, index, colProp) { return _vm.handleDoInput(\n                      row['editMarkIndex'],\n                      colProp.prop,\n                      row[colProp.prop],\n                      item.key,\n                      true\n                    ); }}}):(item.type === 'ueditor')?_c('ueditor',{staticClass:\"ueditor\",attrs:{\"onEditBlur\":item.onEditBlur,\"itemValue\":item}}):(item.type === 'childFrom')?_c('previewFormChild',{attrs:{\"formAttribute\":item.value,\"taskId\":_vm.taskId,\"processInstanceId\":_vm.processInstanceId,\"taskDealStationId\":_vm.taskDealStationId}}):(item.type === 'button')?_c('el-button',{attrs:{\"type\":item.buttonType,\"disabled\":_vm.mode !== 'task'},on:{\"click\":function($event){return _vm.buttonChange(item)}}},[_vm._v(_vm._s(item.value))]):(item.type === 'alert')?_c('el-alert',{attrs:{\"title\":item.value,\"type\":item.alertType,\"center\":item.centerFont,\"description\":item.description,\"closable\":false,\"show-icon\":item.showIcon}}):(item.type === 'upload')?_c('el-upload',{ref:\"upload\",refInFor:true,staticClass:\"uploadList\",attrs:{\"action\":\"/api/file-service/file/upload\",\"list-type\":\"picture-card\",\"auto-upload\":_vm.mode === 'task' ? true : false,\"headers\":_vm.uploadHeader,\"file-list\":item.value,\"disabled\":item.readable === 1,\"on-success\":function (response, file, fileList) {\n                    return _vm.successList(response, file, fileList, index);\n                  }},scopedSlots:_vm._u([{key:\"file\",fn:function(ref){\n                  var file = ref.file;\nreturn _c('div',{staticClass:\"filestyle-li\"},[_c('svg-icon',{staticClass:\"file-img\",attrs:{\"icon-class\":_vm.fileType(file.name)}}),_c('p',[_c('span',{staticClass:\"file-name\"},[_vm._v(_vm._s(file.name))]),_c('span',{staticClass:\"file-delete\",on:{\"click\":function($event){return _vm.handleFileRemove(file, index)}}},[_vm._v(\"删除\")]),_c('span',{staticClass:\"file-delete\",on:{\"click\":function($event){return _vm.download(file.url)}}},[_vm._v(\"下载\")])]),_c('p',[(file.status === 'success')?_c('span',{staticClass:\"flie-suc\"},[_vm._v(\"上传完成\")]):_vm._e(),(file.status === 'error')?_c('span',{staticClass:\"flie-error\"},[_vm._v(\"上传失败\")]):_vm._e()])],1)}}],null,true)},[(item.editable === 1)?_c('i',{staticClass:\"el-icon-plus\"}):_vm._e()]):_c('customItemRender',{attrs:{\"type\":item.type,\"config\":{\n                  placeholder: item.placeholder || '',\n                  key: item.key,\n                  value: item.value,\n                  goods: item,\n                  multiple: item.itemMultiple,\n                  options:\n                    item.optionsType === 'viewsData'\n                      ? item.optionsList\n                      : item.options || [],\n                  listeners: item.listeners\n                }}})],1)],1):_vm._e()]):_vm._e()])}),1)],1),_c('simple-dialog',{attrs:{\"dialog-title\":\"变更历史\",\"dialog-visible\":_vm.modifysVisible,\"dialog-width\":\"66%\",\"save-text\":\"确 定\",\"cancel-text\":\"取 消\",\"botton-show\":\"true\"},on:{\"update:dialogVisible\":function($event){_vm.modifysVisible=$event},\"update:dialog-visible\":function($event){_vm.modifysVisible=$event},\"saveEmit\":_vm.certain,\"cancelEmit\":function($event){_vm.modifysVisible = false}}},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.historyLoading),expression:\"historyLoading\"}]},[_c('base-table',{attrs:{\"data-source\":_vm.tableCompareContainer,\"columns\":_vm.tableCompareColumns,\"cellClassName\":_vm.computeCellClass,\"border-style\":true,\"border\":\"\"}})],1)]),_c('addContent',{ref:\"advance\",attrs:{\"dialog-title\":_vm.dialogTitle,\"dialog-test-switch\":_vm.dialogSwitch,\"params-list\":_vm.addTableList},on:{\"saveEmitSwitch\":function () { return _vm.treeDataTest(); },\"cancelEmitSwitch\":function () { return _vm.cancelSwitch(); }}}),_c('simple-dialog',{attrs:{\"dialogTitle\":\"文件导入\",\"dialog-visible\":_vm.importDialogVisible,\"botton-show\":\"true\",\"dialogWidth\":\"500px\"},on:{\"saveEmit\":function () { return _vm.doUpload(); },\"cancelEmit\":function () { return _vm.closeDialog(); }}},[_c('el-row',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"gutter\":10,\"element-loading-text\":'上传中...',\"element-loading-spinner\":\"el-icon-loading\"}},[_c('el-col',{attrs:{\"md\":24}},[_c('el-upload',{ref:\"netUpload\",staticClass:\"netVal-import\",attrs:{\"name\":\"files\",\"action\":\"importApi\",\"multiple\":\"\",\"file-list\":_vm.importFiles,\"on-change\":function (file, fileList) { return _vm.handleUploadFileChange(file, fileList); },\"on-remove\":function (file, fileList) { return _vm.onRemove(file, fileList); },\"auto-upload\":false}},[_c('el-button',{staticClass:\"defaultBtn\",attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"选择文件\")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component } from 'vue-property-decorator';\r\nimport previewFormChild from './previewFormChild.vue';\r\nimport addContent from '../../../viewDateManagent/component/addContent.vue';\r\nimport customItemRender from '@components/renders/customItemRender.js';\r\nimport ueditor from './ueditor.vue';\r\nimport formMixin from './mixin';\r\n@Component({\r\n  components: { customItemRender, ueditor, addContent, previewFormChild }\r\n})\r\nexport default class PreviewFormChild extends formMixin {\r\n  // 新增-取消\r\n  cancelSwitch() {\r\n    this.addTableList = [];\r\n    this.dialogSwitch = false;\r\n  }\r\n  created() {\r\n    if (this.formAttribute) {\r\n      this.getVisible(this.formAttribute);\r\n    }\r\n    this.userCode = this.$store.state.user.userInfo.usercode;\r\n  }\r\n}\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./previewFormChild.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./previewFormChild.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./previewFormChild.vue?vue&type=template&id=47503550&scoped=true&\"\nimport script from \"./previewFormChild.vue?vue&type=script&lang=ts&\"\nexport * from \"./previewFormChild.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./previewFormChild.vue?vue&type=style&index=0&lang=scss&\"\nimport style1 from \"./previewFormChild.vue?vue&type=style&index=1&id=47503550&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"47503550\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component } from 'vue-property-decorator';\r\nimport { arrayFind } from '@utils/util';\r\nimport previewFormChild from './previewFormChild.vue';\r\nimport addContent from '../../../viewDateManagent/component/addContent.vue';\r\nimport customItemRender from '@components/renders/customItemRender.js';\r\nimport ueditor from './ueditor.vue';\r\nimport formMixin from './mixin';\r\nimport { cloneDeep } from 'lodash';\r\n@Component({\r\n  components: { customItemRender, ueditor, addContent, previewFormChild }\r\n})\r\nexport default class PreviewForm extends formMixin {\r\n  // 表格删除\r\n  deleteEdit(row) {\r\n    this.formAttribute.formList.forEach((item) => {\r\n      if (item.type === 'table') {\r\n        for (let i = 0; i < item.datas.length; i++) {\r\n          if (item.datas[i].editMarkIndex === row.editMarkIndex) {\r\n            item.datas.splice(i, 1);\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n  tableFormSave(form) {\r\n    const same: any = {};\r\n    const item = arrayFind(this.formAttribute.formList, 'key', this.labelTable);\r\n    form.formList.forEach((ele) => {\r\n      item.cols.forEach((e) => {\r\n        // debugger\r\n        if ((ele.fieldName || ele.label) === e.fieldName) {\r\n          if (ele.value instanceof Array && ele.value !== '') {\r\n            // console.log('2',ele.value)\r\n            this.$set(same, e.fieldCode, ele.value.join(','));\r\n          } else {\r\n            // console.log('3',ele.value)\r\n            this.$set(\r\n              same,\r\n              e.fieldCode,\r\n              ele.realValue ? ele.realValue : ele.value\r\n            );\r\n          }\r\n        }\r\n      });\r\n    });\r\n\r\n    let splitTable = item.splitTable;\r\n    if (splitTable) {\r\n      if (!Array.isArray(splitTable)) {\r\n        splitTable = [splitTable];\r\n      }\r\n      const batRows = splitTable.reduce(\r\n        (prev, cur) => {\r\n          const tr: any = [];\r\n          prev.forEach((entity) => {\r\n            same[cur].split(',').forEach((bat) => {\r\n              const ssame = cloneDeep(entity);\r\n              ssame[cur] = bat;\r\n              tr.push(ssame);\r\n            });\r\n          });\r\n          return tr;\r\n        },\r\n        [same]\r\n      );\r\n\r\n      this.doTableRowAdd(item, batRows);\r\n    } else {\r\n      this.doTableRowAdd(item, [same]);\r\n    }\r\n    this.dialogSwitch = false;\r\n  }\r\n  // 新增-取消\r\n  cancelSwitch() {\r\n    this.addTableList = [];\r\n    this.dialogSwitch = false;\r\n  }\r\n\r\n  created() {\r\n    if (this.formAttribute) {\r\n      this.getVisible(this.formAttribute);\r\n    }\r\n    this.userCode = this.$store.state.user.userInfo.usercode;\r\n  }\r\n}\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./previewForm.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./previewForm.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./previewForm.vue?vue&type=template&id=75a9379a&scoped=true&\"\nimport script from \"./previewForm.vue?vue&type=script&lang=ts&\"\nexport * from \"./previewForm.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./previewForm.vue?vue&type=style&index=0&lang=scss&\"\nimport style1 from \"./previewForm.vue?vue&type=style&index=1&id=75a9379a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"75a9379a\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar collection = require('../internals/collection');\nvar collectionStrong = require('../internals/collection-strong');\n\n// `Set` constructor\n// https://tc39.github.io/ecma262/#sec-set-objects\nmodule.exports = collection('Set', function (init) {\n  return function Set() { return init(this, arguments.length ? arguments[0] : undefined); };\n}, collectionStrong);\n","'use strict';\nvar defineProperty = require('../internals/object-define-property').f;\nvar create = require('../internals/object-create');\nvar redefineAll = require('../internals/redefine-all');\nvar bind = require('../internals/function-bind-context');\nvar anInstance = require('../internals/an-instance');\nvar iterate = require('../internals/iterate');\nvar defineIterator = require('../internals/define-iterator');\nvar setSpecies = require('../internals/set-species');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fastKey = require('../internals/internal-metadata').fastKey;\nvar InternalStateModule = require('../internals/internal-state');\n\nvar setInternalState = InternalStateModule.set;\nvar internalStateGetterFor = InternalStateModule.getterFor;\n\nmodule.exports = {\n  getConstructor: function (wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, CONSTRUCTOR_NAME);\n      setInternalState(that, {\n        type: CONSTRUCTOR_NAME,\n        index: create(null),\n        first: undefined,\n        last: undefined,\n        size: 0\n      });\n      if (!DESCRIPTORS) that.size = 0;\n      if (iterable != undefined) iterate(iterable, that[ADDER], that, IS_MAP);\n    });\n\n    var getInternalState = internalStateGetterFor(CONSTRUCTOR_NAME);\n\n    var define = function (that, key, value) {\n      var state = getInternalState(that);\n      var entry = getEntry(that, key);\n      var previous, index;\n      // change existing entry\n      if (entry) {\n        entry.value = value;\n      // create new entry\n      } else {\n        state.last = entry = {\n          index: index = fastKey(key, true),\n          key: key,\n          value: value,\n          previous: previous = state.last,\n          next: undefined,\n          removed: false\n        };\n        if (!state.first) state.first = entry;\n        if (previous) previous.next = entry;\n        if (DESCRIPTORS) state.size++;\n        else that.size++;\n        // add to index\n        if (index !== 'F') state.index[index] = entry;\n      } return that;\n    };\n\n    var getEntry = function (that, key) {\n      var state = getInternalState(that);\n      // fast case\n      var index = fastKey(key);\n      var entry;\n      if (index !== 'F') return state.index[index];\n      // frozen object case\n      for (entry = state.first; entry; entry = entry.next) {\n        if (entry.key == key) return entry;\n      }\n    };\n\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear() {\n        var that = this;\n        var state = getInternalState(that);\n        var data = state.index;\n        var entry = state.first;\n        while (entry) {\n          entry.removed = true;\n          if (entry.previous) entry.previous = entry.previous.next = undefined;\n          delete data[entry.index];\n          entry = entry.next;\n        }\n        state.first = state.last = undefined;\n        if (DESCRIPTORS) state.size = 0;\n        else that.size = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function (key) {\n        var that = this;\n        var state = getInternalState(that);\n        var entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.next;\n          var prev = entry.previous;\n          delete state.index[entry.index];\n          entry.removed = true;\n          if (prev) prev.next = next;\n          if (next) next.previous = prev;\n          if (state.first == entry) state.first = next;\n          if (state.last == entry) state.last = prev;\n          if (DESCRIPTORS) state.size--;\n          else that.size--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /* , that = undefined */) {\n        var state = getInternalState(this);\n        var boundFunction = bind(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n        var entry;\n        while (entry = entry ? entry.next : state.first) {\n          boundFunction(entry.value, entry.key, this);\n          // revert to the last existing entry\n          while (entry && entry.removed) entry = entry.previous;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key) {\n        return !!getEntry(this, key);\n      }\n    });\n\n    redefineAll(C.prototype, IS_MAP ? {\n      // 23.1.3.6 Map.prototype.get(key)\n      get: function get(key) {\n        var entry = getEntry(this, key);\n        return entry && entry.value;\n      },\n      // 23.1.3.9 Map.prototype.set(key, value)\n      set: function set(key, value) {\n        return define(this, key === 0 ? 0 : key, value);\n      }\n    } : {\n      // 23.2.3.1 Set.prototype.add(value)\n      add: function add(value) {\n        return define(this, value = value === 0 ? 0 : value, value);\n      }\n    });\n    if (DESCRIPTORS) defineProperty(C.prototype, 'size', {\n      get: function () {\n        return getInternalState(this).size;\n      }\n    });\n    return C;\n  },\n  setStrong: function (C, CONSTRUCTOR_NAME, IS_MAP) {\n    var ITERATOR_NAME = CONSTRUCTOR_NAME + ' Iterator';\n    var getInternalCollectionState = internalStateGetterFor(CONSTRUCTOR_NAME);\n    var getInternalIteratorState = internalStateGetterFor(ITERATOR_NAME);\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    defineIterator(C, CONSTRUCTOR_NAME, function (iterated, kind) {\n      setInternalState(this, {\n        type: ITERATOR_NAME,\n        target: iterated,\n        state: getInternalCollectionState(iterated),\n        kind: kind,\n        last: undefined\n      });\n    }, function () {\n      var state = getInternalIteratorState(this);\n      var kind = state.kind;\n      var entry = state.last;\n      // revert to the last existing entry\n      while (entry && entry.removed) entry = entry.previous;\n      // get next entry\n      if (!state.target || !(state.last = entry = entry ? entry.next : state.state.first)) {\n        // or finish the iteration\n        state.target = undefined;\n        return { value: undefined, done: true };\n      }\n      // return step by kind\n      if (kind == 'keys') return { value: entry.key, done: false };\n      if (kind == 'values') return { value: entry.value, done: false };\n      return { value: [entry.key, entry.value], done: false };\n    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(CONSTRUCTOR_NAME);\n  }\n};\n","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./previewFormChild.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./previewFormChild.vue?vue&type=style&index=0&lang=scss&\"","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar InternalMetadataModule = require('../internals/internal-metadata');\nvar iterate = require('../internals/iterate');\nvar anInstance = require('../internals/an-instance');\nvar isObject = require('../internals/is-object');\nvar fails = require('../internals/fails');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar inheritIfRequired = require('../internals/inherit-if-required');\n\nmodule.exports = function (CONSTRUCTOR_NAME, wrapper, common) {\n  var IS_MAP = CONSTRUCTOR_NAME.indexOf('Map') !== -1;\n  var IS_WEAK = CONSTRUCTOR_NAME.indexOf('Weak') !== -1;\n  var ADDER = IS_MAP ? 'set' : 'add';\n  var NativeConstructor = global[CONSTRUCTOR_NAME];\n  var NativePrototype = NativeConstructor && NativeConstructor.prototype;\n  var Constructor = NativeConstructor;\n  var exported = {};\n\n  var fixMethod = function (KEY) {\n    var nativeMethod = NativePrototype[KEY];\n    redefine(NativePrototype, KEY,\n      KEY == 'add' ? function add(value) {\n        nativeMethod.call(this, value === 0 ? 0 : value);\n        return this;\n      } : KEY == 'delete' ? function (key) {\n        return IS_WEAK && !isObject(key) ? false : nativeMethod.call(this, key === 0 ? 0 : key);\n      } : KEY == 'get' ? function get(key) {\n        return IS_WEAK && !isObject(key) ? undefined : nativeMethod.call(this, key === 0 ? 0 : key);\n      } : KEY == 'has' ? function has(key) {\n        return IS_WEAK && !isObject(key) ? false : nativeMethod.call(this, key === 0 ? 0 : key);\n      } : function set(key, value) {\n        nativeMethod.call(this, key === 0 ? 0 : key, value);\n        return this;\n      }\n    );\n  };\n\n  // eslint-disable-next-line max-len\n  if (isForced(CONSTRUCTOR_NAME, typeof NativeConstructor != 'function' || !(IS_WEAK || NativePrototype.forEach && !fails(function () {\n    new NativeConstructor().entries().next();\n  })))) {\n    // create collection constructor\n    Constructor = common.getConstructor(wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER);\n    InternalMetadataModule.REQUIRED = true;\n  } else if (isForced(CONSTRUCTOR_NAME, true)) {\n    var instance = new Constructor();\n    // early implementations not supports chaining\n    var HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance;\n    // V8 ~ Chromium 40- weak-collections throws on primitives, but should return false\n    var THROWS_ON_PRIMITIVES = fails(function () { instance.has(1); });\n    // most early implementations doesn't supports iterables, most modern - not close it correctly\n    // eslint-disable-next-line no-new\n    var ACCEPT_ITERABLES = checkCorrectnessOfIteration(function (iterable) { new NativeConstructor(iterable); });\n    // for early implementations -0 and +0 not the same\n    var BUGGY_ZERO = !IS_WEAK && fails(function () {\n      // V8 ~ Chromium 42- fails only with 5+ elements\n      var $instance = new NativeConstructor();\n      var index = 5;\n      while (index--) $instance[ADDER](index, index);\n      return !$instance.has(-0);\n    });\n\n    if (!ACCEPT_ITERABLES) {\n      Constructor = wrapper(function (dummy, iterable) {\n        anInstance(dummy, Constructor, CONSTRUCTOR_NAME);\n        var that = inheritIfRequired(new NativeConstructor(), dummy, Constructor);\n        if (iterable != undefined) iterate(iterable, that[ADDER], that, IS_MAP);\n        return that;\n      });\n      Constructor.prototype = NativePrototype;\n      NativePrototype.constructor = Constructor;\n    }\n\n    if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {\n      fixMethod('delete');\n      fixMethod('has');\n      IS_MAP && fixMethod('get');\n    }\n\n    if (BUGGY_ZERO || HASNT_CHAINING) fixMethod(ADDER);\n\n    // weak collections should not contains .clear method\n    if (IS_WEAK && NativePrototype.clear) delete NativePrototype.clear;\n  }\n\n  exported[CONSTRUCTOR_NAME] = Constructor;\n  $({ global: true, forced: Constructor != NativeConstructor }, exported);\n\n  setToStringTag(Constructor, CONSTRUCTOR_NAME);\n\n  if (!IS_WEAK) common.setStrong(Constructor, CONSTRUCTOR_NAME, IS_MAP);\n\n  return Constructor;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $every = require('../internals/array-iteration').every;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('every');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('every');\n\n// `Array.prototype.every` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.every\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH }, {\n  every: function every(callbackfn /* , thisArg */) {\n    return $every(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./previewForm.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./previewForm.vue?vue&type=style&index=0&lang=scss&\"","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  return Object.isExtensible(Object.preventExtensions({}));\n});\n","var aFunction = require('../internals/a-function');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.{ reduce, reduceRight }` methods implementation\nvar createMethod = function (IS_RIGHT) {\n  return function (that, callbackfn, argumentsLength, memo) {\n    aFunction(callbackfn);\n    var O = toObject(that);\n    var self = IndexedObject(O);\n    var length = toLength(O.length);\n    var index = IS_RIGHT ? length - 1 : 0;\n    var i = IS_RIGHT ? -1 : 1;\n    if (argumentsLength < 2) while (true) {\n      if (index in self) {\n        memo = self[index];\n        index += i;\n        break;\n      }\n      index += i;\n      if (IS_RIGHT ? index < 0 : length <= index) {\n        throw TypeError('Reduce of empty array with no initial value');\n      }\n    }\n    for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n      memo = callbackfn(memo, self[index], index, O);\n    }\n    return memo;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.reduce` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n  left: createMethod(false),\n  // `Array.prototype.reduceRight` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduceright\n  right: createMethod(true)\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('simple-dialog',{ref:\"advance\",attrs:{\"dialog-title\":_vm.dialogTitle,\"dialog-visible\":_vm.dialogTestSwitch,\"dialog-width\":\"600px\",\"botton-show\":\"true\",\"save-text\":\"保存\",\"cancel-text\":\"取消\"},on:{\"saveEmit\":_vm.treeDataTest,\"cancelEmit\":_vm.cancelSwitch}},[_c('AdvancedScreening',{attrs:{\"spread\":_vm.spread.visible,\"model\":_vm.spread.model,\"items\":_vm.spread.items,\"label-width\":\"30%\",\"screen-loading\":_vm.spread.loading},on:{\"doQuery\":_vm.handleQuery,\"doReset\":_vm.handleReset}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Vue, Component, Prop, Emit, Watch } from 'vue-property-decorator';\r\nimport AdvancedScreening from './advanced.vue';\r\n@Component({\r\n  components: { AdvancedScreening }\r\n})\r\nexport default class AddContent extends Vue {\r\n  spread: any = {\r\n    visible: true,\r\n    model: {},\r\n    items: [],\r\n    loading: false\r\n  };\r\n  @Prop(Array) paramsList: [];\r\n  @Prop(String) dialogTitle: '';\r\n  @Prop({ default: false }) dialogTestSwitch: boolean;\r\n  @Emit('saveEmitSwitch')\r\n  treeDataTest() {}\r\n  @Emit('cancelEmitSwitch')\r\n  cancelSwitch() {}\r\n  @Watch('paramsList', { immediate: true, deep: true })\r\n  getVisible(newVal: any) {\r\n    const kong: Array<any> = [];\r\n    const dataModel: any = {};\r\n    newVal.forEach((item: any) => {\r\n      if (item.value) {\r\n        dataModel[item.fieldCode] = item.value;\r\n      } else if (item.dafalutValue) {\r\n        dataModel[item.fieldCode] = item.dafalutValue;\r\n      } else {\r\n        dataModel[item.fieldCode] = '';\r\n      }\r\n      if (item.fieldType === 3) {\r\n        kong.push({\r\n          key: item.fieldCode,\r\n          label: item.fieldName,\r\n          type: 'switch'\r\n        });\r\n      } else if (item.fieldType === 2) {\r\n        kong.push({\r\n          key: item.fieldCode,\r\n          label: item.fieldName,\r\n          type: 'date',\r\n          TimePickerOptions: '',\r\n          clearable: true,\r\n          disabled: false\r\n        });\r\n      } else {\r\n        kong.push({\r\n          type: 'input',\r\n          key: item.fieldCode,\r\n          label: item.fieldName,\r\n          placeholder: item.fieldType === 1 ? '请输入数字' : '请输入文本',\r\n          config: {\r\n            props: {\r\n              type: item.fieldType === 1 ? 'number' : 'input'\r\n            }\r\n          }\r\n        });\r\n      }\r\n    });\r\n    this.spread.items = kong;\r\n    this.spread.model = dataModel;\r\n    // console.log(\"this.spread\", this.spread);\r\n  }\r\n}\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addContent.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addContent.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./addContent.vue?vue&type=template&id=3ca4f7b1&\"\nimport script from \"./addContent.vue?vue&type=script&lang=ts&\"\nexport * from \"./addContent.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var hiddenKeys = require('../internals/hidden-keys');\nvar isObject = require('../internals/is-object');\nvar has = require('../internals/has');\nvar defineProperty = require('../internals/object-define-property').f;\nvar uid = require('../internals/uid');\nvar FREEZING = require('../internals/freezing');\n\nvar METADATA = uid('meta');\nvar id = 0;\n\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\n\nvar setMetadata = function (it) {\n  defineProperty(it, METADATA, { value: {\n    objectID: 'O' + ++id, // object ID\n    weakData: {}          // weak collections IDs\n  } });\n};\n\nvar fastKey = function (it, create) {\n  // return a primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, METADATA)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMetadata(it);\n  // return object ID\n  } return it[METADATA].objectID;\n};\n\nvar getWeakData = function (it, create) {\n  if (!has(it, METADATA)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMetadata(it);\n  // return the store of weak collections IDs\n  } return it[METADATA].weakData;\n};\n\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZING && meta.REQUIRED && isExtensible(it) && !has(it, METADATA)) setMetadata(it);\n  return it;\n};\n\nvar meta = module.exports = {\n  REQUIRED: false,\n  fastKey: fastKey,\n  getWeakData: getWeakData,\n  onFreeze: onFreeze\n};\n\nhiddenKeys[METADATA] = true;\n","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./previewForm.vue?vue&type=style&index=1&id=75a9379a&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./previewForm.vue?vue&type=style&index=1&id=75a9379a&lang=scss&scoped=true&\""],"sourceRoot":""}