(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3e904856"],{"13d5":function(e,t,a){"use strict";var i=a("23e7"),r=a("d58f").left,l=a("a640"),s=a("ae40"),o=l("reduce"),n=s("reduce",{1:0});i({target:"Array",proto:!0,forced:!o||!n},{reduce:function(e){return r(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"187f":function(e,t,a){},"255f":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"edit_container",staticStyle:{height:"158px"}},[a("quill-editor",{ref:"myQuillEditor",staticClass:"quillEditor",attrs:{options:e.editorOption,disabled:e.disable},on:{blur:function(t){return e.onEditBlur(e.itemValue.value)},focus:function(t){return e.onEditorFocus(t)},ready:function(t){return e.onEditorReady(t)},change:function(t){return e.alertValue(t,400,e.decimalNum)}},model:{value:e.itemValue.value,callback:function(t){e.$set(e.itemValue,"value",t)},expression:"itemValue.value"}})],1)},r=[],l=a("953d"),s=(a("a7539"),a("8096"),a("14e1"),{name:"QuillEditor",components:{quillEditor:l["quillEditor"]},data:function(){return{content:"<p>hello world</p>",editorOption:{modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}][{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}][{size:["small",!1,"large","huge"]}]]},theme:"snow"}}},props:{onEditBlur:{type:Function,default:function(){return""}},itemValue:{type:Object,default:function(){}},disable:{type:Boolean,default:!1}},computed:{editor:function(){return this.$refs.myQuillEditor.quill}},methods:{onEditorBlur:function(e){console.log(e,"itemValue"),this.$emit("onEditorBlur",e)},onEditorFocus:function(){},onEditorReady:function(){},saveHtml:function(e){alert(this.itemValue)},alertValue:function(e,t,a){}}}),o=s,n=a("2877"),_=Object(n["a"])(o,i,r,!1,null,null,null);t["a"]=_.exports},2827:function(e,t,a){},"3ef9":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return PreviewFormMixin}));var core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("99af"),core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_array_every__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("a623"),core_js_modules_es_array_every__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_array_every__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_array_filter__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("4de4"),core_js_modules_es_array_filter__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_array_filter__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_array_find_index__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("c740"),core_js_modules_es_array_find_index__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_array_find_index__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_array_for_each__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("4160"),core_js_modules_es_array_for_each__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_array_for_each__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_array_from__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("a630"),core_js_modules_es_array_from__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_array_from__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("c975"),core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es_array_join__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("a15b"),core_js_modules_es_array_join__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es_array_join__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es_array_last_index_of__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("baa5"),core_js_modules_es_array_last_index_of__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es_array_last_index_of__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("d81d"),core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_9__),core_js_modules_es_array_some__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("45fc"),core_js_modules_es_array_some__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_es_array_some__WEBPACK_IMPORTED_MODULE_10__),core_js_modules_es_array_splice__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("a434"),core_js_modules_es_array_splice__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(core_js_modules_es_array_splice__WEBPACK_IMPORTED_MODULE_11__),core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("b0c0"),core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_12__),core_js_modules_es_number_constructor__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("a9e3"),core_js_modules_es_number_constructor__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(core_js_modules_es_number_constructor__WEBPACK_IMPORTED_MODULE_13__),core_js_modules_es_object_keys__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("b64b"),core_js_modules_es_object_keys__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(core_js_modules_es_object_keys__WEBPACK_IMPORTED_MODULE_14__),core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("d3b7"),core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_15__),core_js_modules_es_regexp_constructor__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("4d63"),core_js_modules_es_regexp_constructor__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(core_js_modules_es_regexp_constructor__WEBPACK_IMPORTED_MODULE_16__),core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("ac1f"),core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_17__),core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("25f0"),core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_18__),core_js_modules_es_set__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("6062"),core_js_modules_es_set__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(core_js_modules_es_set__WEBPACK_IMPORTED_MODULE_19__),core_js_modules_es_string_iterator__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("3ca3"),core_js_modules_es_string_iterator__WEBPACK_IMPORTED_MODULE_20___default=__webpack_require__.n(core_js_modules_es_string_iterator__WEBPACK_IMPORTED_MODULE_20__),core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("5319"),core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_21___default=__webpack_require__.n(core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_21__),core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("1276"),core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_22___default=__webpack_require__.n(core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_22__),core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("159b"),core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_23___default=__webpack_require__.n(core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_23__),core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("ddb0"),core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_24___default=__webpack_require__.n(core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_24__),D_projects_cjhx_node_modules_babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("53ca"),D_projects_cjhx_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("2909"),D_projects_cjhx_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__("ade3"),D_projects_cjhx_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__("5530"),D_projects_cjhx_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__("d4ec"),D_projects_cjhx_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__("bee2"),D_projects_cjhx_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__("262e"),D_projects_cjhx_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__("2caf"),tslib__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__("9ab4"),vue_property_decorator__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__("60a3"),moment__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__("c1df"),moment__WEBPACK_IMPORTED_MODULE_35___default=__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_35__),lodash__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__("2ef0"),lodash__WEBPACK_IMPORTED_MODULE_36___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_36__),_utils_util__WEBPACK_IMPORTED_MODULE_37__=__webpack_require__("ca00"),_utils_storage__WEBPACK_IMPORTED_MODULE_38__=__webpack_require__("5d2d"),_api_processAssignment__WEBPACK_IMPORTED_MODULE_39__=__webpack_require__("5bd2"),_api_viewData__WEBPACK_IMPORTED_MODULE_40__=__webpack_require__("cb9b"),PreviewFormMixin=function(_Vue){Object(D_projects_cjhx_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_31__["a"])(PreviewFormMixin,_Vue);var _super=Object(D_projects_cjhx_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_32__["a"])(PreviewFormMixin);function PreviewFormMixin(){var e;return Object(D_projects_cjhx_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_29__["a"])(this,PreviewFormMixin),e=_super.apply(this,arguments),e.formAttributeAlert={},e.userCode="",e.fileList=[],e.modifysVisible=!1,e.dialogSwitch=!1,e.dialogTitle="新增",e.labelTable="",e.modifyHistoryList=[],e.modifyColumns=[],e.addTableList=[],e.formConfig={},e.tableCompareContainer=[],e.tableCompareColumns=[],e.historyLoading=!1,e.editMarks={},e.nameScript="",e.scriptList={},e.uploadHeader={Authorization:Object(_utils_storage__WEBPACK_IMPORTED_MODULE_38__["a"])("auth_token")},e.childFromExist=!1,e.importFiles=[],e.importDialogVisible=!1,e.loading=!1,e.uploadTableKey="",e.lastCall=null,e.commonHistoryColumns=[{prop:"taskName",label:"修改节点","header-align":"left",align:"left"},{prop:"value",label:"修改结果","header-align":"left",align:"left"},{prop:"handler",label:"修改人","header-align":"left",align:"left"},{prop:"taskTime",label:"修改时间","header-align":"left",align:"left"}],e}return Object(D_projects_cjhx_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_30__["a"])(PreviewFormMixin,[{key:"getVisible",value:function(e){var t="";try{t=JSON.stringify(this.formConfig)}catch(a){console.log(a)}JSON.stringify(e)!==t&&e&&e.formList&&("preview"!==this.mode?this.renderView(e):this.refreshView(e))}},{key:"refreshView",value:function(e){this.formConfig=e}},{key:"renderView",value:function(e){var t=this;this.formConfig=Object(D_projects_cjhx_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_28__["a"])({},e),this.formConfig.formList.forEach((function(e){1!==e.editable&&1!==e.readable||("table"!==e.type?(t.registerChangeListeners(e),e.filterText&&e.filterText.length>0&&e.filterText.forEach((function(a){return t.addFormLinkFields(e,a.textLinkValue)}))):t.loadTableCols(e),t.defaultValueBind(e),t.loadShowConfig(e))})),this.formConfig.formList.forEach((function(e){1!==e.editable&&1!==e.readable||("select"===e.type||"checkboxGroup"===e.type||"radioGroup"===e.type||"transfer"===e.type?(t.$set(e,"optionsList",[]),t.$set(e,"optionsType",""),"dataView"===e.sourceDataType?setTimeout((function(){e.dataQueryList.length>0?t.listQueryHandle(e,e.dataQueryList,e.dataSetVal,"selectView"):t.dataViewQueryHandle(e.dataSetVal,e,"selectView")}),500):"variable"===e.sourceDataType?e.flowVisibleCode&&t.getFlowVariablehttp("variableChange",e):"static"===e.sourceDataType&&e.value&&setTimeout((function(){e.listeners&&e.listeners.change&&e.listeners.change(e.value,"auto")}),500)):"table"===e.type&&(!e.refreshLoading&&e.datas&&e.datas.length>0?t.loadTableData(e,e.datas):(e.datas=[],Object.prototype.hasOwnProperty.call(e,"defaultValue")&&e.defaultValue.valueShow?t.scriptComputHandle(e,e.defaultValue,"tableDefault"):e.mutexSetList&&e.mutexSetList.length>0?t.mutexTableLoading(e):e.flowVisibleCode?t.getFlowVariablehttp("table",e):e.dataQueryList.length>0?t.listQueryHandle(e,e.dataQueryList,e.dataSetVal,"table"):t.dataViewQueryHandle(e.dataSetVal,e,"table"))))}))}},{key:"debunceInput",value:function(e,t,a,i){var r=this;this.lastCall&&clearTimeout(this.lastCall),this.lastCall=setTimeout((function(){r.handleDoInput(e,t,a,i,!1)}),500)}},{key:"handleDoInput",value:function(e,t,a,i,r){var l=this.editMarks[i],s={prop:t};if(r?s["preValue"]=a:s["value"]=a,l){var o=l[e];if(o){var n=o.findIndex((function(e){return e.prop===t}));-1===n?o.push(s):o[n]["value"]=a}else this.$set(l,e,[s]);r||this.handleTableColScript(e,t,i)}else this.$set(this.editMarks,i,Object(D_projects_cjhx_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_27__["a"])({},e,[s]))}},{key:"handleTableColScript",value:function(e,t,a){var i=this,r=Object(_utils_util__WEBPACK_IMPORTED_MODULE_37__["a"])(this.formConfig.formList,"key",a);r.scriptObservers&&r.scriptObservers.forEach((function(a){"staticDefaultValue"!==a.handleType&&"hiddenDatas"!==a.handleType||a.extendObj2.dataItem.editMarkIndex===e&&a.extendObj.value===t&&i.scriptComputHandle(a.item,a.scriptConfig,a.handleType,a.extendObj,a.extendObj2),"defaultValue"===a.handleType&&i.scriptComputHandle(a.item,a.scriptConfig,a.handleType,a.extendObj,a.extendObj2)}))}},{key:"handleTableDatasChange",value:function(e){var t=this;this.computTableColEditControl(e),this.staticColumnDefaultValue(e),e.listeners&&e.scriptObservers&&e.scriptObservers.forEach((function(a){"staticDefaultValue"!==a.handleType&&"hiddenDatas"!==a.handleType&&(a.extendObj.resultValue=e.datas,t.scriptComputHandle(a.item,a.scriptConfig,a.handleType,a.extendObj,a.extendObj2))}))}},{key:"loadTableCols",value:function(e){var t=this;e.addSetList&&e.addSetList.length>0&&e.addSetList.forEach((function(a){if(a.showValueConfig)if(e.oriCols||(e.oriCols=e.cols),"form"===a.showValueConfig.showType){var i=Object(_utils_util__WEBPACK_IMPORTED_MODULE_37__["a"])(t.formConfig.formList,"key",a.showValueConfig.valueShow);if(i){i.expandObservers||(i.expandObservers=[]);for(var r=!0,l=0;l<i.expandObservers.length;l++){var s=i.expandObservers[l];if(s.childKey===e.key&&s.extendColName===a.extendColName){r=!1;break}}r&&i.expandObservers.push(Object(D_projects_cjhx_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_28__["a"])(Object(D_projects_cjhx_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_28__["a"])({},a),{},{childKey:e.key})),i.listeners||t.registerChangeListeners(i),a.showValueConfig.bindField&&t.addFormLinkFields(i,a.showValueConfig.bindField),(i.value||!1===i.value)&&t.computeColsShowHide(i)}}else"variable"===a.showValueConfig.showType?t.doFlowVariableQuery(a.showValueConfig.valueShow).then((function(i){if(i||""===i){var r="none";t.computVaild(a.showValueConfig.symbolShow,i?Array.isArray(i)?i.join(","):i:"",a.showValueConfig.inputValue,a.showValueConfig)&&(r="show"),a.showForm=r,t.doExtendColsHidden(e,a)}})):"script"===a.showValueConfig.showType&&t.scriptComputHandle(e,a.showValueConfig,"tableCols",null,a)}))}},{key:"computeColsShowHide",value:function(e){var t=this;e.expandObservers&&e.expandObservers.forEach((function(a){t.$set(a,"showForm",t.vaildFormShow(a.showValueConfig,e,e.value));var i=Object(_utils_util__WEBPACK_IMPORTED_MODULE_37__["a"])(t.formConfig.formList,"key",a.childKey);t.doExtendColsHidden(i,a)}))}},{key:"doExtendColsHidden",value:function(e,t){var a=Object(_utils_util__WEBPACK_IMPORTED_MODULE_37__["a"])(e.addSetList,"extendColName",t.extendColName);if(a){var i=Object(lodash__WEBPACK_IMPORTED_MODULE_36__["cloneDeep"])(e.cols);a.colsAdd.forEach((function(a){var r=Object(_utils_util__WEBPACK_IMPORTED_MODULE_37__["a"])(i,"fieldCode",a.fieldCode);if(r)if("none"===t.showForm)r.hidden=!0;else{var l=Object(_utils_util__WEBPACK_IMPORTED_MODULE_37__["a"])(e.oriCols,"fieldCode",a.fieldCode);l&&(r.hidden=l.hidden)}})),e.cols=i}}},{key:"loadShowConfig",value:function(e){var t=this;if(!e.showValueConfig&&e.valueShow&&(e.showValueConfig={showType:e.showType,valueShow:e.valueShow,targetType:e.targetType,bindField:e.bindField,symbolShow:e.symbolShow,inputValue:e.inputValue,parameterList:e.parameterList}),e.showValueConfig){var a=e.showValueConfig;if("form"===a.showType){var i=Object(_utils_util__WEBPACK_IMPORTED_MODULE_37__["a"])(this.formConfig.formList,"key",a.valueShow);i&&(i.value&&(e.showForm=this.vaildFormShow(a,i,i.value)),i.showObservers||(i.showObservers=[]),Object(_utils_util__WEBPACK_IMPORTED_MODULE_37__["a"])(i.showObservers,"key",e.key)||i.showObservers.push(e),i.listeners||this.registerChangeListeners(i),a.bindField&&this.addFormLinkFields(i,a.bindField))}else"variable"===a.showType?this.doFlowVariableQuery(a.valueShow).then((function(i){if(i||""===i){var r="none";t.computVaild(a.symbolShow,i?Array.isArray(i)?i.join(","):i:"",a.inputValue,a)&&(r="show"),t.$set(e,"showForm",r)}})):"script"===a.showType&&this.scriptComputHandle(e,a,"showAndHidden")}}},{key:"addFormLinkFields",value:function(e,t){e.linkFields?e.linkFields instanceof Array&&(e.linkFields=new Set(e.linkFields)):e.linkFields=new Set,e.linkFields.add(t)}},{key:"registerChangeListeners",value:function(e){var t=this;this.$set(e,"listeners",{change:function(a,i){"auto"!==i&&"table"!==e.type&&t.$set(t.editMarks,e.key,a),e.filterObservers&&e.filterObservers.forEach((function(e){t.datasFilter(e)})),e.showObservers&&e.showObservers.forEach((function(i){t.$set(i,"showForm",t.vaildFormShow(i.showValueConfig,e,a))})),e.queryObservers&&e.queryObservers.forEach((function(a){a.linkSetItem.resultValue=t.getFormLinkValue(e,a.linkSetItem),t.listQueryHandle(a.item,a.dataQueryList,a.viewsId,a.typeData,a.extendObj)})),t.emitDVEvent(e),e.scriptObservers&&e.scriptObservers.forEach((function(a){a.extendObj.resultValue=t.getFormLinkValue(e,a.extendObj),"staticDefaultValue"!==a.handleType&&"hiddenDatas"!==a.handleType?t.scriptComputHandle(a.item,a.scriptConfig,a.handleType,a.extendObj,a.extendObj2):t.doStaticColumnComput(a.item,a.extendObj2.def,a.extendObj,a.handleType,a.extendObj2.headIndex)})),t.computeColsShowHide(e),e.internalObservers&&e.internalObservers.forEach((function(e){t.buttonChange(e)}))}})}},{key:"emitDVEvent",value:function(e){var t=this;e.dvObservers&&e.dvObservers.forEach((function(a){if("table"===a.type)a.cols.forEach((function(i){var r="",l="";if(0===i.fieldType?l="string":1===i.fieldType?l="number":2===i.fieldType?l="date":3===i.fieldType&&(l="boolean"),i.defaultList&&"bind"===i.defaultList.cfgType)if("tableSta"===i.defaultList.bindType)a.datas.forEach((function(e){var r=a.datas.some((function(e){return""===e[i.prop]}));!0===r&&a.datas.forEach((function(e){e[i.prop]=t.computDefaultValue(e[i.defaultList.bindTarget],l,i.defaultList.bindExpress)}))}));else{r=t.getFormLinkValue(e,i.defaultList);var s=t.computDefaultValue(r,l,i.defaultList.bindExpress),o=a.datas.some((function(e){return""===e[i.prop]}));!0===o&&a.datas.forEach((function(e){e[i.prop]=s}))}}));else{var i=a.defaultValue,r=t.getFormLinkValue(e,i);a.value=t.computDefaultValue(r,a.type,i.bindExpress),Object.prototype.hasOwnProperty.call(a,"realValue")&&t.setFormatWapper(a)}(a.value||""===e.entity)&&a.listeners&&a.listeners.change&&a.listeners.change(a.value,"auto")}))}},{key:"doFlowVariableQuery",value:function(e){var t=this;return new Promise((function(a,i){var r=e;Array.isArray(e)||(r=[e]),Object(_api_processAssignment__WEBPACK_IMPORTED_MODULE_39__["p"])({taskId:t.taskId,expresses:r}).then((function(i){var r=i.data,l=i.error;if(l)t.$message.error(l.message);else if(Array.isArray(e))a(r);else{var s=r[e];s&&0!==s.length||(s=null),a(s)}}))}))}},{key:"getFlowVariablehttp",value:function(e,t){var a=this;this.doFlowVariableQuery(t.flowVisibleCode).then((function(i){if(i)if("variableChange"===e){var r=[];i.forEach((function(e){r.push({value:e[t.dataValue],label:e[t.dataLabel]})})),a.$set(t,"optionsList",r),a.$set(t,"textListLabel",i),a.$set(t,"optionsType","viewsData"),t.value&&t.listeners&&t.listeners.change(t.value),"select"!==t.type&&"transfer"!==t.type||a.datasFilter(t)}else"table"===e&&i.length>0&&(t.cols.some((function(e){return e.prop&&e.prop.indexOf(".")>-1}))?a.loadTableData(t,i):a.loadTableData(t,a.washTableFlowVariable(i)))}))}},{key:"mutexTableLoading",value:function(e){var t=this,a=[e.flowVisibleCode].concat(Object(D_projects_cjhx_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_26__["a"])(e.mutexSetList.map((function(e){return e.addDataSetVal}))));this.doFlowVariableQuery(a).then((function(i){if(i)for(var r=0;r<a.length;r++){var l=i[a[r]];if(l&&l.length>0){a[r]!==e.flowVisibleCode?function(){l=t.washTableFlowVariable(l);var i=Object(_utils_util__WEBPACK_IMPORTED_MODULE_37__["a"])(e.mutexSetList,"addDataSetVal",a[r]);i.addViewDataLists&&i.addViewDataLists.length>0&&l.forEach((function(e){i.addViewDataLists.forEach((function(t){e[t["prop"]]=e[t["bindProp"]]}))})),t.loadTableData(e,l)}():e.cols.some((function(e){return e.prop&&e.prop.indexOf(".")>-1}))?t.loadTableData(e,l):t.loadTableData(e,t.washTableFlowVariable(l));break}}}))}},{key:"washTableFlowVariable",value:function(e){return e.map((function(e){var t={};return Object.keys(e).forEach((function(a){t[a.substring(a.lastIndexOf(".")+1)]=e[a]})),t}))}},{key:"defaultValueBind",value:function(e){var t=this;if(e.defaultValue){if(!e.value||0===e.value.length||e.defaultValue.ignoreCurrVal){var a=e.defaultValue;if("script"===a.cfgType)this.scriptComputHandle(e,a,"defaultValue");else if("form"===a.bindType){var i=Object(_utils_util__WEBPACK_IMPORTED_MODULE_37__["a"])(this.formConfig.formList,"key",a.bindTarget);if(i){if(a.bindField&&this.addFormLinkFields(i,a.bindField),i.value){var r=this.getFormLinkValue(i,a);e.value=this.computDefaultValue(r,e.type,a.bindExpress),(e.value||""===e.value)&&e.listeners&&e.listeners.change&&e.listeners.change(e.value,"auto")}i.dvObservers||(i.dvObservers=[]),Object(_utils_util__WEBPACK_IMPORTED_MODULE_37__["a"])(i.dvObservers,"key",e.key)||i.dvObservers.push(e),i.listeners||this.registerChangeListeners(i)}}else"variable"===a.bindType?this.doFlowVariableQuery(a.bindTarget).then((function(i){i&&(e.value=t.computDefaultValue(Array.isArray(i)?i.join(","):i,e.type,a.bindExpress),(e.value||""===e.value)&&e.listeners&&e.listeners.change&&e.listeners.change(e.value,"auto"),Object.prototype.hasOwnProperty.call(e,"realValue")&&t.setFormatWapper(e))})):"static"===a.bindType?a.bindTarget&&("date"!==e.type||a.bindTarget||(a.bindTarget=moment__WEBPACK_IMPORTED_MODULE_35___default()().format("YYYY-MM-DD")),e.value=this.computDefaultValue(a.bindTarget,e.type,a.bindExpress),(e.value||""===e.value)&&e.listeners&&e.listeners.change&&e.listeners.change(e.value),Object.prototype.hasOwnProperty.call(e,"realValue")&&this.setFormatWapper(e)):"dataViews"===a.bindType&&this.buttonChange(e)}}else"childFrom"===e.type&&this.childFromChange(e);"number"===e.type&&(this.setFormatWapper(e),this.$set(e,"listeners",Object(D_projects_cjhx_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_28__["a"])(Object(D_projects_cjhx_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_28__["a"])({},e.listeners),{},{focus:function(){t.$set(e,"type","number"),t.$set(e,"value",e.realValue)},blur:function(){t.setFormatWapper(e)}})))}},{key:"setFormatWapper",value:function(e){var t;this.$set(e,"realValue",e.value),this.$set(e,"type","text"),t=e.accuracy||0===e.accuracy?Number(e.accuracy):2,this.$set(e,"value",Object(_utils_util__WEBPACK_IMPORTED_MODULE_37__["d"])(e.value,t))}},{key:"childFromChange",value:function(e){var t=!1;e.value&&e.value.formList&&e.value.formList.some((function(e){e.value&&e.value.length>0&&(t=!0)})),!1===t&&this.buttonChange(e)}},{key:"registerFormScriptParam",value:function(e,t,a,i,r){var l=null;if(r.resultValue&&0!==r.resultValue.length)l=r.resultValue;else{var s=Object(_utils_util__WEBPACK_IMPORTED_MODULE_37__["a"])(this.formConfig.formList,"key",r.value);if(s){s.scriptObservers||(s.scriptObservers=[]);var o=!0;if("paramsButtonValue"===a||"resultButtonValue"===a)o=!1;else for(var n=0;n<s.scriptObservers.length;n++){var _=s.scriptObservers[n];if(_.item.key===e.key&&_.handleType===a){i?"tableCols"===a?_.extendObj2.extendColName===i.extendColName&&(o=!1):"staticDefaultValue"!==a&&"hiddenDatas"!==a||_.extendObj2.def.fieldCode===i.def.fieldCode&&(o=!1):o=!1;break}}o&&s.scriptObservers.push({item:e,scriptConfig:t,handleType:a,extendObj:r,extendObj2:i}),s.listeners||this.registerChangeListeners(s),r.bindField&&this.addFormLinkFields(s,r.bindField),"table"===s.type&&s.datas.length>0?l=s.datas:s.value&&(l=this.getFormLinkValue(s,r))}l&&(r.resultValue=l)}return l}},{key:"listQueryHandle",value:function(e,t,a,i){var r=this,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;t.length>0&&Promise.all(t.map((function(s){return new Promise((function(o,n){var _={};if(_["type"]=s.type,_["code"]=s.code,_["required"]=s.required,"fixed"===s.valueType)_["value"]=s.value,o(_);else if("form"===s.valueType)if(s.resultValue)_["value"]=s.resultValue,o(_);else{var u=Object(_utils_util__WEBPACK_IMPORTED_MODULE_37__["a"])(r.formConfig.formList,"key",s.value);u&&(u.queryObservers||(u.queryObservers=[]),u.queryObservers.push({item:e,dataQueryList:t,viewsId:a,typeData:i,extendObj:l,linkSetItem:s}),u.listeners||r.registerChangeListeners(u),u.value?(_["value"]=r.getFormLinkValue(u,s),o(_)):n())}else"variable"===s.valueType?s.relationVal?(_["value"]=s.relationVal,o(_)):r.doFlowVariableQuery(s.value).then((function(e){e?(s.relationVal=Array.isArray(e)?e.join(","):e,_["value"]=s.relationVal,o(_)):n()})):o({})}))}))).then((function(t){t.every((function(e){var t=!0;return 0!==e.required||e.value&&0!==e.value.length||(t=!1),t}))&&r.dataViewQueryHandle(a,e,i,t.filter((function(e){return e["code"]})),l)})).catch((function(){}))}},{key:"scriptComputHandle",value:function scriptComputHandle(item,scriptConfig,handleType){var _this16=this,extendObj=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,extendObj2=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;Promise.all(scriptConfig.parameterList.map((function(e){return new Promise((function(t,a){var i={label:e.label};if("fixed"===e.valueType)i["value"]=e.value,t(i);else if("form"===e.valueType){var r=_this16.registerFormScriptParam(item,scriptConfig,handleType,extendObj2,e);i["value"]=r||"",t(i)}else if("variable"===e.valueType)e.resultValue?(i["value"]=e.resultValue,t(i)):_this16.doFlowVariableQuery(e.value).then((function(a){a?(e.resultValue=Array.isArray(a)&&"object"!==Object(D_projects_cjhx_node_modules_babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_25__["a"])(a[0])?a.join(","):a,i["value"]=e.resultValue,t(i)):(e.resultValue="",i["value"]="",t(i))}));else if("tableSta"===e.valueType){var l=!1;if("paramsButtonValue"===handleType)i["value"]=extendObj2["row"][e.value];else{var s=Object(_utils_util__WEBPACK_IMPORTED_MODULE_37__["a"])(item.datas,"editMarkIndex",extendObj2.dataItem["editMarkIndex"]);if(s){var o=s[e.value];o&&(i["value"]=o)}extendObj2["scriptFlag"]&&extendObj2["scriptFlag"]["".concat(handleType,"_").concat(e.value)]||(item.scriptObservers||(item.scriptObservers=[]),item.scriptObservers.push({item:item,scriptConfig:scriptConfig,handleType:handleType,extendObj:e,extendObj2:extendObj2}),item.listeners||_this16.registerChangeListeners(item),extendObj2["scriptFlag"]||(extendObj2["scriptFlag"]={}),extendObj2["scriptFlag"]["".concat(handleType,"_").concat(e.value)]=!0,"static"!==extendObj2.def.type&&(l=!0))}!l||extendObj2.ignoreFlag?t(i):a()}else if("serviceResponse"===e.valueType){if(e.value){var n=scriptConfig.returnData.map((function(t){return t[e.value]}));i["value"]=Array.isArray(n)?n.join(","):n}else i["value"]=scriptConfig.returnData;i["value"]?t(i):a()}}))}))).then((function(paramsValues){new Promise((function(resolve,reject){if("javascript"!==scriptConfig.scriptType&&scriptConfig.scriptType){if("meteorShower"===scriptConfig.scriptType){var meteorShower=scriptConfig.valueShow;paramsValues.forEach((function(e){meteorShower=meteorShower.replace(new RegExp(e["label"],"g"),'"'.concat(e["value"],'"'))})),Object(_api_processAssignment__WEBPACK_IMPORTED_MODULE_39__["q"])({script:meteorShower,taskId:_this16.taskId}).then((function(e){var t=e.data;resolve(t?Array.isArray(t)?t.join(","):t:"")}))}}else{var paramsList=paramsValues.map((function(e){return e.value}));if(scriptConfig.valueShow){var methodChage=eval("window.dealFormScript = ".concat(scriptConfig.valueShow));if("tableDefault"===handleType)for(var i=0;i<paramsList.length;i++)Array.isArray(paramsList[i])&&(paramsList[i]=_this16.washTableFlowVariable(paramsList[i]));resolve(methodChage.apply(void 0,Object(D_projects_cjhx_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_26__["a"])(paramsList)))}else reject()}})).then((function(e){if("defaultValue"===handleType)item.value=e,item.listeners&&item.listeners.change(item.value),Object.prototype.hasOwnProperty.call(item,"realValue")&&_this16.setFormatWapper(item);else if("showAndHidden"===handleType)_this16.$set(item,"showForm","none"),!0===e&&_this16.$set(item,"showForm","show");else if("tableCols"===handleType){var t="show";e&&"false"!==e||(t="none"),extendObj2.showForm=t,_this16.doExtendColsHidden(item,extendObj2)}else if("staticDefaultValue"===handleType){var a=Object(lodash__WEBPACK_IMPORTED_MODULE_36__["cloneDeep"])(Object(_utils_util__WEBPACK_IMPORTED_MODULE_37__["a"])(item.datas,"editMarkIndex",extendObj2.dataItem["editMarkIndex"]));if(a){a[scriptConfig.fieldCode]=e,item.datas.splice(extendObj2.ind,1,a);var i=Object(_utils_util__WEBPACK_IMPORTED_MODULE_37__["a"])(item.oriDatas,"editMarkIndex",extendObj2.dataItem["editMarkIndex"]),r=!!e;if(i){var l=i[scriptConfig.fieldCode];i[scriptConfig.fieldCode]=e,r&&l==e&&(r=!1)}r&&_this16.handleDoInput(extendObj2.dataItem["editMarkIndex"],scriptConfig.fieldCode,e,item.key,!1)}}else if("hiddenDatas"===handleType)e?_this16.$set(extendObj.disable,extendObj2.headIndex,1):_this16.$set(extendObj.disable,extendObj2.headIndex,0);else if("paramsButtonValue"===handleType)scriptConfig.reqBody=e,_this16.fetchBtnService(extendObj2.row,extendObj2.btn,item);else if("ordinaryButtonParams"===handleType)scriptConfig.reqBody=e,_this16.fetchOrdinaryBtnService(extendObj2.linkPromise,item,extendObj2.linkDef);else if("resultButtonValue"===handleType)_this16.$set(extendObj2,scriptConfig.targetCol,e);else if("ordinaryButtonValue"===handleType){var s=Object(_utils_util__WEBPACK_IMPORTED_MODULE_37__["a"])(_this16.formConfig.formList,"key",item.setLink.targetObjectBut.targetCol);_this16.formConfig.formList.forEach((function(t){t.key===s.key&&(t.value=e,item.setLink.targetObjectBut.targetTableCol?t.datas.forEach((function(t){t[item.setLink.targetObjectBut.targetTableCol]=e})):t.value=e)}))}else"defScriptValue"===handleType?item.value=e:"tableDefault"===handleType?_this16.loadTableData(item,e):"datasfilter"===handleType&&("table"===item.type?item.datas=e:item.optionsList=e.map((function(e){return{value:e[item.dataValue],label:e[item.dataLabel]}})))})).catch((function(){}))})).catch((function(){}))}},{key:"getViewQueryFields",value:function(e,t,a){var i=[];if("selectView"===t)e.linkFields&&Array.isArray(e.linkFields)?e.linkFields=new Set(e.linkFields):e.linkFields=new Set,e.linkFields.add(e.dataValue),e.linkFields.add(e.dataLabel),i=Array.from(e.linkFields);else if("tableChild"===t){var r=new Set(a.addViewDataLists.map((function(e){return e.addViewData})));a.addDataValue.forEach((function(e){return r.add(e)})),i=Array.from(r)}else if("table"===t){var l=new Set(e.associatedNodeList);e.addSetList&&e.addSetList.length>0&&e.addSetList.forEach((function(e){"addList"!==e.addSetType&&e.addViewDataLists.forEach((function(e){return e.addDataLink.indexOf("yss")>-1&&l.add(e.addDataLink)}))})),i=Array.from(l)}return i}},{key:"dataViewQueryHandle",value:function(e,t,a){var i=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(e){var s={viewId:e,queryParams:r||[],authStationAndUsers:[{stationId:this.taskDealStationId,userCode:this.userCode}]};Object(_api_viewData__WEBPACK_IMPORTED_MODULE_40__["g"])(s).then((function(e){var r=e.data,s=e.error;if(s)return i.$message.error("查询数据视图结果失败:"+s.message),!1;if(r.rows&&r.rows.length>0)if("tableChild"===a)i.mergeExtendColsView(r.rows,l.addViewDataLists,l,t);else if("selectView"===a){var o=[];r.rows.forEach((function(e){if(Array.isArray(t.dataLabel)){var a=[];t.dataLabel.forEach((function(t,i){a.push(e[t])})),Object(_utils_util__WEBPACK_IMPORTED_MODULE_37__["a"])(o,"value",e[t.dataValue])||o.push({value:e[t.dataValue],label:a.join("-")})}else o.push({value:e[t.dataValue],label:e[t.dataLabel]})})),Array.isArray(t.dataLabel)&&t.dataLabel.length>1&&o.sort((function(e,t){return e["label"]>t["label"]?1:-1})),i.$set(t,"textListLabel",r.rows),i.$set(t,"optionsList",o),i.$set(t,"optionsType","viewsData"),t.value&&t.listeners&&t.listeners.change(t.value,"auto"),"select"!==t.type&&"transfer"!==t.type||i.datasFilter(t)}else"table"===a&&i.loadTableData(t,r.rows)}))}}},{key:"loadTableData",value:function(e,t){var a=this;if(t&&t.length>0){if(t.forEach((function(t,i){var r=null;e.refreshLoading&&e.loadingPrimKey.length>0?r=e.loadingPrimKey.map((function(e){return t[e]})).join("_"):t["editMarkIndex"]||(r="r".concat(i)),r&&a.$set(t,"editMarkIndex",r)})),e.oriDatas=t,this.datasFilter(e),"historyDetail"===this.mode)return!1;e.history&&this.queryItemImprint(e),e.addSetList&&e.addSetList.length>0&&e.addSetList.forEach((function(t){a.doExtendColsQuery(t,e)})),e.value&&e.listeners&&e.listeners.change(e.value)}}},{key:"doExtendColsQuery",value:function(e,t){var a=t.oriDatas;if("addList"===e.addSetType){if(e.tabList.length>0||e.colsAdd.length>0){var i=e.colsAdd.length>0?e.colsAdd:e.tabList;this.recordsHanle(a,t,i)}this.datasFilter(t)}else"addViewList"===e.addSetType?e.addDataQueryList.length>0?this.listQueryHandle(t,e.addDataQueryList,e.addDataSetVal,"tableChild",e):this.dataViewQueryHandle(e.addDataSetVal,t,"tableChild",[],e):"addFlowVariables"===e.addSetType&&this.addFlowVariablesLink(e,e.addViewDataLists,t,a)}},{key:"getFormLinkValue",value:function(e,t){var a="";if(t.bindField){if(e.textListLabel&&e.textListLabel.length>0){var i=Object(_utils_util__WEBPACK_IMPORTED_MODULE_37__["a"])(e.textListLabel,e.dataValue,e.value);i&&(a=i[t.bindField])}this.addFormLinkFields(e,t.bindField)}else a=e.realValue?e.realValue:e.value;return a}},{key:"doStaticColumnComput",value:function(e,t,a,i,r){var l=this;e.datas.forEach((function(s,o){if("hiddenDatas"===i&&(s.disable=new Array(e.cols.length)),"static"===t.type&&"staticDefaultValue"===i&&s[t.fieldCode]);else{var n={dataItem:s,def:t,ind:o,headIndex:r,ignoreFlag:!0};l.scriptComputHandle(e,t.defaultList,i,a,n)}}))}},{key:"staticColumnDefaultValue",value:function(e){var t=this,a="";e.cols.forEach((function(i){if(i.defaultList)if(0===i.fieldType?a="string":1===i.fieldType?a="number":2===i.fieldType?a="date":3===i.fieldType&&(a="boolean"),"script"===i.defaultList.cfgType)if("static"!==i.type&&1!==i.editable);else{var r=[];i.defaultList.parameterList.forEach((function(a){a.resultValue||("variable"===a.valueType?r.push(a.value):"form"===a.valueType&&(a.resultValue=t.registerFormScriptParam(e,i.defaultList,"staticDefaultValue",{def:i},a)))})),new Promise((function(e){r.length>0?t.doFlowVariableQuery(r).then((function(t){t&&i.defaultList.parameterList.forEach((function(e){"variable"!==e.valueType||e.resultValue||(e["resultValue"]=t[e.value])})),e()})):e()})).then((function(){t.doStaticColumnComput(e,i,null,"staticDefaultValue",null)}))}else if("static"===i.defaultList.bindType){if(2!==i.fieldType||i.defaultList.bindTarget||(i.defaultList.bindTarget=moment__WEBPACK_IMPORTED_MODULE_35___default()().format("YYYY-MM-DD")),i.defaultList.bindTarget){var l=t.computDefaultValue(i.defaultList.bindTarget,a,i.defaultList.bindExpress),s=e.datas.some((function(e){return""===e[i.prop]}));!0===s&&e.datas.forEach((function(e){e[i.prop]=l}))}}else if("variable"===i.defaultList.bindType)new Promise((function(e){i.defaultList.resultValue?e():t.doFlowVariableQuery(i.defaultList.bindTarget).then((function(t){t&&(i.defaultList.resultValue=Array.isArray(t)?t.join(","):t),e()}))})).then((function(){var r=t.computDefaultValue(i.defaultList.resultValue,a,i.defaultList.bindExpress),l=e.datas.some((function(e){return""===e[i.prop]}));!0===l&&e.datas.forEach((function(e){e[i.prop]=r}))}));else if("form"===i.defaultList.bindType){var o=Object(_utils_util__WEBPACK_IMPORTED_MODULE_37__["a"])(t.formConfig.formList,"key",i.defaultList.bindTarget);if(o){if(i.defaultList.bindField&&t.addFormLinkFields(o,i.defaultList.bindField),o.value){var n=t.getFormLinkValue(o,i.defaultList),_=t.computDefaultValue(n,a,i.defaultList.bindExpress),u=e.datas.some((function(e){return""===e[i.prop]}));!0===u&&e.datas.forEach((function(e){e[i.prop]=_}))}o.dvObservers||(o.dvObservers=[]),Object(_utils_util__WEBPACK_IMPORTED_MODULE_37__["a"])(o.dvObservers,"key",e.key)||o.dvObservers.push(e),o.listeners||t.registerChangeListeners(o)}}else"tableSta"===i.defaultList.bindType&&e.datas.forEach((function(r){var l=e.datas.some((function(e){return""===e[i.prop]}));!0===l&&e.datas.forEach((function(e){e[i.prop]=t.computDefaultValue(e[i.defaultList.bindTarget],a,i.defaultList.bindExpress)}))}))}))}},{key:"computTableColEditControl",value:function(e){var t=this;e.cols.forEach((function(a,i){if(a.staticList)if("script"===a.staticList.staticType){var r=a.staticList.showValueConfig,l=[];r.parameterList.forEach((function(s){s.resultValue||("variable"===s.valueType?l.push(s.value):"form"===s.valueType&&(s.resultValue=t.registerFormScriptParam(e,r,"hiddenDatas",{def:a,headIndex:i},s)))})),new Promise((function(e){l.length>0?t.doFlowVariableQuery(l).then((function(t){t&&r.parameterList.parameterList.forEach((function(e){"variable"!==e.valueType||e.resultValue||(e["resultValue"]=t[e.value])})),e()})):e()})).then((function(){t.doStaticColumnComput(e,a,null,"hiddenDatas",null)}))}else"tableSta"===a.staticList.staticType&&e.datas.forEach((function(r,l){r.disable=new Array(e.cols.length),a.staticList.staticDataList.forEach((function(e){t.computVaild(e.staticFilter,r[e.staticCheck]?r[e.staticCheck]:"",e.staticText,"")||t.$set(r.disable,i,0)}))}))})),e.datas.forEach((function(t,a){t.disable=new Array(e.cols.length)}))}},{key:"computDefaultValue",value:function(e,t,a){if(e){var i=e;if("date"===t)i=moment__WEBPACK_IMPORTED_MODULE_35___default()(e),a.year&&0!==a.year&&(1===a.yearSign&&(a.year=0-a.year),i=i.add(a.year,"years")),a.month&&0!==a.month&&(1===a.monthSign&&(a.month=0-a.month),i=i.add(a.month,"months")),a.day&&0!==a.day&&(1===a.daySign&&(a.day=0-a.day),i=i.add(a.day,"days")),i=i.format("YYYY-MM-DD");else if("number"===t&&(i=parseFloat(e),a.offset)){var r=parseFloat(a.offset);switch(a.sign){case 0:i+=r;break;case 1:i-=r;break;case 2:i*=r;break;case 3:i/=r;break}}return i}return""}},{key:"doDatasfilter",value:function(e,t,a,i){var r=this;return e.filter((function(e){var l=e[t];return r.computVaild(i,l,a,"")}))}},{key:"computVaild",value:function(e,t,a,i){var r=this;return"2"===i.relationship&&"variable"===i.showType?t.split(",").some((function(t){return r.targetFun(e,t,a,"item")})):"1"===i.relationship&&"variable"===i.showType?t.split(",").every((function(t){return r.targetFun(e,t,a,"item")})):this.targetFun(e,t,a,"all")}},{key:"targetFun",value:function(e,t,a,i){if("boolean"===typeof t?t="".concat(t):isNaN(t)||(t=parseFloat(t),a=parseFloat(a)),"1"===e||!e)return"item"===i?t===a:!t||"string"!==typeof t&&"object"!==Object(D_projects_cjhx_node_modules_babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_25__["a"])(t)||-1===t.indexOf(",")?t==a:t.indexOf(a)>-1;if("0"===e)return t>a;if("2"===e)return t<a;if("3"===e)return t!==a;if("4"===e)return t>=a;if("5"===e)return t<=a;if("6"===e){if(t)return t.indexOf(a)>-1}else if("7"===e&&t)return-1===t.indexOf(a)}},{key:"datasFilter",value:function(e){var t=this;e.filterText&&e.filterText.length>0&&(e.filterConfig={cfgType:"bind",filterText:e.filterText,strategy:"and"},e.filterText=null),e.filterConfig?"bind"===e.filterConfig.cfgType?e.filterConfig.filterText&&e.filterConfig.filterText.length>0&&Promise.all(e.filterConfig.filterText.map((function(a){return new Promise((function(i,r){var l={};if(a.textLinkValue)if("form"===a.filterType){var s=Object(_utils_util__WEBPACK_IMPORTED_MODULE_37__["a"])(t.formConfig.formList,"key",a.textLink);s&&(l["textLinkValue"]=a.textLinkValue,l["textLinkMethod"]=a.textLinkMethod,l["value"]=s.value,i(l),s.filterObservers||(s.filterObservers=[]),Object(_utils_util__WEBPACK_IMPORTED_MODULE_37__["a"])(s.filterObservers,"key",e.key)||s.filterObservers.push(e),s.listeners||t.registerChangeListeners(s))}else"variable"===a.filterType?a.filterValue&&a.filterValue.length>0?(l["textLinkValue"]=a.textLinkValue,l["textLinkMethod"]=a.textLinkMethod,l["value"]=a.filterValue,i(l)):t.doFlowVariableQuery(a.textLink).then((function(e){e&&(e instanceof String||e.length>0)?(t.$set(a,"filterValue",e),l["textLinkValue"]=a.textLinkValue,l["textLinkMethod"]=a.textLinkMethod,l["value"]=e,i(l)):(t.$set(a,"filterValue",""),l["textLinkValue"]=a.textLinkValue,l["textLinkMethod"]=a.textLinkMethod,l["value"]="",i(l))})):"static"===a.filterType&&a.textLink&&(l["textLinkValue"]=a.textLinkValue,l["textLinkMethod"]=a.textLinkMethod,l["value"]=a.textLink,i(l))}))}))).then((function(a){var i="or"===e.filterConfig.strategy,r=function(e){return function(a){return a.value&&a.value instanceof Array?t.computVaild(a.textLinkMethod,e[a.textLinkValue],a.value.join(","),""):t.computVaild(a.textLinkMethod,e[a.textLinkValue],a.value,"")}};if("table"===e.type){var l=[];e.oriDatas.forEach((function(e){var t=r(e),s=i?a.some(t):a.every(t);!0===s&&l.push(e)})),e.datas=l,t.handleTableDatasChange(e)}else{var s=[];e.textListLabel.forEach((function(t){var l=r(t),o=i?a.some(l):a.every(l);!0===o&&s.push({value:t[e.dataValue],label:t[e.dataLabel]})})),t.$set(e,"optionsList",s)}})):(e.datas=e.oriDatas,e.filterConfig.pushDatas||(e.filterConfig.parameterList.push({label:"beFilterDatas",valueType:"fixed",value:"table"===e.type?e.oriDatas:e.textListLabel}),e.filterConfig.pushDatas=!0),this.scriptComputHandle(e,e.filterConfig,"datasfilter")):"table"===e.type&&(e.datas=e.oriDatas,this.handleTableDatasChange(e))}},{key:"recordsHanle",value:function(e,t,a){e.forEach((function(e,t){a.forEach((function(t){var a=t.fieldCode?t.fieldCode:t.prop;e[a]||(t.value?e[a]=t.value:e[a]="")}))})),t.datas=e}},{key:"addFlowVariablesLink",value:function(e,t,a,i){var r=this;e.addDataSetVal&&this.doFlowVariableQuery(e.addDataSetVal).then((function(i){if(i&&i.length>0){var l=i;a.cols.some((function(e){return e.prop&&e.prop.indexOf(".")>-1}))||(l=r.washTableFlowVariable(i)),r.mergeExtendColsView(l,t,e,a)}}))}},{key:"mergeExtendColsView",value:function(e,t,a,i){a.datas||(a.datas=e);var r=e;if(r){var l=Object(lodash__WEBPACK_IMPORTED_MODULE_36__["cloneDeep"])(i.oriDatas);l.forEach((function(e){var i=null;if(t.length>1)for(var l=function(a){var l=r[a];if(t.every((function(t){return l[t.addViewData]===e[t.addDataLink]})))return i=l,"break"},s=0;s<r.length;s++){var o=l(s);if("break"===o)break}else i=Object(_utils_util__WEBPACK_IMPORTED_MODULE_37__["a"])(r,t[0].addViewData,e[t[0].addDataLink]);i&&a.addDataValue.forEach((function(t){e[t]||(e[t]=i[t])}))})),i.oriDatas=l,this.datasFilter(i)}}},{key:"computeCellClass",value:function(e){var t=e.row,a=(e.columnIndex,e.column);if(t.beModified&&Array.from(t.beModified).indexOf(a.property)>-1)return"red-alert"}},{key:"fileType",value:function(e){if(e){var t=e.lastIndexOf("."),a=e.length,i=e.substring(t+1,a);return"xlsx"===i||"xls"===i?"excel":"doc"===i||"docx"===i?"doc":"html"===i?"html":"pdf"===i?"pdf":"txt"===i?"txt":"jpg"===i||"jpeg"===i||"svg"===i||"png"===i||"bmp"===i||"gif"===i?"tupian":"wenjian"}}},{key:"download",value:function(e){Object(_api_processAssignment__WEBPACK_IMPORTED_MODULE_39__["a"])(e)}},{key:"showHistoryCompare",value:function(e){this.modifysVisible=!0,this.queryItemImprint(e)}},{key:"queryItemImprint",value:function(e){var t=this;this.historyLoading=!0,Object(_api_processAssignment__WEBPACK_IMPORTED_MODULE_39__["A"])(this.processInstanceId,e["key"]).then((function(a){var i=a.error,r=a.data;t.historyLoading=!1,!i&&r.length>0&&("table"===e["type"]?e["tableCompareContainer"]?(t.tableCompareContainer=e["tableCompareContainer"],t.tableCompareColumns=e["cols"].filter((function(e){return"操作"!==e.label&&!e.hidden}))):t.compareTableDatas(e,r):(t.tableCompareColumns=t.commonHistoryColumns,t.tableCompareContainer=r))}))}},{key:"compareTableDatas",value:function(e,t){var a=this,i=[];t.reverse(),t.forEach((function(t){Object.keys(t.value).forEach((function(r){var l=Object(_utils_util__WEBPACK_IMPORTED_MODULE_37__["a"])(e.datas,"editMarkIndex",r);if(l){var s=null,o=null;l.beModified?(s=Object(lodash__WEBPACK_IMPORTED_MODULE_36__["cloneDeep"])(l.beModified),o=Object(_utils_util__WEBPACK_IMPORTED_MODULE_37__["a"])(i,"editMarkIndex",r)):(s=new Set,o=Object(lodash__WEBPACK_IMPORTED_MODULE_36__["cloneDeep"])(l),i.push(o));var n=t["value"][r];n.forEach((function(t){t.value&&(s.add(t["prop"]),t.preValue?o[t["prop"]]=t.preValue:o[t["prop"]]="",o[t["prop"]]+=" -> ".concat(t.value),e.refreshLoading&&(l[t["prop"]]=t.value))})),a.$set(l,"beModified",s),o.beModified=s}}))})),i.length>0&&(e.tableCompareContainer=i,this.tableCompareContainer=e["tableCompareContainer"],this.tableCompareColumns=e["cols"].filter((function(e){return"操作"!==e.label&&!e.hidden})))}},{key:"uploadTable",value:function(e){this.uploadTableKey=e.key,this.importFiles=[],this.importDialogVisible=!this.importDialogVisible}},{key:"doUpload",value:function(){var e=this;0===this.importFiles.length?this.$message.error("请先选择要导入或上传的文件！"):this.$confirm("该操作可能会覆盖其余数据，是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.loading=!0;var t=new FormData;e.importFiles.forEach((function(e){return t.append("file",e.raw)})),Object(_api_processAssignment__WEBPACK_IMPORTED_MODULE_39__["P"])(t).then((function(t){var a=t.data,i=t.error;if(i)e.loading=!1,e.$message.error("导入失败：".concat(i.message));else{e.loading=!1,e.importDialogVisible=!e.importDialogVisible,e.$message.success("导入成功！"),e.editMarks[e.uploadTableKey]&&e.$delete(e.editMarks,e.uploadTableKey);var r=Object(_utils_util__WEBPACK_IMPORTED_MODULE_37__["a"])(e.formConfig.formList,"key",e.uploadTableKey),l=Object(lodash__WEBPACK_IMPORTED_MODULE_36__["cloneDeep"])(r.cols),s=[];a.forEach((function(t){var a={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var r=Object(_utils_util__WEBPACK_IMPORTED_MODULE_37__["a"])(l,"fieldName",i);r&&e.$set(a,r.prop,t[i])}s.push(a)})),e.loadTableData(r,s)}}))})).catch((function(){}))}},{key:"closeDialog",value:function(){var e=this.$refs.netUpload;e.clearFiles(),this.importDialogVisible=!this.importDialogVisible,this.loading=!1}},{key:"handleUploadFileChange",value:function(e,t){this.importFiles=t}},{key:"onRemove",value:function(e,t){this.importFiles=t}},{key:"exportTable",value:function(e){var t={headers:e.cols.filter((function(e){return!e.hidden})),rows:e.datas};Object(_api_processAssignment__WEBPACK_IMPORTED_MODULE_39__["O"])(t,"".concat(e.label,".xls"))}},{key:"vaildFormShow",value:function(e,t,a){var i="show";return e.bindField?this.computVaild(e.symbolShow,this.getFormLinkValue(t,e),e.inputValue,e)||(i="none"):this.computVaild(e.symbolShow,a,e.inputValue,e)||(i="none"),i}},{key:"addChange",value:function(e){var t=this;if(this.labelTable=e.key,e.addTemplate&&e.addTemplate.formList&&e.addTemplate.formList.length>0)this.childFromExist=!0,this.formAttributeAlert=Object(lodash__WEBPACK_IMPORTED_MODULE_36__["cloneDeep"])(e.addTemplate),this.formAttributeAlert.formList.forEach((function(e){t.$set(e,"showForm","show"),t.$set(e,"editable",1),"checkboxGroup"===e.type||"transfer"===e.type?t.$set(e,"value",[]):t.$set(e,"value","")}));else{this.childFromExist=!1;var a=Object(lodash__WEBPACK_IMPORTED_MODULE_36__["cloneDeep"])(e.cols);this.addTableList=a.filter((function(e){return"操作"!==e.label&&!e.hidden}))}this.dialogSwitch=!0;var i=Object(lodash__WEBPACK_IMPORTED_MODULE_36__["cloneDeep"])(e.cols);this.addTableList=i.filter((function(e){return"操作"!==e.label&&"index"!==e.type&&!e.hidden}))}},{key:"treeDataTest",value:function(){var e={};e=this.$refs.advance["spread"].model;var t=Object(_utils_util__WEBPACK_IMPORTED_MODULE_37__["a"])(this.formAttribute.formList,"key",this.labelTable);t&&this.doTableRowAdd(t,[e]),this.dialogSwitch=!1,this.cancelSwitch()}},{key:"doTableRowAdd",value:function(e,t){var a=this;t.forEach((function(t){var i="r".concat(e.oriDatas?e.oriDatas.length:e.datas.length);e.refreshLoading&&e.loadingPrimKey.length>0&&(i=e.loadingPrimKey.map((function(e){return t[e]})).join("_")),a.$set(t,"editMarkIndex",i),e.oriDatas?e.oriDatas.push(t):e.datas.push(t)})),this.loadTableData(e,e.oriDatas?e.oriDatas:e.datas)}},{key:"handleFileRemove",value:function(e,t){var a=this.$refs.upload[0].uploadFiles,i=a.findIndex((function(t){return t.uid===e.uid}));a.splice(i,1);var r=this.formConfig.formList[t].value.findIndex((function(t){return t.uid===e.uid}));this.formConfig.formList[t].value.splice(r,1)}},{key:"successList",value:function(e,t,a,i){e.data&&e.data.path?(this.formConfig.formList[i].value||(this.formConfig.formList[i].value=[]),this.formConfig.formList[i].value.push({name:t.name,url:t.response["data"]["path"],uid:t.uid})):this.$message.warning("文件上传失败:"+e.message)}},{key:"buttonChange",value:function(e){var t=[],a={};e.setLink?(a=e.setLink,t=e.setLink.associatedLink):e.defaultValue&&(a=e.defaultValue,t=e.defaultValue.associatedLink),a.scriptLinkConfig&&a.scriptLinkConfig.valueShow&&!a.scriptLinkConfig.reqBody?this.scriptComputHandle(e,a.scriptLinkConfig,"ordinaryButtonParams",null,{linkPromise:t,linkDef:a}):this.fetchOrdinaryBtnService(t,e,a)}},{key:"fetchOrdinaryBtnService",value:function(e,t,a){var i=this;e.length>0?Promise.all(e.map((function(e){return new Promise((function(a,r){var l={code:e.code,type:e.type};if(e.valueType)if("fixed"===e.valueType)l["value"]=e.value,l["value"]?a(l):r();else if("form"===e.valueType){var s=Object(_utils_util__WEBPACK_IMPORTED_MODULE_37__["a"])(i.formConfig.formList,"key",e.value);s&&(s.internalObservers||(s.internalObservers=[]),Object(_utils_util__WEBPACK_IMPORTED_MODULE_37__["a"])(s.internalObservers,"key",t.key)||s.internalObservers.push(t),s.listeners||i.registerChangeListeners(s),l["value"]=s.value,l["value"]&&l["value"].length>0?a(l):r())}else"variable"===e.valueType?e.resultValue?(l["value"]=e.resultValue,a(l)):i.doFlowVariableQuery(e.value).then((function(t){t?(e.resultValue=Array.isArray(t)?t.join(","):t,l["value"]=e.resultValue):(e.resultValue="",l["value"]="",a(l)),l["value"]?a(l):r()})):a(l);else a(l)}))}))).then((function(e){i.doOrdinaryButtonQuery(t,e.filter((function(e){return e["value"]})),a.scriptLinkConfig.reqBody)})):a&&a.scriptLinkConfig&&this.doOrdinaryButtonQuery(t,[],a.scriptLinkConfig.reqBody)}},{key:"doOrdinaryButtonQuery",value:function(e,t,a){var i=this,r=[],l={};if(a&&(l.reqBody=JSON.stringify(a)),e.setLink){this.$set(l,"viewId",e.setLink.linkedSerVal),this.$set(l,"queryParams",t),this.$set(l,"authStationAndUsers",[{stationId:this.taskDealStationId,userCode:this.userCode}]);var s=_api_viewData__WEBPACK_IMPORTED_MODULE_40__["g"];"button"===e.type&&(s=_api_viewData__WEBPACK_IMPORTED_MODULE_40__["m"]),s(l).then((function(t){var a=t.data,l=t.error;if(a)if("bind"===e.setLink.targetObjectBut.setWay){r=a.rows.map((function(t){return t[e.setLink.targetObjectBut.bindingTargets]}));var s=Object(_utils_util__WEBPACK_IMPORTED_MODULE_37__["a"])(i.formConfig.formList,"key",e.setLink.targetObjectBut.targetCol);i.formConfig.formList.forEach((function(t){t.key===s.key&&(e.setLink.targetObjectBut.targetTableCol?t.datas.forEach((function(t){t[e.setLink.targetObjectBut.targetTableCol]=r.join(",")})):t.value=r.join(","))}))}else"script"===e.setLink.targetObjectBut.setWay&&(e.setLink.targetObjectBut.scriptTargets.returnData=a.rows,e.setLink.targetObjectBut.scriptTargets.targetCol=e.setLink.targetObjectBut.targetCol,i.scriptComputHandle(e,e.setLink.targetObjectBut.scriptTargets,"ordinaryButtonValue",null,null));else i.$message.error(l.message)}))}else{var o=e.defaultValue;this.$set(l,"viewId",e.defaultValue.bindTarget),this.$set(l,"queryParams",t.filter((function(e){return e["value"]}))),this.$set(l,"authStationAndUsers",[{stationId:this.taskDealStationId,userCode:this.userCode}]),Object(_api_viewData__WEBPACK_IMPORTED_MODULE_40__["g"])(l).then((function(t){var a=t.data,l=t.error;"childFrom"===e.type?e.value.formList.forEach((function(e){o.paramDefList.forEach((function(t){e.key===t.key&&(r=a.rows.map((function(e){return e[t.value]})),e.value=r.join(","))}))})):a?"bind"===o.targetObjectBut.setWay?(r=a.rows.map((function(e){return e[o.targetObjectBut.bindingTargets]})),i.$set(e,"value",r.join(",")),e.value=r.join(",")):(o.targetObjectBut.scriptTargets.returnData=a.rows,o.targetObjectBut.scriptTargets.targetCol=o.targetObjectBut.targetCol,i.scriptComputHandle(e,o.targetObjectBut.scriptTargets,"defScriptValue",null,null)):i.$message.error(l.message)}))}}},{key:"buttonParameter",value:function(e,t,a){t.scriptLinkConfig&&t.scriptLinkConfig.valueShow&&!t.scriptLinkConfig.reqBody?this.scriptComputHandle(a,t.scriptLinkConfig,"paramsButtonValue",null,{row:e,btn:t}):this.fetchBtnService(e,t,a)}},{key:"fetchBtnService",value:function(e,t,a){var i=this,r=t.associatedLink;r&&r.length>0?Promise.all(r.map((function(t){return new Promise((function(a){var r={code:t.code,type:t.type};if(t.valueType)if("fixed"===t.valueType)r["value"]=t.value,a(r);else if("form"===t.valueType){var l=Object(_utils_util__WEBPACK_IMPORTED_MODULE_37__["a"])(i.formConfig.formList,"key",t.value);r["value"]=l.value,a(r)}else"variable"===t.valueType?t.resultValue?(r["value"]=t.resultValue,a(r)):i.doFlowVariableQuery(t.value).then((function(e){e?(t.resultValue=Array.isArray(e)?e.join(","):e,r["value"]=t.resultValue,a(r)):(t.resultValue="",r["value"]="",a(r))})):"tableSta"===t.valueType&&(r["value"]=e[t.value],a(r))}))}))).then((function(r){i.doTableCellBtn(t,r,t.targetObjectBut,e,a)})):this.doTableCellBtn(t,[],t.targetObjectBut,e,a)}},{key:"doTableCellBtn",value:function(e,t,a,i,r){var l=this,s=[],o={viewId:e.linkedSerVal,queryParams:t};e.scriptLinkConfig.reqBody&&(o.reqBody=JSON.stringify(e.scriptLinkConfig.reqBody)),Object(_api_viewData__WEBPACK_IMPORTED_MODULE_40__["m"])(o).then((function(e){var t=e.data,o=e.error;t?"bind"===a.setWay?(s=t.rows.map((function(e){return e[a.bindingTargets]})),l.$set(i,a.targetCol,s.join(","))):"script"===a.setWay&&(a.scriptTargets.returnData=t.rows,a.scriptTargets.targetCol=a.targetCol,l.scriptComputHandle(r,a.scriptTargets,"resultButtonValue",null,i)):l.$message.error(o.message)}))}},{key:"changeClickBut",value:function(e,t,a){t.setLink&&this.buttonParameter(e,t.setLink,a)}},{key:"loadingColumns",value:function(e,t){var a=this;return e.filter((function(e){var i=e.tableFormConfig;if(e.editable){var r=i?i.formType:"input";"select"!==r&&"checkboxGroup"!==r&&"radioGroup"!==r||(a.$set(i,"optionsList",[]),a.$set(i,"optionsType",""),"dataView"===i.sourceDataType?setTimeout((function(){i.dataQueryList.length>0?a.listQueryHandle(i,i.dataQueryList,i.dataSetVal,"selectView"):a.dataViewQueryHandle(i.dataSetVal,i,"selectView")}),500):"variable"===i.sourceDataType?i.flowVisibleCode&&a.getFlowVariablehttp("variableChange",i):"static"===i.sourceDataType&&i.value&&setTimeout((function(){i.listeners&&i.listeners.change&&i.listeners.change(i.value,"auto")}),500)),e.editer={key:e.prop,type:e.tableFormConfig?e.tableFormConfig.formType:"input",config:e.tableFormConfig}}return!e.hidden&&e.format&&a.configFormatCol(e),"操作"===e.label&&(e.actions=[],e.buttonAdd&&(e.actions=e.buttonAdd.map((function(e){return{code:e.fieldCode,type:e.fieldType,text:e.fieldName,onClick:function(i){return a.changeClickBut(i,e,t)}}}))),1===t.editable&&t.addLine&&e.actions.push({code:"deleteRequired",text:"删除",onClick:a.deleteEdit})),!e.hidden}))}},{key:"configFormatCol",value:function(e){if(!e.formatter)switch(e.format){case"thousand":e.formatter=function(t,a,i){return Object(_utils_util__WEBPACK_IMPORTED_MODULE_37__["d"])(i,e.accuracy)};break;case"thousandPercent":e.formatter=function(t,a,i){return Object(_utils_util__WEBPACK_IMPORTED_MODULE_37__["d"])(100*i,e.accuracy)+"%"}}}}]),PreviewFormMixin}(vue_property_decorator__WEBPACK_IMPORTED_MODULE_34__["e"]);Object(tslib__WEBPACK_IMPORTED_MODULE_33__["a"])([Object(vue_property_decorator__WEBPACK_IMPORTED_MODULE_34__["c"])({default:{}})],PreviewFormMixin.prototype,"formAttribute",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_33__["a"])([Object(vue_property_decorator__WEBPACK_IMPORTED_MODULE_34__["c"])({default:"task"})],PreviewFormMixin.prototype,"mode",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_33__["a"])([Object(vue_property_decorator__WEBPACK_IMPORTED_MODULE_34__["c"])({default:""})],PreviewFormMixin.prototype,"taskId",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_33__["a"])([Object(vue_property_decorator__WEBPACK_IMPORTED_MODULE_34__["c"])({default:""})],PreviewFormMixin.prototype,"processInstanceId",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_33__["a"])([Object(vue_property_decorator__WEBPACK_IMPORTED_MODULE_34__["c"])({default:""})],PreviewFormMixin.prototype,"taskDealStationId",void 0),Object(tslib__WEBPACK_IMPORTED_MODULE_33__["a"])([Object(vue_property_decorator__WEBPACK_IMPORTED_MODULE_34__["f"])("formAttribute",{deep:!0,immediate:!0})],PreviewFormMixin.prototype,"getVisible",null)},"559a":function(e,t,a){"use strict";var i=a("6096"),r=a.n(i);r.a},5764:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"previewForm"},[a("el-form",{attrs:{model:e.formAttribute,"label-width":e.formConfig.labelWidth+"px","label-position":e.formConfig.labelPosition}},[a("el-row",{attrs:{gutter:20}},e._l(e.formConfig.formList,(function(t,i){return a("el-col",{key:t,staticClass:"itemBox",attrs:{span:"hidden"===t.type?0:t.span}},[t.showForm&&"show"!==t.showForm?e._e():a("div",[1===t.editable||1===t.readable?a("div",["task"===e.mode&&1===t.editable&&"table"===t.type&&!0===t.addLine?a("el-row",{staticClass:"button_style"},[a("el-button",{on:{click:function(a){return e.exportTable(t)}}},[e._v("导出")]),a("el-button",{on:{click:function(a){return e.uploadTable(t)}}},[e._v("导入")]),a("el-button",{on:{click:function(a){return e.addChange(t)}}},[e._v("新增")])],1):e._e(),"task"===e.mode&&t.history?a("div",{staticClass:"history-badge"},[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.showHistoryCompare(t)}}},[a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"red_dot"}})],1)],1):e._e(),a("el-form-item",{key:t.key,staticStyle:{"margin-bottom":"20px"},attrs:{prop:"formList["+i+"].value",label:t.label,rules:t.rules}},["table"===t.type?a("base-table",{staticClass:"formTable",attrs:{"data-source":t.datas,"border-style":!0,cellClassName:e.computeCellClass,border:"",columns:e.loadingColumns(t.cols,t),"can-edit":""},on:{doHandleInput:function(a,i,r){return e.debunceInput(a["editMarkIndex"],i,r,t.key)},doEdit:function(a,i,r){return e.handleDoInput(a["editMarkIndex"],r.prop,a[r.prop],t.key,!0)}}}):"ueditor"===t.type?a("ueditor",{staticClass:"ueditor",attrs:{onEditBlur:t.onEditBlur,itemValue:t,disable:1===t.readable}}):"childFrom"===t.type?a("previewFormChild",{attrs:{formAttribute:t.value,taskId:e.taskId,processInstanceId:e.processInstanceId,taskDealStationId:e.taskDealStationId}}):"button"===t.type?a("el-button",{attrs:{type:t.buttonType,disabled:"task"!==e.mode},on:{click:function(a){return e.buttonChange(t)}}},[e._v(e._s(t.value))]):"alert"===t.type?a("el-alert",{attrs:{title:t.value,type:t.alertType,center:t.centerFont,description:t.description,closable:!1,"show-icon":t.showIcon}}):"upload"===t.type?a("el-upload",{ref:"upload",refInFor:!0,staticClass:"uploadList",attrs:{drag:"",action:"/api/file-service/file/upload","list-type":"picture-card","auto-upload":"task"===e.mode,headers:e.uploadHeader,"file-list":t.value,disabled:1===t.readable,"on-success":function(t,a,r){return e.successList(t,a,r,i)}},scopedSlots:e._u([{key:"file",fn:function(t){var r=t.file;return a("div",{staticClass:"filestyle-li"},[a("svg-icon",{staticClass:"file-img",attrs:{"icon-class":e.fileType(r.name)}}),a("p",[a("span",{staticClass:"file-name"},[e._v(e._s(r.name))]),a("span",{staticClass:"file-delete",on:{click:function(t){return e.handleFileRemove(r,i)}}},[e._v("删除")]),a("span",{staticClass:"file-delete",on:{click:function(t){return e.download(r.url)}}},[e._v("下载")])]),a("p",["success"===r.status?a("span",{staticClass:"flie-suc"},[e._v("上传完成")]):e._e(),"error"===r.status?a("span",{staticClass:"flie-error"},[e._v("上传失败")]):e._e()])],1)}}],null,!0)},[1===t.editable?a("i",{staticClass:"el-icon-plus"}):e._e()]):a("customItemRender",{attrs:{type:t.type,config:{placeholder:t.placeholder||"",key:t.key,value:t.value,goods:t,multiple:t.itemMultiple,options:"viewsData"===t.optionsType?t.optionsList:t.options||[],listeners:t.listeners}}})],1)],1):e._e()])])})),1)],1),a("simple-dialog",{attrs:{"dialog-title":"变更历史","dialog-visible":e.modifysVisible,"dialog-width":"66%","save-text":"确 定","cancel-text":"取 消","botton-show":"true"},on:{"update:dialogVisible":function(t){e.modifysVisible=t},"update:dialog-visible":function(t){e.modifysVisible=t},saveEmit:e.certain,cancelEmit:function(t){e.modifysVisible=!1}}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.historyLoading,expression:"historyLoading"}]},[a("base-table",{attrs:{"data-source":e.tableCompareContainer,columns:e.tableCompareColumns,cellClassName:e.computeCellClass,"border-style":!0,border:""}})],1)]),!0===e.childFromExist&&e.dialogSwitch?a("simple-dialog",{attrs:{"dialog-title":"新增","dialog-visible":e.dialogSwitch,"dialog-width":"870px","save-text":"确 定","cancel-text":"取 消","botton-show":"true"},on:{"update:dialogVisible":function(t){e.dialogSwitch=t},"update:dialog-visible":function(t){e.dialogSwitch=t},saveEmit:function(){return e.tableFormSave(e.formAttributeAlert)},cancelEmit:function(){return e.cancelSwitch()}}},[a("previewFormChild",{attrs:{formAttribute:e.formAttributeAlert,taskId:e.taskId,processInstanceId:e.processInstanceId,taskDealStationId:e.taskDealStationId}})],1):e._e(),!1===e.childFromExist&&e.dialogSwitch?a("addContent",{ref:"advance",attrs:{"dialog-title":e.dialogTitle,"dialog-test-switch":e.dialogSwitch,"params-list":e.addTableList},on:{saveEmitSwitch:function(){return e.treeDataTest()},cancelEmitSwitch:function(){return e.cancelSwitch()}}}):e._e(),a("simple-dialog",{attrs:{dialogTitle:"文件导入","dialog-visible":e.importDialogVisible,"botton-show":"true",dialogWidth:"500px"},on:{saveEmit:function(){return e.doUpload()},cancelEmit:function(){return e.closeDialog()}}},[a("el-row",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{gutter:10,"element-loading-text":"上传中...","element-loading-spinner":"el-icon-loading"}},[a("el-col",{attrs:{md:24}},[a("el-upload",{ref:"netUpload",staticClass:"netVal-import",attrs:{name:"files",action:"importApi",multiple:"","file-list":e.importFiles,"on-change":function(t,a){return e.handleUploadFileChange(t,a)},"on-remove":function(t,a){return e.onRemove(t,a)},"auto-upload":!1}},[a("el-button",{staticClass:"defaultBtn",attrs:{size:"small",type:"primary"}},[e._v("选择文件")])],1)],1)],1)],1)],1)},r=[],l=(a("4160"),a("a15b"),a("13d5"),a("a434"),a("ac1f"),a("1276"),a("159b"),a("d4ec")),s=a("bee2"),o=a("262e"),n=a("2caf"),_=a("9ab4"),u=a("60a3"),d=a("ca00"),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"previewForm"},[a("el-form",{attrs:{model:e.formAttribute,"label-width":e.formConfig.labelWidth+"px","label-position":e.formConfig.labelPosition}},[a("el-row",{attrs:{gutter:20}},e._l(e.formConfig.formList,(function(t,i){return a("el-col",{key:t,staticClass:"itemBox",attrs:{span:"hidden"===t.type?0:t.span}},[t.showForm&&"show"!==t.showForm?e._e():a("div",[1===t.editable||1===t.readable?a("div",["task"===e.mode&&1===t.editable&&"table"===t.type&&!0===t.addLine?a("el-row",{staticClass:"button_style"},[a("el-button",{on:{click:function(a){return e.exportTable(t)}}},[e._v("导出")]),a("el-button",{on:{click:function(a){return e.uploadTable(t)}}},[e._v("导入")]),a("el-button",{on:{click:function(a){return e.addChange(t)}}},[e._v("新增")])],1):e._e(),"task"===e.mode&&t.history?a("div",{staticClass:"history-badge"},[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.showHistoryCompare(t)}}},[a("svg-icon",{staticClass:"icon",attrs:{"icon-class":"red_dot"}})],1)],1):e._e(),a("el-form-item",{key:t.key,staticStyle:{"margin-bottom":"20px"},attrs:{prop:"formList["+i+"].value",label:t.label,rules:t.rules}},["table"===t.type?a("base-table",{staticClass:"formTable",attrs:{"data-source":t.datas,"border-style":!0,cellClassName:e.computeCellClass,border:"",columns:e.loadingColumns(t.cols,t),"can-edit":""},on:{doHandleInput:function(a,i,r){return e.debunceInput(a["editMarkIndex"],i,r,t.key)},doEdit:function(a,i,r){return e.handleDoInput(a["editMarkIndex"],r.prop,a[r.prop],t.key,!0)}}}):"ueditor"===t.type?a("ueditor",{staticClass:"ueditor",attrs:{onEditBlur:t.onEditBlur,itemValue:t}}):"childFrom"===t.type?a("previewFormChild",{attrs:{formAttribute:t.value,taskId:e.taskId,processInstanceId:e.processInstanceId,taskDealStationId:e.taskDealStationId}}):"button"===t.type?a("el-button",{attrs:{type:t.buttonType,disabled:"task"!==e.mode},on:{click:function(a){return e.buttonChange(t)}}},[e._v(e._s(t.value))]):"alert"===t.type?a("el-alert",{attrs:{title:t.value,type:t.alertType,center:t.centerFont,description:t.description,closable:!1,"show-icon":t.showIcon}}):"upload"===t.type?a("el-upload",{ref:"upload",refInFor:!0,staticClass:"uploadList",attrs:{action:"/api/file-service/file/upload","list-type":"picture-card","auto-upload":"task"===e.mode,headers:e.uploadHeader,"file-list":t.value,disabled:1===t.readable,"on-success":function(t,a,r){return e.successList(t,a,r,i)}},scopedSlots:e._u([{key:"file",fn:function(t){var r=t.file;return a("div",{staticClass:"filestyle-li"},[a("svg-icon",{staticClass:"file-img",attrs:{"icon-class":e.fileType(r.name)}}),a("p",[a("span",{staticClass:"file-name"},[e._v(e._s(r.name))]),a("span",{staticClass:"file-delete",on:{click:function(t){return e.handleFileRemove(r,i)}}},[e._v("删除")]),a("span",{staticClass:"file-delete",on:{click:function(t){return e.download(r.url)}}},[e._v("下载")])]),a("p",["success"===r.status?a("span",{staticClass:"flie-suc"},[e._v("上传完成")]):e._e(),"error"===r.status?a("span",{staticClass:"flie-error"},[e._v("上传失败")]):e._e()])],1)}}],null,!0)},[1===t.editable?a("i",{staticClass:"el-icon-plus"}):e._e()]):a("customItemRender",{attrs:{type:t.type,config:{placeholder:t.placeholder||"",key:t.key,value:t.value,goods:t,multiple:t.itemMultiple,options:"viewsData"===t.optionsType?t.optionsList:t.options||[],listeners:t.listeners}}})],1)],1):e._e()])])})),1)],1),a("simple-dialog",{attrs:{"dialog-title":"变更历史","dialog-visible":e.modifysVisible,"dialog-width":"66%","save-text":"确 定","cancel-text":"取 消","botton-show":"true"},on:{"update:dialogVisible":function(t){e.modifysVisible=t},"update:dialog-visible":function(t){e.modifysVisible=t},saveEmit:e.certain,cancelEmit:function(t){e.modifysVisible=!1}}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.historyLoading,expression:"historyLoading"}]},[a("base-table",{attrs:{"data-source":e.tableCompareContainer,columns:e.tableCompareColumns,cellClassName:e.computeCellClass,"border-style":!0,border:""}})],1)]),a("addContent",{ref:"advance",attrs:{"dialog-title":e.dialogTitle,"dialog-test-switch":e.dialogSwitch,"params-list":e.addTableList},on:{saveEmitSwitch:function(){return e.treeDataTest()},cancelEmitSwitch:function(){return e.cancelSwitch()}}}),a("simple-dialog",{attrs:{dialogTitle:"文件导入","dialog-visible":e.importDialogVisible,"botton-show":"true",dialogWidth:"500px"},on:{saveEmit:function(){return e.doUpload()},cancelEmit:function(){return e.closeDialog()}}},[a("el-row",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{gutter:10,"element-loading-text":"上传中...","element-loading-spinner":"el-icon-loading"}},[a("el-col",{attrs:{md:24}},[a("el-upload",{ref:"netUpload",staticClass:"netVal-import",attrs:{name:"files",action:"importApi",multiple:"","file-list":e.importFiles,"on-change":function(t,a){return e.handleUploadFileChange(t,a)},"on-remove":function(t,a){return e.onRemove(t,a)},"auto-upload":!1}},[a("el-button",{staticClass:"defaultBtn",attrs:{size:"small",type:"primary"}},[e._v("选择文件")])],1)],1)],1)],1)],1)},f=[],p=a("de3c"),b=a("e7c5"),h=a("255f"),m=a("3ef9"),v=function(e){Object(o["a"])(a,e);var t=Object(n["a"])(a);function a(){return Object(l["a"])(this,a),t.apply(this,arguments)}return Object(s["a"])(a,[{key:"cancelSwitch",value:function(){this.addTableList=[],this.dialogSwitch=!1}},{key:"created",value:function(){this.formAttribute&&this.getVisible(this.formAttribute),this.userCode=this.$store.state.user.userInfo.usercode}}]),a}(m["a"]);v=Object(_["a"])([Object(u["a"])({components:{customItemRender:b["a"],ueditor:h["a"],addContent:p["a"],previewFormChild:C}})],v);var E=v,y=E,O=(a("6988"),a("559a"),a("2877")),g=Object(O["a"])(y,c,f,!1,null,"47503550",null),C=g.exports,D=a("2ef0"),L=function(e){Object(o["a"])(a,e);var t=Object(n["a"])(a);function a(){return Object(l["a"])(this,a),t.apply(this,arguments)}return Object(s["a"])(a,[{key:"deleteEdit",value:function(e){this.formAttribute.formList.forEach((function(t){if("table"===t.type)for(var a=0;a<t.datas.length;a++)t.datas[a].editMarkIndex===e.editMarkIndex&&t.datas.splice(a,1)}))}},{key:"tableFormSave",value:function(e){var t=this,a={},i=Object(d["a"])(this.formAttribute.formList,"key",this.labelTable);e.formList.forEach((function(e){i.cols.forEach((function(i){(e.fieldName||e.label)===i.fieldName&&(e.value instanceof Array&&""!==e.value?t.$set(a,i.fieldCode,e.value.join(",")):t.$set(a,i.fieldCode,e.realValue?e.realValue:e.value))}))}));var r=i.splitTable;if(r){Array.isArray(r)||(r=[r]);var l=r.reduce((function(e,t){var i=[];return e.forEach((function(e){a[t].split(",").forEach((function(a){var r=Object(D["cloneDeep"])(e);r[t]=a,i.push(r)}))})),i}),[a]);this.doTableRowAdd(i,l)}else this.doTableRowAdd(i,[a]);this.dialogSwitch=!1}},{key:"cancelSwitch",value:function(){this.addTableList=[],this.dialogSwitch=!1}},{key:"created",value:function(){this.formAttribute&&this.getVisible(this.formAttribute),this.userCode=this.$store.state.user.userInfo.usercode}}]),a}(m["a"]);L=Object(_["a"])([Object(u["a"])({components:{customItemRender:b["a"],ueditor:h["a"],addContent:p["a"],previewFormChild:C}})],L);var T=L,k=T,M=(a("a8b7"),a("fbe3"),Object(O["a"])(k,i,r,!1,null,"75a9379a",null));t["a"]=M.exports},6062:function(e,t,a){"use strict";var i=a("6d61"),r=a("6566");e.exports=i("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),r)},6096:function(e,t,a){},6566:function(e,t,a){"use strict";var i=a("9bf2").f,r=a("7c73"),l=a("e2cc"),s=a("0366"),o=a("19aa"),n=a("2266"),_=a("7dd0"),u=a("2626"),d=a("83ab"),c=a("f183").fastKey,f=a("69f3"),p=f.set,b=f.getterFor;e.exports={getConstructor:function(e,t,a,_){var u=e((function(e,i){o(e,u,t),p(e,{type:t,index:r(null),first:void 0,last:void 0,size:0}),d||(e.size=0),void 0!=i&&n(i,e[_],e,a)})),f=b(t),h=function(e,t,a){var i,r,l=f(e),s=m(e,t);return s?s.value=a:(l.last=s={index:r=c(t,!0),key:t,value:a,previous:i=l.last,next:void 0,removed:!1},l.first||(l.first=s),i&&(i.next=s),d?l.size++:e.size++,"F"!==r&&(l.index[r]=s)),e},m=function(e,t){var a,i=f(e),r=c(t);if("F"!==r)return i.index[r];for(a=i.first;a;a=a.next)if(a.key==t)return a};return l(u.prototype,{clear:function(){var e=this,t=f(e),a=t.index,i=t.first;while(i)i.removed=!0,i.previous&&(i.previous=i.previous.next=void 0),delete a[i.index],i=i.next;t.first=t.last=void 0,d?t.size=0:e.size=0},delete:function(e){var t=this,a=f(t),i=m(t,e);if(i){var r=i.next,l=i.previous;delete a.index[i.index],i.removed=!0,l&&(l.next=r),r&&(r.previous=l),a.first==i&&(a.first=r),a.last==i&&(a.last=l),d?a.size--:t.size--}return!!i},forEach:function(e){var t,a=f(this),i=s(e,arguments.length>1?arguments[1]:void 0,3);while(t=t?t.next:a.first){i(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!m(this,e)}}),l(u.prototype,a?{get:function(e){var t=m(this,e);return t&&t.value},set:function(e,t){return h(this,0===e?0:e,t)}}:{add:function(e){return h(this,e=0===e?0:e,e)}}),d&&i(u.prototype,"size",{get:function(){return f(this).size}}),u},setStrong:function(e,t,a){var i=t+" Iterator",r=b(t),l=b(i);_(e,t,(function(e,t){p(this,{type:i,target:e,state:r(e),kind:t,last:void 0})}),(function(){var e=l(this),t=e.kind,a=e.last;while(a&&a.removed)a=a.previous;return e.target&&(e.last=a=a?a.next:e.state.first)?"keys"==t?{value:a.key,done:!1}:"values"==t?{value:a.value,done:!1}:{value:[a.key,a.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),a?"entries":"values",!a,!0),u(t)}}},6988:function(e,t,a){"use strict";var i=a("2827"),r=a.n(i);r.a},"6d61":function(e,t,a){"use strict";var i=a("23e7"),r=a("da84"),l=a("94ca"),s=a("6eeb"),o=a("f183"),n=a("2266"),_=a("19aa"),u=a("861d"),d=a("d039"),c=a("1c7e"),f=a("d44e"),p=a("7156");e.exports=function(e,t,a){var b=-1!==e.indexOf("Map"),h=-1!==e.indexOf("Weak"),m=b?"set":"add",v=r[e],E=v&&v.prototype,y=v,O={},g=function(e){var t=E[e];s(E,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(h&&!u(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return h&&!u(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(h&&!u(e))&&t.call(this,0===e?0:e)}:function(e,a){return t.call(this,0===e?0:e,a),this})};if(l(e,"function"!=typeof v||!(h||E.forEach&&!d((function(){(new v).entries().next()})))))y=a.getConstructor(t,e,b,m),o.REQUIRED=!0;else if(l(e,!0)){var C=new y,D=C[m](h?{}:-0,1)!=C,L=d((function(){C.has(1)})),T=c((function(e){new v(e)})),k=!h&&d((function(){var e=new v,t=5;while(t--)e[m](t,t);return!e.has(-0)}));T||(y=t((function(t,a){_(t,y,e);var i=p(new v,t,y);return void 0!=a&&n(a,i[m],i,b),i})),y.prototype=E,E.constructor=y),(L||k)&&(g("delete"),g("has"),b&&g("get")),(k||D)&&g(m),h&&E.clear&&delete E.clear}return O[e]=y,i({global:!0,forced:y!=v},O),f(y,e),h||a.setStrong(y,e,b),y}},a623:function(e,t,a){"use strict";var i=a("23e7"),r=a("b727").every,l=a("a640"),s=a("ae40"),o=l("every"),n=s("every");i({target:"Array",proto:!0,forced:!o||!n},{every:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},a8b7:function(e,t,a){"use strict";var i=a("187f"),r=a.n(i);r.a},bb2f:function(e,t,a){var i=a("d039");e.exports=!i((function(){return Object.isExtensible(Object.preventExtensions({}))}))},d58f:function(e,t,a){var i=a("1c0b"),r=a("7b0b"),l=a("44ad"),s=a("50c4"),o=function(e){return function(t,a,o,n){i(a);var _=r(t),u=l(_),d=s(_.length),c=e?d-1:0,f=e?-1:1;if(o<2)while(1){if(c in u){n=u[c],c+=f;break}if(c+=f,e?c<0:d<=c)throw TypeError("Reduce of empty array with no initial value")}for(;e?c>=0:d>c;c+=f)c in u&&(n=a(n,u[c],c,_));return n}};e.exports={left:o(!1),right:o(!0)}},de3c:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("simple-dialog",{ref:"advance",attrs:{"dialog-title":e.dialogTitle,"dialog-visible":e.dialogTestSwitch,"dialog-width":"600px","botton-show":"true","save-text":"保存","cancel-text":"取消"},on:{saveEmit:e.treeDataTest,cancelEmit:e.cancelSwitch}},[a("AdvancedScreening",{attrs:{spread:e.spread.visible,model:e.spread.model,items:e.spread.items,"label-width":"30%","screen-loading":e.spread.loading},on:{doQuery:e.handleQuery,doReset:e.handleReset}})],1)],1)},r=[],l=(a("4160"),a("159b"),a("d4ec")),s=a("bee2"),o=a("262e"),n=a("2caf"),_=a("9ab4"),u=a("60a3"),d=a("d2a6"),c=function(e){Object(o["a"])(a,e);var t=Object(n["a"])(a);function a(){var e;return Object(l["a"])(this,a),e=t.apply(this,arguments),e.spread={visible:!0,model:{},items:[],loading:!1},e}return Object(s["a"])(a,[{key:"treeDataTest",value:function(){}},{key:"cancelSwitch",value:function(){}},{key:"getVisible",value:function(e){var t=[],a={};e.forEach((function(e){e.value?a[e.fieldCode]=e.value:e.dafalutValue?a[e.fieldCode]=e.dafalutValue:a[e.fieldCode]="",3===e.fieldType?t.push({key:e.fieldCode,label:e.fieldName,type:"switch"}):2===e.fieldType?t.push({key:e.fieldCode,label:e.fieldName,type:"date",TimePickerOptions:"",clearable:!0,disabled:!1}):t.push({type:"input",key:e.fieldCode,label:e.fieldName,placeholder:1===e.fieldType?"请输入数字":"请输入文本",config:{props:{type:1===e.fieldType?"number":"input"}}})})),this.spread.items=t,this.spread.model=a}}]),a}(u["e"]);Object(_["a"])([Object(u["c"])(Array)],c.prototype,"paramsList",void 0),Object(_["a"])([Object(u["c"])(String)],c.prototype,"dialogTitle",void 0),Object(_["a"])([Object(u["c"])({default:!1})],c.prototype,"dialogTestSwitch",void 0),Object(_["a"])([Object(u["b"])("saveEmitSwitch")],c.prototype,"treeDataTest",null),Object(_["a"])([Object(u["b"])("cancelEmitSwitch")],c.prototype,"cancelSwitch",null),Object(_["a"])([Object(u["f"])("paramsList",{immediate:!0,deep:!0})],c.prototype,"getVisible",null),c=Object(_["a"])([Object(u["a"])({components:{AdvancedScreening:d["a"]}})],c);var f=c,p=f,b=a("2877"),h=Object(b["a"])(p,i,r,!1,null,null,null);t["a"]=h.exports},e959:function(e,t,a){},f183:function(e,t,a){var i=a("d012"),r=a("861d"),l=a("5135"),s=a("9bf2").f,o=a("90e3"),n=a("bb2f"),_=o("meta"),u=0,d=Object.isExtensible||function(){return!0},c=function(e){s(e,_,{value:{objectID:"O"+ ++u,weakData:{}}})},f=function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!l(e,_)){if(!d(e))return"F";if(!t)return"E";c(e)}return e[_].objectID},p=function(e,t){if(!l(e,_)){if(!d(e))return!0;if(!t)return!1;c(e)}return e[_].weakData},b=function(e){return n&&h.REQUIRED&&d(e)&&!l(e,_)&&c(e),e},h=e.exports={REQUIRED:!1,fastKey:f,getWeakData:p,onFreeze:b};i[_]=!0},fbe3:function(e,t,a){"use strict";var i=a("e959"),r=a.n(i);r.a}}]);
//# sourceMappingURL=chunk-3e904856.b639a0cb.js.map