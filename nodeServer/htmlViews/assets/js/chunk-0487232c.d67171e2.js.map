{"version":3,"sources":["webpack:///./src/views/pushService/httpPushService.vue?4788","webpack:///./src/views/pushService/httpPushService.vue?293c","webpack:///./src/views/pushService/httpPushService.vue","webpack:///./src/views/pushService/httpPushService.vue?fd08","webpack:///./src/views/pushService/httpPushService.vue?581d"],"names":["render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","attrs","actions","ref","staticClass","form","rulesForm","model","callback","$$v","$set","subTypeVal","_e","on","connectFrom","_l","item","key","id","newDialog","_v","paramsActions","listData","isCompatible","dataDictionary","editTree","testChange","productTreeData","staticStyle","_s","textResult","dialogVisibleBool","saveDialog","cancelDialog","dialogSwitch","treeDataTest","cancelSwitch","staticRenderFns","testloading","updateId","serverConnectList","viewName","required","message","trigger","serverConnect","pathAsk","askMethod","conRules","conName","conType","address","validator","rule","webRegs","restRegs","connector","test","Error","status","rightText","code","type","defaultValue","edits","addButton","_this","icon","onClick","dataViewAddSure","title","$router","back","treeDialog","$route","query","dataViewDetail","linkListData","then","data","path","linkId","methodName","dictFlag","queryParams","fields","page","limit","error","$message","rows","linkData","dialogClose","spreadQuery","i","$refs","advance","push","treeTestData","result","JSON","parse","Base64","decode","jsonSchema","structureData","treeHandle","success","resultList","forEach","fieldCode","length","$confirm","confirmButtonText","cancelButtonText","catch","handleData","dataArr","items","properties","fieldName","fieldType","description","children","isPrimaryKey","listForm","validate","valid","listCode","some","formList","treeData","treeLists","checkFlag","parameViewTable","console","log","viewList","kind","respCodes","viewData","resetFields","val","subType","components","testEditor","treeTableList","parameView","createDialog","component"],"mappings":"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","file":"assets/js/chunk-0487232c.d67171e2.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./httpPushService.vue?vue&type=style&index=0&id=03a78c00&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./httpPushService.vue?vue&type=style&index=0&id=03a78c00&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('base-panel',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.testloading),expression:\"testloading\"}],attrs:{\"title\":\"新增数据推送服务\",\"actions\":_vm.actions()}},[_c('el-form',{ref:\"form\",staticClass:\"formDataHorizontal formCss labelSuffix\",attrs:{\"model\":_vm.form,\"label-position\":\"left\",\"label-suffix\":\"：\",\"label-width\":\"100px\",\"rules\":_vm.rulesForm}},[_c('el-form-item',{attrs:{\"label\":\"服务名称\",\"prop\":\"viewName\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入推送服务名称\"},model:{value:(_vm.form.viewName),callback:function ($$v) {_vm.$set(_vm.form, \"viewName\", $$v)},expression:\"form.viewName\"}})],1),(_vm.subTypeVal !== 1)?_c('el-form-item',{attrs:{\"label\":\"请求path\",\"prop\":\"pathAsk\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入请求path\"},model:{value:(_vm.form.pathAsk),callback:function ($$v) {_vm.$set(_vm.form, \"pathAsk\", $$v)},expression:\"form.pathAsk\"}})],1):_vm._e(),_c('el-form-item',{attrs:{\"label\":\"服务连接器\",\"prop\":\"serverConnect\"}},[_c('el-select',{attrs:{\"clearable\":\"\",\"placeholder\":\"请选择服务连接器\"},on:{\"change\":_vm.connectFrom},model:{value:(_vm.form.serverConnect),callback:function ($$v) {_vm.$set(_vm.form, \"serverConnect\", $$v)},expression:\"form.serverConnect\"}},_vm._l((_vm.serverConnectList),function(item){return _c('el-option',{key:item.name,attrs:{\"label\":item.name,\"value\":item.id}})}),1),_c('el-button',{staticClass:\"create_button\",attrs:{\"icon\":\"el-icon-plus\"},on:{\"click\":_vm.newDialog}},[_vm._v(\"新增\")])],1),(_vm.subTypeVal !== 0)?_c('el-form-item',{attrs:{\"label\":\"请求方法名\",\"prop\":\"askMethod\"}},[_c('el-input',{model:{value:(_vm.form.askMethod),callback:function ($$v) {_vm.$set(_vm.form, \"askMethod\", $$v)},expression:\"form.askMethod\"}})],1):_vm._e()],1),_c('simple-card',{attrs:{\"title\":\"参数列表\",\"actions\":_vm.paramsActions()}},[_c('parameView',{ref:\"parameViewTable\",attrs:{\"parameter-data\":_vm.listData,\"is-compatible\":_vm.isCompatible,\"dictFlag\":_vm.form.dataDictionary}})],1),_c('simple-card',{attrs:{\"title\":\"字段列表\"}},[_c('treeTableList',{ref:\"treeLists\",attrs:{\"isCompatible\":_vm.isCompatible,\"edit-tree\":_vm.editTree,\"testChange\":_vm.testChange,\"data-list\":_vm.productTreeData,\"has-tree\":true}})],1),_c('simple-card',{attrs:{\"title\":\"报文内容预览\"}},[_c('pre',{staticStyle:{\"width\":\"100%\",\"height\":\"200px\",\"border\":\"1px solid #E1E4EB\",\"background\":\"#F5F6FA\",\"overflow\":\"auto\",\"border-radius\":\"2px\"}},[_vm._v(_vm._s(_vm.textResult))])])],1),_c('createDialog',{attrs:{\"dialog-title\":\"新建服务连接器\",\"dialog-visible\":_vm.dialogVisibleBool,\"dialog-width\":\"600px\",\"botton-show\":\"true\",\"type\":\"1\",\"save-text\":\"保存\",\"cancel-text\":\"取消\"},on:{\"saveEmit\":_vm.saveDialog,\"cancelEmit\":_vm.cancelDialog}}),_c('testEditor',{ref:\"advance\",attrs:{\"dialog-test-switch\":_vm.dialogSwitch,\"params-list\":_vm.listData},on:{\"saveEmitSwitch\":_vm.treeDataTest,\"cancelEmitSwitch\":_vm.cancelSwitch}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Vue, Component } from 'vue-property-decorator';\r\nimport createDialog from '../viewDateManagent/component/createDialog.vue';\r\nimport testEditor from '../viewDateManagent/component/editTest.vue';\r\nimport { statementChange } from '../viewDateManagent/component/conditional.js';\r\nimport treeTableList from '../viewDateManagent/component/treeTableList.vue';\r\nimport parameView from '../viewDateManagent/component/parameView.vue';\r\nimport {\r\n  treeHttp,\r\n  addCombin,\r\n  dataViewDetail,\r\n  linkList,\r\n  viewDataEdit,\r\n  dataViewAdd\r\n} from '@api/viewData';\r\nimport Base64 from '@utils/Base64';\r\n@Component({\r\n  components: { testEditor, treeTableList, parameView, createDialog }\r\n})\r\nexport default class PushServiceIndex extends Vue {\r\n  subTypeVal = 0;\r\n  testloading = false;\r\n  editTree: Array<any> = [];\r\n  updateId: any = '';\r\n  serverConnectList: Array<any> = [];\r\n  rulesForm: any = {\r\n    viewName: {\r\n      required: true,\r\n      message: '请输入视图名称',\r\n      trigger: 'blur'\r\n    },\r\n    serverConnect: {\r\n      required: true,\r\n      message: '请选择服务连接器',\r\n      trigger: 'change'\r\n    },\r\n    pathAsk: {\r\n      required: true,\r\n      message: '请输入请求path',\r\n      trigger: 'blur'\r\n    },\r\n    askMethod: {\r\n      required: true,\r\n      message: '请求方法名',\r\n      trigger: 'blur'\r\n    }\r\n  };\r\n  conRules: any = {\r\n    conName: {\r\n      required: true,\r\n      message: '请输入连接器名称',\r\n      trigger: 'blur'\r\n    },\r\n    conType: {\r\n      required: true,\r\n      message: '请选择连接器类型',\r\n      trigger: 'change'\r\n    },\r\n    address: {\r\n      required: true,\r\n      validator: (rule: any, value: any, callback: any) => {\r\n        const webRegs = /\\?wsdl$/;\r\n        const restRegs = /((\\d|[1-9]\\d|1\\d{2}|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d{2}|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d{2}|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d{2}|2[0-4]\\d|25[0-5]):([0-9]|[1-9]\\d{1,3}|[1-5]\\d{4}|6[0-4]\\d{4}|65[0-4]\\d{2}|655[0-2]\\d|6553[0-5])$)|(^(?=^.{3,255}$)[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+$)/;\r\n        if (!value) {\r\n          return callback(new Error('请输入服务器地址'));\r\n        } else {\r\n          if (this.connector.conType === '1') {\r\n            if (!webRegs.test(value)) {\r\n              return callback(new Error(\"请输入以'?wsdl'结尾服务器地址\"));\r\n            } else {\r\n              return callback();\r\n            }\r\n          } else if (this.connector.conType === '0') {\r\n            if (!restRegs.test(value)) {\r\n              return callback(\r\n                new Error('注意服务地址只应该包括IP+端口号或者域名')\r\n              );\r\n            } else {\r\n              return callback();\r\n            }\r\n          } else {\r\n            return callback(new Error('请先选择连接器类型'));\r\n          }\r\n        }\r\n      },\r\n      trigger: 'blur'\r\n    }\r\n  };\r\n  dialogSwitch = false;\r\n  productTreeData: Array<any> = [];\r\n  form: any = {\r\n    viewName: '',\r\n    pathAsk: '',\r\n    serverConnect: '',\r\n    askMethod: '',\r\n    dataDictionary: '1'\r\n  };\r\n  connector: any = {\r\n    conName: '',\r\n    conType: '',\r\n    address: '',\r\n    status: ''\r\n  };\r\n  isCompatible: any = '';\r\n  textResult: any = '';\r\n  rightText = '关闭';\r\n  testChange = false;\r\n  dialogVisibleBool = false;\r\n  actions() {\r\n    const _this = this;\r\n    return [\r\n      {\r\n        icon: '',\r\n        onClick: _this.dataViewAddSure,\r\n        type: 'primary',\r\n        title: '确定'\r\n      },\r\n      {\r\n        icon: '',\r\n        onClick: () => {\r\n          _this.$router.back();\r\n        },\r\n        type: 'button',\r\n        title: '取消'\r\n      }\r\n    ];\r\n  }\r\n\r\n  listData: Array<any> = [\r\n    {\r\n      id: 1,\r\n      code: '',\r\n      name: '',\r\n      type: '',\r\n      required: '',\r\n      defaultValue: '',\r\n      edits: [0, 1, 1, 1, 1, 1, 1, 0],\r\n      addButton: true\r\n    }\r\n  ];\r\n  paramsActions() {\r\n    const _this = this;\r\n    return [\r\n      {\r\n        title: '测试查询',\r\n        icon: 'stack-line',\r\n        onClick: _this.treeDialog\r\n      }\r\n    ];\r\n  }\r\n  created() {\r\n    if (this.$route.query.id) {\r\n      this.dataViewDetail();\r\n    }\r\n    this.linkListData();\r\n  }\r\n  // 数据视图详情接口\r\n  dataViewDetail() {\r\n    this.isCompatible = this.$route.query.isCompatible;\r\n    this.updateId = this.$route.query.id;\r\n    const id = this.$route.query.id;\r\n    dataViewDetail(id).then(({ data }) => {\r\n      this.form.viewName = data.name;\r\n      this.form.pathAsk = data.path;\r\n      this.form.serverConnect = data.linkId;\r\n      this.form.askMethod = data.methodName;\r\n      this.form.dataDictionary = data.dictFlag;\r\n      if (data.queryParams) {\r\n        this.listData = data.queryParams;\r\n      } else {\r\n        this.listData = [];\r\n      }\r\n      // this.treeDataTest('dialogClose');\r\n      this.editTree = data.fields;\r\n      this.productTreeData = data.fields;\r\n    });\r\n  }\r\n  newDialog() {\r\n    this.dialogVisibleBool = true;\r\n  }\r\n  linkListData() {\r\n    const linkListData = {\r\n      page: 1,\r\n      limit: 10000,\r\n      type: '1',\r\n      name: ''\r\n    };\r\n    linkList(linkListData).then((data) => {\r\n      if (data.error) {\r\n        this.$message.error(data.error.message);\r\n      } else {\r\n        this.serverConnectList = data.data.rows;\r\n      }\r\n    });\r\n  }\r\n  saveDialog(linkData) {\r\n    addCombin(linkData).then((data) => {\r\n      if (data.error) {\r\n        this.$message.error(data.error.message);\r\n      } else {\r\n        this.dialogVisibleBool = false;\r\n        this.cancelDialog();\r\n        // 下拉框请求接口\r\n        this.linkListData();\r\n      }\r\n    });\r\n  }\r\n  cancelDialog() {\r\n    this.dialogVisibleBool = false;\r\n  }\r\n  treeDataTest(dialogClose: string) {\r\n    this.testloading = true;\r\n    let spreadQuery: Array<any> = [];\r\n    if (dialogClose !== 'dialogClose') {\r\n      this.dialogSwitch = false;\r\n      for (const i in this.$refs.advance['spread'].model) {\r\n        spreadQuery.push({\r\n          code: i,\r\n          value: this.$refs.advance['spread'].model[i]\r\n        });\r\n      }\r\n    } else {\r\n      spreadQuery = [];\r\n    }\r\n    const treeTestData = {\r\n      path: this.form.pathAsk,\r\n      methodName: this.form.askMethod,\r\n      linkId: this.form.serverConnect,\r\n      type: 0,\r\n      queryParams: spreadQuery\r\n    };\r\n    treeHttp(treeTestData).then((data) => {\r\n      if (data.error) {\r\n        this.$message.error(data.error.message);\r\n      } else {\r\n        if (data.data.result) {\r\n          this.textResult = JSON.parse(Base64.decode(data.data.result));\r\n        } else {\r\n          this.textResult = data.data.result;\r\n        }\r\n        if (data.data.jsonSchema) {\r\n          const structureData = this.treeHandle(data.data.jsonSchema);\r\n          this.productTreeData = structureData;\r\n          this.test(structureData);\r\n        } else {\r\n          this.productTreeData = data.data.jsonSchema;\r\n        }\r\n        this.$message.success('测试查询成功');\r\n      }\r\n      this.testloading = false;\r\n    });\r\n  }\r\n  test(structureData) {\r\n    const resultList: any = [];\r\n    structureData.forEach((item) => {\r\n      this.editTree.forEach((key) => {\r\n        if (item.fieldCode !== key.fieldCode) {\r\n          resultList.push(item.fieldCode);\r\n        }\r\n      });\r\n    });\r\n    if (resultList.length > 0) {\r\n      this.$confirm('是否保留测试查询之前的字段列表数据?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      })\r\n        .then(() => {\r\n          this.productTreeData = structureData;\r\n        })\r\n        .catch(() => {\r\n          this.testChange = true;\r\n          this.productTreeData = structureData;\r\n        });\r\n    }\r\n  }\r\n  treeHandle(handleData: any) {\r\n    const dataArr: Array<any> = [];\r\n    if (handleData.type && handleData.type === 'array') {\r\n      if (handleData.items) {\r\n        dataArr.push(...this.treeHandle(handleData.items));\r\n      }\r\n    } else {\r\n      for (const i in handleData.properties) {\r\n        if (handleData.properties[i].type === 'object') {\r\n          dataArr.push({\r\n            fieldCode: i,\r\n            fieldName: '',\r\n            fieldType: '',\r\n            type: handleData.properties[i].type,\r\n            description: handleData.properties[i].description,\r\n            children: this.treeHandle(handleData.properties[i])\r\n          });\r\n        } else if (handleData.properties[i].type === 'array') {\r\n          if (handleData.properties[i].items) {\r\n            dataArr.push({\r\n              fieldCode: i,\r\n              fieldName: '',\r\n              fieldType: '',\r\n              isPrimaryKey: 1,\r\n              type: handleData.properties[i].type,\r\n              description: handleData.properties[i].description,\r\n              children: [\r\n                {\r\n                  fieldCode: 'items',\r\n                  fieldName: '',\r\n                  fieldType: '',\r\n                  isPrimaryKey: 1,\r\n                  type: handleData.properties[i].items.type,\r\n                  description: handleData.properties[i].items.description,\r\n                  children: this.treeHandle(handleData.properties[i].items)\r\n                }\r\n              ]\r\n            });\r\n          }\r\n        } else {\r\n          dataArr.push({\r\n            fieldCode: i,\r\n            fieldName: '',\r\n            fieldType: '',\r\n            isPrimaryKey: 1,\r\n            type: handleData.properties[i].type,\r\n            description: handleData.properties[i].description,\r\n            children: []\r\n          });\r\n        }\r\n      }\r\n    }\r\n    return dataArr;\r\n  }\r\n  treeDialog() {\r\n    const listForm: any = this.$refs['form'];\r\n    listForm.validate((valid: any) => {\r\n      if (valid) {\r\n        if (this.listData.length === 0) {\r\n          this.treeDataTest('dialogClose');\r\n        } else {\r\n          const listCode = this.listData.some((item: any) => {\r\n            if (item['code']) {\r\n              return true;\r\n            } else {\r\n              return false;\r\n            }\r\n          });\r\n          if (listCode) {\r\n            this.dialogSwitch = true;\r\n          } else {\r\n            this.treeDataTest('dialogClose');\r\n          }\r\n        }\r\n      } else {\r\n        this.$message.error('请先完成基本信息输入！');\r\n      }\r\n    });\r\n  }\r\n  cancelSwitch() {\r\n    this.$refs.advance['spread'].model = '';\r\n    this.dialogSwitch = false;\r\n  }\r\n  dataViewAddSure() {\r\n    const formList: any = this.$refs['form'];\r\n    const treeData: any = this.$refs.treeLists['treeDataList'];\r\n    formList.validate((valid: any) => {\r\n      let checkFlag = false;\r\n      if (valid) {\r\n        this.productTreeData = treeData;\r\n        this.listData = this.$refs.parameViewTable['parameterData'];\r\n        checkFlag = statementChange(this.listData, this.productTreeData);\r\n        console.log(' this.listData ', this.listData);\r\n        if (checkFlag === false) {\r\n          const viewList: any = {\r\n            name: this.form.viewName,\r\n            kind: 1,\r\n            type: 1,\r\n            dictFlag: this.form.dataDictionary,\r\n            linkId: this.form.serverConnect,\r\n            path: this.form.pathAsk,\r\n            methodName: this.form.askMethod,\r\n            fields: this.productTreeData,\r\n            respCodes: []\r\n          };\r\n          if (this.listData.length > 0 && this.listData[0].code) {\r\n            viewList.queryParams = this.listData;\r\n          } else {\r\n            viewList.queryParams = [];\r\n          }\r\n          if (\r\n            (this.isCompatible === '0' && this.updateId) ||\r\n            (this.isCompatible === '1' && this.updateId)\r\n          ) {\r\n            viewList.id = this.updateId;\r\n            viewList.isCompatible = this.isCompatible;\r\n            viewDataEdit(viewList).then((data) => {\r\n              formList.resetFields();\r\n              if (data.error) {\r\n                this.$message.error(data.error.message);\r\n              } else {\r\n                this.$message.success('修改数据推送视图成功');\r\n                // 跳转页面\r\n                this.$router.back();\r\n              }\r\n            });\r\n          } else {\r\n            dataViewAdd(viewList).then((data) => {\r\n              formList.resetFields();\r\n              if (data.error) {\r\n                this.$message.error(data.error.message);\r\n              } else {\r\n                this.$message.success('新增数据推送数据视图成功');\r\n                // 跳转页面\r\n                this.$router.back();\r\n              }\r\n            });\r\n          }\r\n        }\r\n      } else {\r\n        return false;\r\n      }\r\n    });\r\n  }\r\n  connectFrom(val: number) {\r\n    this.serverConnectList.forEach((items) => {\r\n      if (items.id === val) {\r\n        this.subTypeVal = items.subType;\r\n      }\r\n    });\r\n  }\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./httpPushService.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./httpPushService.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./httpPushService.vue?vue&type=template&id=03a78c00&scoped=true&\"\nimport script from \"./httpPushService.vue?vue&type=script&lang=ts&\"\nexport * from \"./httpPushService.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./httpPushService.vue?vue&type=style&index=0&id=03a78c00&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"03a78c00\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}