{"version":3,"sources":["webpack:///./src/views/viewDateManagent/customView.vue?d58a","webpack:///./src/views/viewDateManagent/component/conditional.js","webpack:///./src/views/viewDateManagent/customView.vue?f991","webpack:///./src/views/viewDateManagent/customView.vue","webpack:///./src/views/viewDateManagent/customView.vue?691a","webpack:///./src/views/viewDateManagent/customView.vue?099c","webpack:///./src/views/viewDateManagent/component/advanced.vue?98e8","webpack:///src/views/viewDateManagent/component/advanced.vue","webpack:///./src/views/viewDateManagent/component/advanced.vue?1b1a","webpack:///./src/views/viewDateManagent/component/advanced.vue","webpack:///./src/views/viewDateManagent/component/addContent.vue?2d6a","webpack:///./src/views/viewDateManagent/component/addContent.vue","webpack:///./src/views/viewDateManagent/component/addContent.vue?6201","webpack:///./src/views/viewDateManagent/component/addContent.vue?c82e"],"names":["statementChange","parameterData","fieldTableData","listKey","checkFlag","forEach","key","code","name","type","required","defaultValue","MessageBox","confirmButtonText","cancelButtonText","then","catch","Message","message","undefined","error","item","fieldName","fieldCode","fieldType","isPrimaryKey","push","length","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","actionsView","ref","customForm","rules","nativeOn","$event","preventDefault","model","value","callback","$$v","$set","expression","staticStyle","customList","loading","columnsCustom","on","cellMouseEnter","cellMouseleave","actionsContent","customData","rows","headers","dialogVisible","setDetermines","cancelDialog","searchView","changeSearch","_v","dataViewsTree","treeProps","handleNodeClick","dialogTitle","dialogSwitch","contentList","treeDataTest","cancelSwitch","staticRenderFns","spreadQuery","treeName","treeCode","indexUpdate","parameterId","viewId","treeId","isCompatible","updateId","parameterCode","children","label","id","foreignFieldCode","foreignId","addButton","isEdit","edits","isAdd","oldCustomFieldList","tempEditContens","tempAddContens","viewName","trigger","dictFlag","codeChange","headerChange","_this","prop","align","width","h","record","props","clearable","placeholder","input","editer","config","options","foreignFieldName","icon","style","click","deleteFiled","treeButton","setFiled","$index","change","changKey","headerAlign","disabled","delButton","deleteEdit","addEdit","onClick","setCustom","title","canelDetermines","addbutton","$message","s","t","modelList","$refs","advance","same","JSON","stringify","needTempContents","res","success","queryCuetom","index","splice","handleStatusChange","dafalutValue","list","sa","row","addData","Object","assign","i","rule","$delete","buttonChange","addView","slice","$confirm","center","data","column","property","foreignName","$router","validate","valid","params","kind","fields","viewData","saveTempContents","back","conId","addDataContent","testList","rowList","deleteChange","updateButton","changeButton","page","limit","val","searchName","delteInd","ind","changeDis","$route","query","cl","getDataViewDetail","queryDataViewsFields","deep","components","addContent","component","directives","rawName","labelWidth","_l","TimePickerOptions","spread","Boolean","default","items","Array","String","screenLoading","boxBtnStyle","created","initRules","watch","methods","$nextTick","dialogTestSwitch","visible","handleQuery","handleReset","newVal","kong","dataModel","immediate","AdvancedScreening"],"mappings":"kHAAA,yBAAgnB,EAAG,G,oHCE5mB,SAASA,EAAgBC,EAAeC,GAC7C,IAAMC,EAAU,GACZC,GAAY,EAqGhB,OApGsB,OAAlBH,GACFA,EAAcI,SAAQ,SAACC,GAElBA,EAAIC,MACJD,EAAIE,MACJF,EAAIG,MACJH,EAAII,UACJJ,EAAIK,aAIgB,IAAjBL,EAAII,UAAmBJ,EAAIK,cAGlBL,EAAIC,MAASD,EAAIE,OAAUF,EAAIC,MAASD,EAAIE,MAG7CF,EAAIE,MAAQF,EAAIC,MAC1BH,GAAY,EACZQ,wBAAW,oBAAqB,KAAM,CACpCC,kBAAmB,IACnBC,iBAAkB,IAClBL,KAAM,YAELM,MAAK,WACJT,EAAIE,KAAOF,EAAIC,QAEhBS,OAAM,WACLC,qBAAQ,CACNR,KAAM,OACNS,QAAS,YAIE,KAAjBZ,EAAII,UACa,OAAjBJ,EAAII,eACaS,IAAjBb,EAAII,UAEJN,GAAY,EACZa,aAAQG,MAAM,kBAED,KAAbd,EAAIG,MACS,OAAbH,EAAIG,WACSU,IAAbb,EAAIG,OAEJL,GAAY,EACZa,aAAQG,MAAM,kBA/BdhB,GAAY,EACZa,aAAQG,MAAM,yBAJdhB,GAAY,EACZa,aAAQG,MAAM,4BAJhBhB,GAAY,KA2ClBF,EAAeG,SAAQ,SAACgB,IACjBA,EAAKC,WAAaD,EAAKE,WAC1BnB,GAAY,EACZQ,wBAAW,oBAAqB,KAAM,CACpCC,kBAAmB,IACnBC,iBAAkB,IAClBL,KAAM,YAELM,MAAK,WACJM,EAAKC,UAAYD,EAAKE,aAEvBP,OAAM,WACLC,qBAAQ,CACNR,KAAM,OACNS,QAAS,aAIbG,EAAKE,WAAcF,EAAKC,YACzBD,EAAKE,WACLF,EAAKC,UAKa,KAAnBD,EAAKG,WACc,OAAnBH,EAAKG,gBACcL,IAAnBE,EAAKG,WAELpB,GAAY,EACZa,aAAQG,MAAM,aAEY,IAAtBC,EAAKI,cACPtB,EAAQuB,KAAKL,IAXfjB,GAAY,EACZa,aAAQG,MAAM,uBAgBhBlB,EAAe,GAAGqB,WAClBrB,EAAe,GAAGoB,WAClBpB,EAAe,GAAGsB,WAEK,IAAnBrB,EAAQwB,SACVvB,GAAY,EACZa,aAAQG,MAAM,eAGXhB,I,oECzGT,IAAIwB,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,aAAa,CAACG,MAAM,CAAC,MAAQ,WAAW,QAAUP,EAAIQ,gBAAgB,CAACJ,EAAG,UAAU,CAACK,IAAI,aAAaH,YAAY,sBAAsBC,MAAM,CAAC,MAAQP,EAAIU,WAAW,MAAQV,EAAIW,MAAM,iBAAiB,OAAO,eAAe,IAAI,cAAc,SAASC,SAAS,CAAC,OAAS,SAASC,GAAQA,EAAOC,oBAAqB,CAACV,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,OAAO,KAAO,aAAa,CAACH,EAAG,WAAW,CAACG,MAAM,CAAC,UAAY,GAAG,YAAc,WAAWQ,MAAM,CAACC,MAAOhB,EAAIU,WAAmB,SAAEO,SAAS,SAAUC,GAAMlB,EAAImB,KAAKnB,EAAIU,WAAY,WAAYQ,IAAME,WAAW,0BAA0B,GAAGhB,EAAG,eAAe,CAACiB,YAAY,CAAC,eAAe,QAAQd,MAAM,CAAC,MAAQ,OAAO,cAAc,QAAQ,KAAO,aAAa,CAACH,EAAG,YAAY,CAACG,MAAM,CAAC,eAAe,EAAE,iBAAiB,EAAE,SAAW,IAAIQ,MAAM,CAACC,MAAOhB,EAAIU,WAAmB,SAAEO,SAAS,SAAUC,GAAMlB,EAAImB,KAAKnB,EAAIU,WAAY,WAAYQ,IAAME,WAAW,0BAA0B,IAAI,GAAGhB,EAAG,cAAc,CAACG,MAAM,CAAC,MAAQ,SAAS,CAACH,EAAG,aAAa,CAACE,YAAY,YAAYC,MAAM,CAAC,cAAcP,EAAIsB,WAAW,QAAUtB,EAAIuB,QAAQ,OAAS,GAAG,QAAUvB,EAAIwB,gBAAgB,gBAAe,EAAM,gBAAe,EAAK,WAAW,IAAIC,GAAG,CAAC,eAAiBzB,EAAI0B,eAAe,eAAiB1B,EAAI2B,mBAAmB,GAAGvB,EAAG,cAAc,CAACG,MAAM,CAAC,MAAQ,OAAO,QAAUP,EAAI4B,mBAAmB,CAACxB,EAAG,aAAa,CAACK,IAAI,eAAeH,YAAY,YAAYC,MAAM,CAAC,OAAS,GAAG,cAAcP,EAAI6B,WAAWC,KAAK,QAAU9B,EAAIuB,QAAQ,QAAUvB,EAAI6B,WAAWE,QAAQ,gBAAe,EAAM,gBAAe,MAAS,IAAI,GAAG3B,EAAG,gBAAgB,CAACG,MAAM,CAAC,eAAe,SAAS,iBAAiBP,EAAIgC,cAAc,eAAe,QAAQ,cAAc,OAAO,YAAY,KAAK,cAAc,MAAMP,GAAG,CAAC,SAAWzB,EAAIiC,cAAc,WAAajC,EAAIkC,eAAe,CAAC9B,EAAG,MAAM,CAACiB,YAAY,CAAC,iBAAiB,SAAS,CAACjB,EAAG,WAAW,CAACE,YAAY,cAAcC,MAAM,CAAC,YAAc,QAAQ,cAAc,kBAAkBQ,MAAM,CAACC,MAAOhB,EAAc,WAAEiB,SAAS,SAAUC,GAAMlB,EAAImC,WAAWjB,GAAKE,WAAW,gBAAgBhB,EAAG,YAAY,CAACiB,YAAY,CAAC,QAAU,WAAWd,MAAM,CAAC,KAAO,UAAU,KAAO,kBAAkBkB,GAAG,CAAC,MAAQzB,EAAIoC,eAAe,CAACpC,EAAIqC,GAAG,SAAS,GAAGjC,EAAG,UAAU,CAACE,YAAY,YAAYC,MAAM,CAAC,KAAOP,EAAIsC,cAAc,MAAQtC,EAAIuC,WAAWd,GAAG,CAAC,aAAazB,EAAIwC,oBAAoB,GAAGpC,EAAG,aAAa,CAACK,IAAI,UAAUF,MAAM,CAAC,eAAeP,EAAIyC,YAAY,qBAAqBzC,EAAI0C,aAAa,cAAc1C,EAAI2C,aAAalB,GAAG,CAAC,eAAiBzB,EAAI4C,aAAa,iBAAmB5C,EAAI6C,iBAAiB,IAC9mFC,EAAkB,G,8MC0HD,EAArB,yG,0BAcE,EAAAd,eAAgB,EAChB,EAAAU,cAAe,EACf,EAAAD,YAAc,GACd,EAAAN,WAAa,GACb,EAAAQ,YAA0B,GAC1B,EAAAI,YAA0B,GAC1B,EAAAC,SAAW,GACX,EAAAC,SAAW,GACX,EAAAC,YAAc,EACd,EAAAC,YAAc,EACd,EAAAC,OAAS,GACT,EAAAC,OAAS,EACT,EAAAC,aAAoB,GACpB,EAAAC,SAAgB,GAChB,EAAAC,cAAqB,GACrB,EAAAlB,cAA4B,GAC5B,EAAAC,UAAiB,CACfkB,SAAU,SACVC,MAAO,aAET,EAAA7B,WAAkB,CAChBE,QAAS,GACTD,KAAM,GACN6B,GAAI,IAEN,EAAArC,WAAyB,CAEvB,CACEqC,GAAI,EACJjE,UAAW,GACXD,UAAW,GACXE,UAAW,GACXiE,iBAAkB,GAClBC,UAAW,GACXhF,SAAU,GACVe,aAAc,IACdkE,WAAW,EACXC,QAAQ,EACRC,MAAO,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,KAG9B,EAAAC,MAAQ,GACR,EAAAC,mBAAiC,GACjC,EAAAC,gBAA8B,GAC9B,EAAAC,eAA6B,GAC7B,EAAAzD,MAAa,CACX0D,SAAU,CAAC,CAAExF,UAAU,EAAMQ,QAAS,UAAWiF,QAAS,UAE5D,EAAA5D,WAAkB,CAChB2D,SAAU,GACVE,SAAU,GAhEd,mEAEiB,WACbtE,KAAKuE,aACLvE,KAAKqB,WAAW9C,SAAQ,SAACgB,GAEF,KAAnBA,EAAKC,WACc,KAAnBD,EAAKE,WACc,KAAnBF,EAAKG,WAEL,EAAK8E,oBAVb,sCAmEI,IAAMC,EAAQzE,KACd,MAAO,CACL,CACE0E,KAAM,GACN/F,KAAM,QACNgG,MAAO,SACPlB,MAAO,KACPmB,MAAO,MAET,CACEF,KAAM,YACNjB,MAAO,SACPkB,MAAO,SACP,YAAa,MAMb7E,OAVF,SAUS+E,EAVT,GAUsB,IAARC,EAAQ,EAARA,OACV,OAAsB,IAAlBA,EAAOhB,OACFe,EAAE,WAAY,CACnBE,MAAO,CACLhE,MAAO+D,EAAOrF,UACduF,WAAW,EACXC,YAAa,aAEfzD,GAAI,CACF0D,MAAO,SAACnE,GACN+D,EAAOrF,UAAYsB,EACnB0D,EAAMvD,KAAK4D,EAAQ,YAAY,OAK9BD,EAAE,OAAQC,EAAOrF,aAI9B,CACEiF,KAAM,YACNjB,MAAO,OACPkB,MAAO,SACP,YAAa,MACbQ,OAAQ,CACNxG,KAAM,QACNH,IAAK,YACLyG,YAAa,YAGjB,CACEP,KAAM,YACNC,MAAO,SACPlB,MAAO,OACP,YAAa,MACb0B,OAAQ,CACNxG,KAAM,SACNH,IAAK,YACL4G,OAAQ,CACNL,MAAO,CACLE,YAAa,WAEfI,QAAS,WACP,MAAO,CACL,CACE5B,MAAO,MACP1C,MAAO,GAET,CACE0C,MAAO,KACP1C,MAAO,GAET,CACE0C,MAAO,KACP1C,MAAO,GAET,CACE0C,MAAO,KACP1C,MAAO,QAOnB,CACE2D,KAAM,mBACNjB,MAAO,OACPkB,MAAO,SACP,YAAa,MACb7E,OALF,SAKS+E,EALT,GAKgC,IAAbC,EAAa,EAAbA,OACf,OAAwB,IAApBA,EAAO9B,SACF6B,EAAE,OAAQ,CACfA,EAAE,OAAQC,EAAOQ,kBACjBT,EAAE,YAAa,CACbE,MAAO,CACLpG,KAAM,OACN4G,KAAM,kBAERC,MAAO,oBACPhE,GAAI,CACFiE,MAAO,kBAAMhB,EAAMiB,YAAYZ,UAIN,IAAtBA,EAAOa,WACTd,EAAE,OAAQC,EAAOQ,kBAEjBT,EAAE,OAAQ,CACfA,EACE,YACA,CACEE,MAAO,CACLpG,KAAM,QAER6C,GAAI,CACFiE,MAAO,kBAAMhB,EAAMmB,SAASd,MAGhC,UAMV,CACEJ,KAAM,eACN,eAAgB,OAChBjB,MAAO,OACP,YAAa,MACb3D,OALF,SAKS+E,EALT,GAKwC,IAArBgB,EAAqB,EAArBA,OAAQf,EAAa,EAAbA,OACvB,OAAOD,EAAE,YAAa,CACpBE,MAAO,CACLhE,MAAO+D,EAAOnF,aACd,eAAgB,EAChB,iBAAkB,EAClB,cAAe,IACf,gBAAiB,KAEnB6B,GAAI,CACFsE,OAAQ,kBAAMrB,EAAMsB,SAASjB,EAAQe,SAK7C,CACEnB,KAAM,GACNC,MAAO,SACPlB,MAAO,KACPmB,MAAO,MACPoB,YAAa,SACblG,OANF,SAMS+E,EANT,GAMgC,IAAbC,EAAa,EAAbA,OACf,OAAyB,IAArBA,EAAOjB,UACFgB,EAAE,OAAQ,CACfA,EACE,YACA,CACEE,MAAO,CACLpG,KAAM,OACNsH,SAAUnB,EAAOoB,WAEnB1E,GAAI,CACFiE,MAAO,kBAAMhB,EAAM0B,WAAWrB,MAGlC,MAEFD,EACE,OACA,CACEW,MAAO,kBAET,KAEFX,EACE,YACA,CACEE,MAAO,CACLpG,KAAM,QAER6C,GAAI,CACFiE,MAAO,kBAAMhB,EAAM2B,QAAQtB,MAG/B,QAIGD,EAAE,OAAQ,CACfA,EACE,YACA,CACEE,MAAO,CACLpG,KAAM,OACNsH,SAAUnB,EAAOoB,WAEnB1E,GAAI,CACFiE,MAAO,kBAAMhB,EAAM0B,WAAWrB,MAGlC,aA3QhB,oCAoRI,IAAML,EAAQzE,KACd,MAAO,CACL,CACEuF,KAAM,GACNc,QAAS5B,EAAM6B,UACf3H,KAAM,UACN4H,MAAO,MAET,CACEhB,KAAM,GACNc,QAAS5B,EAAM+B,gBACf7H,KAAM,SACN4H,MAAO,SAhSf,uCAqSI,IAAM9B,EAAQzE,KACd,MAAO,CACL,CACEuG,MAAO,KACPhB,KAAM,aACNc,QAAS5B,EAAMgC,cA1SvB,kCAgTIzG,KAAKwC,YAAc,KACnBxC,KAAK0C,YAAc,GACf1C,KAAKqB,WAAWxB,OAAS,GAAKG,KAAKqB,WAAW,GAAG5B,WACnDO,KAAK0C,YAAc1C,KAAKqB,WACxBrB,KAAKyC,cAAe,GAEpBzC,KAAK0G,SAASpH,MAAM,gBAtT1B,yCA0TI,OACE,4BACEU,KAAKqB,WACLrB,KAAKiE,oBACL,SAAC0C,EAAGC,GAAJ,OAAUD,EAAElH,YAAcmH,EAAEnH,aAC5BI,OAAS,IA/TjB,qCAkUc,WACNgH,EAAiB,GACrBA,EAAY7G,KAAK8G,MAAMC,QAAQ,UAAUjG,MACzC,IAAIkG,EAAY,GAChB,IAAK,IAAMxI,KAAOqI,EACZA,EAAUrI,KACZwI,EAAOH,GAGiB,MAAxBI,KAAKC,UAAUF,GACjBhH,KAAK0G,SAASpH,MAAM,aAEK,OAArBU,KAAKwC,aACPxC,KAAK8C,YAAYlD,KAAKoH,GAClBhH,KAAKsD,UAAkC,MAAtBtD,KAAKqD,cACxB2D,EAAK7D,OAASnD,KAAKsD,SACftD,KAAKmH,mBACPnH,KAAKmE,eAAevE,KAAKoH,GAEzB,eAAUA,GAAM/H,MAAK,SAACmI,GACfA,EAAI9H,MAKP,EAAKoH,SAASpH,MAAM,QAAU8H,EAAI9H,MAAMF,UAJxC,EAAKsH,SAASW,QAAQ,QACtB,EAAKzE,eACL,EAAK0E,YAAY,EAAKhE,gBAO5BtD,KAAK4B,WAAWC,KAAO7B,KAAK8C,YAC5B9C,KAAK4C,iBAEuB,OAArB5C,KAAKwC,cACdxC,KAAK4B,WAAWC,KAAKtD,SAAQ,SAACgB,EAAMgI,GAC9BA,IAAU,EAAKtE,aACjB,EAAKrB,WAAWC,KAAK2F,OAAOD,EAAO,EAAGP,MAGtChH,KAAKsD,UAAkC,MAAtBtD,KAAKqD,cACxB2D,EAAKtD,GAAK1D,KAAK4B,WAAW8B,GACtB1D,KAAKmH,mBACPnH,KAAKkE,gBAAgBtE,KAAKoH,GAE1BhH,KAAKyH,mBAAmBT,IAG1BhH,KAAK4C,gBAGT5C,KAAKqB,WAAW9C,SAAQ,SAACgB,GACvBA,EAAKmI,aAAe,SArX5B,mCA0Xe5C,EAAQe,GAAM,WACzB7F,KAAKiD,YAAc4C,EACnB7F,KAAKwC,YAAc,KACnBxC,KAAK4B,WAAW8B,GAAKoB,EAAOpB,GAC5B,IAAMiE,EAAmB,GACzB3H,KAAK4B,WAAWE,QAAQvD,SAAQ,SAACqJ,GAC/B,EAAKvG,WAAW9C,SAAQ,SAACgB,GACnBA,EAAKE,YAAcmI,EAAGlD,OACxBnF,EAAKmI,aAAe5C,EAAO8C,EAAGlD,MAC9BiD,EAAK/H,KAAKL,UAIhBS,KAAK0C,YAAciF,EACnB3H,KAAKyC,cAAe,IAxYxB,qCA2YIzC,KAAK0C,YAAc,GACnB1C,KAAKyC,cAAe,EACpBzC,KAAK4B,WAAW8B,GAAK,KA7YzB,+BA+YWoB,EAAQyC,GACfvH,KAAKqB,WAAWmG,OAAOD,EAAO,EAA9B,iCACKzC,GADL,IAEEnF,aAAc,EAAImF,EAAOnF,kBAlZ/B,uCAsZmBoB,GACf,IAAK,IAAMvC,KAAOuC,EAEC,KAAfA,EAAMvC,IACS,OAAfuC,EAAMvC,SACSa,IAAf0B,EAAMvC,IACNuC,EAAMvC,KAAS,IACO,IAAtBuC,EAAMvC,GAAKqB,eAEJkB,EAAMvC,KA/ZrB,8BAmaUqJ,GAAQ,WACRC,EAAUC,OAAOC,OAAO,GAAIH,GAClC,IAAK,IAAMI,KAAKH,EACJ,OAANG,EACFH,EAAQG,GAAKH,EAAQG,GAAK,EACX,UAANA,EACTH,EAAQG,GAAK,GACE,UAANA,IACTH,EAAQG,GAAK,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAGpCH,EAAQzE,aAAe,IACvByE,EAAQ5B,WAAY,EACpB4B,EAAQhE,QAAS,EACjBgE,EAAQI,KAAO,GACflI,KAAKqB,WAAWzB,KAAKkI,GACjB9H,KAAKqB,WAAWxB,OAAS,GAC3BG,KAAKqB,WAAW9C,SAAQ,SAACgB,GACvB,EAAK4I,QAAQ5I,EAAM,gBAGvBS,KAAKoI,iBAxbT,qCA0bc,WACJC,EAAsBrI,KAAKqB,WAAWiH,OAAO,GACnDD,EAAQ9J,SAAQ,SAACgB,GACf,EAAK2B,KAAK3B,EAAM,aAAa,QA7bnC,iCAicasI,GAAQ,WACb7H,KAAKqB,WAAWxB,OAAS,GAC3BG,KAAKuI,SAAS,YAAa,KAAM,CAC/BxJ,kBAAmB,KACnBC,iBAAkB,KAClBL,KAAM,UACN6J,QAAQ,IAEPvJ,MAAK,WACJ,EAAKyH,SAAS,CACZ/H,KAAM,UACNS,QAAS,UAEX,IAAK,IAAI6I,EAAI,EAAGA,EAAI,EAAK5G,WAAWxB,OAAQoI,IACtCJ,EAAInE,GACF,EAAKrC,WAAW4G,GAAGvE,KAAOmE,EAAInE,IAChC,EAAKrC,WAAWmG,OAAOS,EAAG,GAGxB,EAAK5G,WAAW4G,GAAGxI,YAAcoI,EAAIpI,WACvC,EAAK4B,WAAWmG,OAAOS,EAAG,GAIhC,EAAKG,kBAENlJ,OAAM,WACL,EAAKwH,SAAS,CACZ/H,KAAM,OACNS,QAAS,eA9drB,+BAoeW0F,GACP9E,KAAKkD,YAAc4B,EAAOpB,GAC1B1D,KAAKuD,cAAgBuB,EAAOrF,UAC5BO,KAAK+B,eAAgB,IAvezB,sCA0ekB0G,GACdzI,KAAKoD,OAASqF,EAAK/E,GACnB1D,KAAK+C,SAAW0F,EAAKjJ,UACrBQ,KAAKgD,SAAWyF,EAAKhJ,YA7ezB,sCAgfe,WACPO,KAAKoD,QAAUpD,KAAK+C,UACtB/C,KAAKqB,WAAW9C,SAAQ,SAACgB,GACnBA,EAAKmE,GACHnE,EAAKmE,KAAO,EAAKR,cACnB3D,EAAKqE,UAAY,EAAKR,OACtB7D,EAAKoE,iBAAmB,EAAKX,SAC7BzD,EAAK+F,iBAAmB,EAAKvC,SAC7B,EAAK7B,KAAK3B,EAAM,cAAc,IAG5BA,EAAKE,YAAc,EAAK8D,gBAC1BhE,EAAKqE,UAAY,EAAKR,OACtB7D,EAAKoE,iBAAmB,EAAKX,SAC7BzD,EAAK+F,iBAAmB,EAAKvC,SAC7B,EAAK7B,KAAK3B,EAAM,cAAc,OAIpCS,KAAK+B,eAAgB,GAErB/B,KAAK0G,SAASpH,MAAM,aArgB1B,qCAwgBiBuI,EAAUa,GACC,qBAApBA,EAAOC,UAAmCd,EAAIlE,mBAChD3D,KAAKmI,QAAQN,EAAK,cAClB7H,KAAKkB,KAAK2G,EAAK,YAAY,MA3gBjC,qCA8gBiBA,GACTA,EAAIlE,mBACN3D,KAAKmI,QAAQN,EAAK,YAClB7H,KAAKkB,KAAK2G,EAAK,cAAc,MAjhBnC,qCAshBI7H,KAAK+B,eAAgB,IAthBzB,kCAyhBc8F,GAAQ,WAClB7H,KAAKuI,SAAS,eAAgB,KAAM,CAClCxJ,kBAAmB,KACnBC,iBAAkB,KAClBL,KAAM,UACN6J,QAAQ,IAEPvJ,MAAK,WACJ,EAAKkJ,QAAQN,EAAK,cAClB,EAAKM,QAAQN,EAAK,YAClBA,EAAIlE,iBAAmB,GACvBkE,EAAIvC,iBAAmB,GACvBuC,EAAIe,YAAc,GAClBf,EAAIjE,UAAY,MAEjB1E,OAAM,iBAxiBb,wCA4iBIc,KAAK6I,QAAQjJ,KAAK,8CA5iBtB,kCA+iBW,WACNI,KAAK8G,MAAMrG,WAAmBqI,UAAS,SAACC,GACvC,IAAIzK,GAAY,EAChB,GAAIyK,IACFzK,EAAY,eAAgB,KAAM,EAAK+C,aACrB,IAAd/C,GAAqB,CACvB,IAAM0K,EAAc,CAClBtK,KAAM,EAAK+B,WAAW2D,SACtBE,SAAU,EAAK7D,WAAW6D,SAC1B3F,KAAM,EACNsK,KAAM,EACNC,OAAQ,EAAK7H,YAEX,EAAKgC,cAAgB,EAAKC,UAAkC,MAAtB,EAAKD,cAC7C2F,EAAOtF,GAAK,EAAKJ,SACjB0F,EAAO3F,aAAe,EAAKA,aAC3B,OAAA8F,EAAA,MAAaH,GAAQ/J,MAAK,YAAoB,EAAjBwJ,KAAiB,IAAXnJ,EAAW,EAAXA,MAC5BA,EAKH,EAAKoH,SAASpH,MAAM,QAAUA,EAAMF,UAJpC,EAAKsH,SAASW,QAAQ,QACtB,EAAK+B,mBACL,EAAKP,QAAQQ,YAMjB,eAAYL,GAAQ/J,MAAK,YAAoB,IAAjBwJ,EAAiB,EAAjBA,KAAMnJ,EAAW,EAAXA,MAChC,GAAKA,EAKH,EAAKoH,SAASpH,MAAM,QAAUA,EAAMF,aAL1B,CACV,EAAKsH,SAASW,QAAQ,QACtB,IAAMiC,EAAQb,EACd,EAAKc,eAAeD,aA7kBpC,qCAylBI,IAAM7E,EAAQzE,KACRwJ,EAAuB,GACvBC,EAAe,GAErBzJ,KAAKqB,WAAW9C,SAAQ,SAACgB,GACvBkK,EAAQlK,EAAKE,WAAa,GACtBF,EAAKE,WACP+J,EAAS5J,KAAK,CACZ6D,MAAOlE,EAAKC,UACZkF,KAAMnF,EAAKE,UACXkF,MAAO,cAIb6E,EAAS5J,KAAK,CACZ6D,MAAO,KACPiB,KAAM,GACNC,MAAO,SACPC,MAAO,MACPoB,YAAa,SACblG,OANY,SAML+E,EANK,GAM0B,IAArBC,EAAqB,EAArBA,OAAQe,EAAa,EAAbA,OACvB,OAAOhB,EAAE,OAAQ,CACfA,EACE,YACA,CACEE,MAAO,CACLpG,KAAM,QAER6C,GAAI,CACFiE,MAAO,kBAAMhB,EAAMiF,aAAa5E,EAAQe,MAG5C,MAEFhB,EACE,OACA,CACEW,MAAO,kBAET,KAEFX,EACE,YACA,CACEE,MAAO,CACLpG,KAAM,QAER6C,GAAI,CACFiE,MAAO,kBAAMhB,EAAMkF,aAAa7E,EAAQe,MAG5C,WAKR7F,KAAK4B,WAAWE,QAAU0H,EAC1BxJ,KAAK4J,iBAlpBT,kCAqpBclG,GAAE,WACNsF,EAAS,CACb7F,OAAQO,EACRmG,KAAM,EACNC,MAAO,KAET,eAAYd,GAAQ/J,MAAK,YAAa,IAAVwJ,EAAU,EAAVA,KACtBA,IACF,EAAK7G,WAAWC,KAAO4G,EAAK5G,WA7pBpC,qCAiqBc,WACJwG,EAAUrI,KAAK4B,WAAWC,KAAKyG,OAAO,GAC5CD,EAAQ9J,SAAQ,SAACgB,GACf,EAAK2B,KAAK3B,EAAM,aAAa,QApqBnC,gGAuqBuBwK,GAvqBvB,yFAwqBa9B,EAAI,EAxqBjB,YAwqBoBA,EAAIjI,KAAK4B,WAAWC,KAAKhC,QAxqB7C,uBAyqBYN,EAAOS,KAAK4B,WAAWC,KAAKoG,GAClC1I,EAAK4D,OAAS4G,EA1qBpB,SA2qBY,eAAUxK,GA3qBtB,OAwqBqD0I,IAxqBrD,sBA6qBIjI,KAAK6I,QAAQQ,OA7qBjB,oJAgrBQrJ,KAAKmH,qBACHnH,KAAKmE,eAAetE,OAAS,GAC/BG,KAAKmE,eAAe5F,SAAQ,SAACgB,GAC3B,eAAUA,MAGVS,KAAKkE,gBAAgBrE,OAAS,GAChCG,KAAKkE,gBAAgB3F,SAAQ,SAACgB,GAC5B,eAAWA,SAxrBrB,6CA6rBsB,WAClB,eAAe,CAAE+E,SAAU,MAAOrF,MAAK,YAAa,IAAVwJ,EAAU,EAAVA,KACpCA,IACFA,EAAKlK,SAAQ,SAACgB,GACZA,EAAKC,UAAYD,EAAKb,QAExB,EAAK2D,cAAgBoG,QAnsB7B,qCAwsBc,WACJO,EAAS,CACb1E,SAAU,IACV3F,KAAM,IACNqL,WAAYhK,KAAKkC,YAEnB,eAAe8G,GAAQ/J,MAAK,YAAa,IAAVwJ,EAAU,EAAVA,KACzBA,IACFA,EAAKlK,SAAQ,SAACgB,GACZA,EAAKC,UAAYD,EAAKb,QAExB,EAAK2D,cAAgBoG,QAntB7B,yCAwtBqBsB,GAAG,WACpB,eAAWA,GAAK9K,MAAK,SAACmI,GACfA,EAAI9H,MAKP,EAAKoH,SAASpH,MAAM,QAAU8H,EAAI9H,MAAMF,UAJxC,EAAKsH,SAASW,QAAQ,QACtB,EAAKC,YAAY,EAAKhE,UACtB,EAAKV,qBA7tBb,mCAouBeiF,EAAKhC,GAAM,WAChBoE,EAAWpE,EACb7F,KAAKsD,UAAkC,MAAtBtD,KAAKqD,aACxBrD,KAAKuI,SAAS,YAAa,KAAM,CAC/BxJ,kBAAmB,KACnBC,iBAAkB,KAClBL,KAAM,UACN6J,QAAQ,IAEPvJ,MAAK,WACJ,IAAMyE,EAAUmE,EAAInE,GACpB,eAAa,CAAEA,OAAMzE,MAAK,SAACmI,GACpBA,EAAI9H,MAIP,EAAKoH,SAASpH,MAAM,QAAU8H,EAAI9H,MAAMF,UAHxC,EAAKsH,SAASW,QAAQ,QACtB,EAAKC,YAAY,EAAKhE,iBAM3BpE,OAAM,WACL,EAAKwH,SAAS,CACZ/H,KAAM,OACNS,QAAS,aAIXY,KAAK4B,WAAWC,KAAKhC,QACvBG,KAAK4B,WAAWC,KAAKtD,SAAQ,SAACgB,EAAM2K,GAC9BA,IAAQD,GACV,EAAKrI,WAAWC,KAAK2F,OAAO0C,EAAK,QAlwB7C,mCAywBY,WACRlK,KAAKmK,YACc,MAAfnK,KAAKgE,MACPhE,KAAKqB,WAAW9C,SAAQ,SAACgB,GACvBA,EAAKuE,QAAS,EACdvE,EAAK2G,WAAY,KAGnBlG,KAAKqB,WAAW9C,SAAQ,SAACgB,GACG,MAAtBA,EAAK8D,cACP9D,EAAKuE,QAAS,EACdvE,EAAK2G,WAAY,IAEjB3G,EAAK2G,WAAY,EACjB3G,EAAKuE,QAAS,GAEU,MAAtB,EAAKT,eACP9D,EAAK2G,WAAY,MAIvBlG,KAAKoI,iBA9xBT,kCAiyB8B,MAAtBpI,KAAKqD,cAA8C,MAAtBrD,KAAKqD,eACpCrD,KAAKgE,MAAQ,OAlyBnB,0CAsyBmB,WACTN,EAAU1D,KAAKoK,OAAOC,MAAM3G,GAClC1D,KAAKsD,SAAWtD,KAAKoK,OAAOC,MAAM3G,GAClC1D,KAAKqD,aAAerD,KAAKoK,OAAOC,MAAMhH,aAClCK,IACF,eAAeA,GAAIzE,MAAK,YAAa,IAAVwJ,EAAU,EAAVA,KACzB,EAAKhI,WAAW2D,SAAWqE,EAAK/J,KAChC,IAAM4L,EAAU,uBAAU7B,EAAKS,QAC/BoB,EAAG/L,SAAQ,SAACgB,GACNA,EAAKoE,mBACPpE,EAAKyD,UAAW,MAGpB,EAAK3B,WAAaiJ,EAClB,EAAKrG,mBAAqBwE,EAAKS,UAEjClJ,KAAKsH,YAAY5D,MAtzBvB,gCA2zBI1D,KAAKuK,oBACLvK,KAAKmK,YACLnK,KAAKwK,uBACLxK,KAAKoI,mBA9zBT,GAAwC,QAEtC,gBADC,eAAM,aAAc,CAAEqC,MAAM,K,8BAY5B,MAbkB,EAAU,gBAH9B,eAAU,CACTC,WAAY,CAAEC,aAAA,SAEK,WC3HkY,I,wBCQnZC,EAAY,eACd,EACA9K,EACA+C,GACA,EACA,KACA,KACA,MAIa,aAAA+H,E,2CCnBf,IAAI9K,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,UAAU,CAAC0K,WAAW,CAAC,CAACnM,KAAK,UAAUoM,QAAQ,YAAY/J,MAAOhB,EAAiB,cAAEoB,WAAW,kBAAkBX,IAAI,UAAUH,YAAY,sBAAsBC,MAAM,CAAC,cAAcP,EAAIgL,WAAW,MAAQhL,EAAIe,MAAM,MAAQf,EAAIW,MAAM,KAAO,SAAS,eAAe,MAAMX,EAAIiL,GAAIjL,EAAS,OAAE,SAASR,GAAM,OAAOY,EAAG,MAAM,CAAC3B,IAAIe,EAAKf,IAAI6B,YAAY,OAAO,CAACF,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQf,EAAKkE,MAAM,KAAOlE,EAAKf,MAAM,CAAgB,SAAde,EAAKZ,KAAiBwB,EAAG,iBAAiB,CAACG,MAAM,CAAC,KAAOf,EAAKZ,KAAK,iBAAiBY,EAAK0L,kBAAkB,UAAY1L,EAAKyF,UAAU,SAAWzF,EAAK0G,SAAS,OAAS,mBAAmB,eAAe,cAAcnF,MAAM,CAACC,MAAOhB,EAAIe,MAAMvB,EAAKf,KAAMwC,SAAS,SAAUC,GAAMlB,EAAImB,KAAKnB,EAAIe,MAAOvB,EAAKf,IAAKyC,IAAME,WAAW,qBAAoC,WAAd5B,EAAKZ,KAAmBwB,EAAG,YAAY,CAACW,MAAM,CAACC,MAAOhB,EAAIe,MAAMvB,EAAKf,KAAMwC,SAAS,SAAUC,GAAMlB,EAAImB,KAAKnB,EAAIe,MAAOvB,EAAKf,IAAKyC,IAAME,WAAW,qBAAqBhB,EAAG,cAAc,CAACG,MAAM,CAAC,KAAOf,EAAKZ,KAAK,OAASoJ,OAAOC,OAAO,GAAI,CAAC/C,YAAa1F,EAAK0F,aAAe,IAC7mC1F,EAAK6F,OACL,CAACtE,MAAOf,EAAIe,MACZtC,IAAKe,EAAKf,UAAU,IAAI,MAAK,IAAI,IACzCqE,EAAkB,G,kCC0CtB,GACEnE,KAAM,oBACNgM,WAAY,CAAd,sBACE3F,MAAO,CACLmG,OAAQ,CACNvM,KAAMwM,SAERrK,MAAO,CACLnC,KAAMoJ,OACNqD,QAAS,cAEXC,MAAO,CACL1M,KAAM2M,MACNF,QAAS,WAAf,WAEIL,WAAY,CACVpM,KAAM4M,OACNH,QAAS,WAAf,WAEII,cAAe,CACb7M,KAAMwM,QACNC,SAAS,IAGb3C,KAxBF,WAyBI,MAAO,CACL/H,MAAO,GACP+K,YAAa,KAGjBC,QA9BF,WA+BI1L,KAAK2L,aAEPC,MAAO,CACLP,MADJ,WAEMrL,KAAK2L,cAGTE,QAAS,CACPF,UADJ,WACA,WACA,KACM3L,KAAKqL,MAAM9M,SAAQ,SAAzB,GACYgB,EAAK2I,MAA0B,IAAlB3I,EAAKX,WACpB8B,EAAMnB,EAAKf,KAAOe,EAAK2I,SAG3BlI,KAAKU,MAAQA,EACbV,KAAK8L,WAAU,WACb,EAAR,uCC9FgX,I,YCO5WlB,EAAY,eACd,EACA9K,EACA+C,GACA,EACA,KACA,KACA,MAIa,OAAA+H,E,2CClBf,IAAI9K,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,gBAAgB,CAACK,IAAI,UAAUF,MAAM,CAAC,eAAeP,EAAIyC,YAAY,iBAAiBzC,EAAIgM,iBAAiB,eAAe,QAAQ,cAAc,OAAO,YAAY,KAAK,cAAc,MAAMvK,GAAG,CAAC,SAAWzB,EAAI4C,aAAa,WAAa5C,EAAI6C,eAAe,CAACzC,EAAG,oBAAoB,CAACG,MAAM,CAAC,OAASP,EAAImL,OAAOc,QAAQ,MAAQjM,EAAImL,OAAOpK,MAAM,MAAQf,EAAImL,OAAOG,MAAM,cAAc,MAAM,iBAAiBtL,EAAImL,OAAO5J,SAASE,GAAG,CAAC,QAAUzB,EAAIkM,YAAY,QAAUlM,EAAImM,gBAAgB,IAAI,IAC5kBrJ,EAAkB,G,0GC8BD,EAArB,yG,0BACE,EAAAqI,OAAc,CACZc,SAAS,EACTlL,MAAO,GACPuK,MAAO,GACP/J,SAAS,GALb,4IAea6K,GACT,IAAMC,EAAmB,GACnBC,EAAiB,GACvBF,EAAO5N,SAAQ,SAACgB,GACVA,EAAKwB,MACPsL,EAAU9M,EAAKE,WAAaF,EAAKwB,MACxBxB,EAAKmI,aACd2E,EAAU9M,EAAKE,WAAaF,EAAKmI,aAEjC2E,EAAU9M,EAAKE,WAAa,GAEP,IAAnBF,EAAKG,UACP0M,EAAKxM,KAAK,CACRpB,IAAKe,EAAKE,UACVgE,MAAOlE,EAAKC,UACZb,KAAM,WAEoB,IAAnBY,EAAKG,UACd0M,EAAKxM,KAAK,CACRpB,IAAKe,EAAKE,UACVgE,MAAOlE,EAAKC,UACZb,KAAM,OACNsM,kBAAmB,GACnBjG,WAAW,EACXiB,UAAU,IAGZmG,EAAKxM,KAAK,CACRjB,KAAM,QACNH,IAAKe,EAAKE,UACVgE,MAAOlE,EAAKC,UACZyF,YAAgC,IAAnB1F,EAAKG,UAAkB,QAAU,QAC9C0F,OAAQ,CACNL,MAAO,CACLpG,KAAyB,IAAnBY,EAAKG,UAAkB,SAAW,eAMlDM,KAAKkL,OAAOG,MAAQe,EACpBpM,KAAKkL,OAAOpK,MAAQuL,MAxDxB,GAAwC,QAOzB,gBAAZ,eAAKf,Q,iCACQ,gBAAb,eAAKC,S,kCACoB,gBAAzB,eAAK,CAAEH,SAAS,K,uCAEjB,gBADC,eAAK,mB,2BACW,MAEjB,gBADC,eAAK,qB,2BACW,MAEjB,gBADC,eAAM,aAAc,CAAEkB,WAAW,EAAM7B,MAAM,K,yBA4C7C,MA1DkB,EAAU,gBAH9B,eAAU,CACTC,WAAY,CAAE6B,kBAAA,WAEK,WC/BoZ,I,YCOra3B,EAAY,eACd,EACA9K,EACA+C,GACA,EACA,KACA,KACA,MAIa,OAAA+H,E","file":"assets/js/chunk-78541c34.c9c4e53a.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./customView.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./customView.vue?vue&type=style&index=0&lang=scss&\"","import { Message, MessageBox } from 'element-ui';\r\n\r\nexport function statementChange(parameterData, fieldTableData) {\r\n  const listKey = [];\r\n  let checkFlag = false;\r\n  if (parameterData !== null) {\r\n    parameterData.forEach((key) => {\r\n      if (\r\n        !key.code &&\r\n        !key.name &&\r\n        !key.type &&\r\n        !key.required &&\r\n        !key.defaultValue\r\n      ) {\r\n        checkFlag = false;\r\n      } else {\r\n        if (key.required === 3 && !key.defaultValue) {\r\n          checkFlag = true;\r\n          Message.error('是否必传为固定值，默认值不能为空，请输入默认值');\r\n        } else if ((!key.code && !key.name) || !key.code || !key.name) {\r\n          checkFlag = true;\r\n          Message.error('参数code，参数名称不能为空，请输入');\r\n        } else if (!key.name && key.code) {\r\n          checkFlag = true;\r\n          MessageBox('是否要将参数code作为参数名称?', '提示', {\r\n            confirmButtonText: '是',\r\n            cancelButtonText: '否',\r\n            type: 'warning'\r\n          })\r\n            .then(() => {\r\n              key.name = key.code;\r\n            })\r\n            .catch(() => {\r\n              Message({\r\n                type: 'info',\r\n                message: '已取消'\r\n              });\r\n            });\r\n        } else if (\r\n          key.required === '' ||\r\n          key.required === null ||\r\n          key.required === undefined\r\n        ) {\r\n          checkFlag = true;\r\n          Message.error('是否必传为不能为空，请输入');\r\n        } else if (\r\n          key.type === '' ||\r\n          key.type === null ||\r\n          key.type === undefined\r\n        ) {\r\n          checkFlag = true;\r\n          Message.error('参数类型不能为空，请输入');\r\n        }\r\n      }\r\n      // return checkFlag;\r\n    });\r\n  }\r\n  fieldTableData.forEach((item) => {\r\n    if (!item.fieldName && item.fieldCode) {\r\n      checkFlag = true;\r\n      MessageBox('是否要将字段code作为字段名称?', '提示', {\r\n        confirmButtonText: '是',\r\n        cancelButtonText: '否',\r\n        type: 'warning'\r\n      })\r\n        .then(() => {\r\n          item.fieldName = item.fieldCode;\r\n        })\r\n        .catch(() => {\r\n          Message({\r\n            type: 'info',\r\n            message: '已取消'\r\n          });\r\n        });\r\n    } else if (\r\n      (!item.fieldCode && !item.fieldName) ||\r\n      !item.fieldCode ||\r\n      !item.fieldName\r\n    ) {\r\n      checkFlag = true;\r\n      Message.error('字段code,字段名称不能为空');\r\n    } else if (\r\n      item.fieldType === '' ||\r\n      item.fieldType === null ||\r\n      item.fieldType === undefined\r\n    ) {\r\n      checkFlag = true;\r\n      Message.error('字段类型不能为空');\r\n    } else {\r\n      if (item.isPrimaryKey === 0) {\r\n        listKey.push(item);\r\n      }\r\n    }\r\n    // return checkFlag;\r\n  });\r\n  if (\r\n    fieldTableData[0].fieldCode &&\r\n    fieldTableData[0].fieldName &&\r\n    fieldTableData[0].fieldType\r\n  ) {\r\n    if (listKey.length === 0) {\r\n      checkFlag = true;\r\n      Message.error('字段列表必须存在主键');\r\n    }\r\n  }\r\n  return checkFlag;\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"customView\"},[_c('base-panel',{attrs:{\"title\":\"自定义型数据视图\",\"actions\":_vm.actionsView()}},[_c('el-form',{ref:\"customForm\",staticClass:\"formCss labelSuffix\",attrs:{\"model\":_vm.customForm,\"rules\":_vm.rules,\"label-position\":\"left\",\"label-suffix\":\"：\",\"label-width\":\"110px\"},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-form-item',{attrs:{\"label\":\"视图名称\",\"prop\":\"viewName\"}},[_c('el-input',{attrs:{\"clearable\":\"\",\"placeholder\":\"请输入视图名称\"},model:{value:(_vm.customForm.viewName),callback:function ($$v) {_vm.$set(_vm.customForm, \"viewName\", $$v)},expression:\"customForm.viewName\"}})],1),_c('el-form-item',{staticStyle:{\"padding-left\":\"10px\"},attrs:{\"label\":\"数据字典\",\"label-width\":\"100px\",\"prop\":\"dictFlag\"}},[_c('el-switch',{attrs:{\"active-value\":0,\"inactive-value\":1,\"disabled\":\"\"},model:{value:(_vm.customForm.dictFlag),callback:function ($$v) {_vm.$set(_vm.customForm, \"dictFlag\", $$v)},expression:\"customForm.dictFlag\"}})],1)],1),_c('simple-card',{attrs:{\"title\":\"字段列表\"}},[_c('base-table',{staticClass:\"sortTable\",attrs:{\"data-source\":_vm.customList,\"loading\":_vm.loading,\"border\":\"\",\"columns\":_vm.columnsCustom(),\"show-summary\":false,\"border-style\":true,\"can-edit\":\"\"},on:{\"cellMouseEnter\":_vm.cellMouseEnter,\"cellMouseleave\":_vm.cellMouseleave}})],1),_c('simple-card',{attrs:{\"title\":\"视图内容\",\"actions\":_vm.actionsContent()}},[_c('base-table',{ref:\"contentTable\",staticClass:\"sortTable\",attrs:{\"border\":\"\",\"data-source\":_vm.customData.rows,\"loading\":_vm.loading,\"columns\":_vm.customData.headers,\"show-summary\":false,\"border-style\":true}})],1)],1),_c('simple-dialog',{attrs:{\"dialog-title\":\"关联字段设置\",\"dialog-visible\":_vm.dialogVisible,\"dialog-width\":\"400px\",\"botton-show\":\"true\",\"save-text\":\"确定\",\"cancel-text\":\"取消\"},on:{\"saveEmit\":_vm.setDetermines,\"cancelEmit\":_vm.cancelDialog}},[_c('div',{staticStyle:{\"padding-bottom\":\"10px\"}},[_c('el-input',{staticClass:\"inputSearch\",attrs:{\"placeholder\":\"请输入内容\",\"prefix-icon\":\"el-icon-search\"},model:{value:(_vm.searchView),callback:function ($$v) {_vm.searchView=$$v},expression:\"searchView\"}}),_c('el-button',{staticStyle:{\"padding\":\"5px 8px\"},attrs:{\"type\":\"primary\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.changeSearch}},[_vm._v(\"搜索\")])],1),_c('el-tree',{staticClass:\"treeStyle\",attrs:{\"data\":_vm.dataViewsTree,\"props\":_vm.treeProps},on:{\"node-click\":_vm.handleNodeClick}})],1),_c('addContent',{ref:\"advance\",attrs:{\"dialog-title\":_vm.dialogTitle,\"dialog-test-switch\":_vm.dialogSwitch,\"params-list\":_vm.contentList},on:{\"saveEmitSwitch\":_vm.treeDataTest,\"cancelEmitSwitch\":_vm.cancelSwitch}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { cloneDeep, differenceWith } from 'lodash';\r\nimport addContent from './component/addContent.vue';\r\nimport { statementChange } from './component/conditional.js';\r\nimport { Component, Vue, Watch } from 'vue-property-decorator';\r\nimport {\r\n  dataViewFields,\r\n  dataViewAdd,\r\n  editCuetom,\r\n  viewDataEdit,\r\n  queryCuetom,\r\n  addCuetom,\r\n  deleteCuetom,\r\n  dataViewDetail\r\n} from '@api/viewData';\r\n@Component({\r\n  components: { addContent }\r\n})\r\nexport default class CustomView extends Vue {\r\n  @Watch('customList', { deep: true })\r\n  WatchCustomList() {\r\n    this.codeChange();\r\n    this.customList.forEach((item) => {\r\n      if (\r\n        item.fieldName !== '' &&\r\n        item.fieldCode !== '' &&\r\n        item.fieldType !== ''\r\n      ) {\r\n        this.headerChange();\r\n      }\r\n    });\r\n  }\r\n  dialogVisible = false;\r\n  dialogSwitch = false;\r\n  dialogTitle = '';\r\n  searchView = '';\r\n  contentList: Array<any> = [];\r\n  spreadQuery: Array<any> = [];\r\n  treeName = '';\r\n  treeCode = '';\r\n  indexUpdate = 0;\r\n  parameterId = 0;\r\n  viewId = '';\r\n  treeId = 0;\r\n  isCompatible: any = '';\r\n  updateId: any = '';\r\n  parameterCode: any = '';\r\n  dataViewsTree: Array<any> = [];\r\n  treeProps: any = {\r\n    children: 'fields',\r\n    label: 'fieldName'\r\n  };\r\n  customData: any = {\r\n    headers: [],\r\n    rows: [],\r\n    id: ''\r\n  };\r\n  customList: Array<any> = [\r\n    // 自定义列表格\r\n    {\r\n      id: 1,\r\n      fieldCode: '',\r\n      fieldName: '',\r\n      fieldType: '',\r\n      foreignFieldCode: '',\r\n      foreignId: '',\r\n      required: '',\r\n      isPrimaryKey: '1',\r\n      addButton: true,\r\n      isEdit: true,\r\n      edits: [0, 1, 1, 1, 0, 0, 0]\r\n    }\r\n  ];\r\n  isAdd = '';\r\n  oldCustomFieldList: Array<any> = [];\r\n  tempEditContens: Array<any> = [];\r\n  tempAddContens: Array<any> = [];\r\n  rules: any = {\r\n    viewName: [{ required: true, message: '请输入视图名称', trigger: 'blur' }]\r\n  };\r\n  customForm: any = {\r\n    viewName: '',\r\n    dictFlag: 0\r\n  };\r\n  columnsCustom() {\r\n    const _this = this;\r\n    return [\r\n      {\r\n        prop: '',\r\n        type: 'index',\r\n        align: 'center',\r\n        label: '序号',\r\n        width: '70'\r\n      },\r\n      {\r\n        prop: 'fieldCode',\r\n        label: '字段code',\r\n        align: 'center',\r\n        'min-width': '100',\r\n        // editer: {\r\n        //   type: 'input',\r\n        //   key: 'fieldCode',\r\n        //   placeholder: '请输入字段code'\r\n        // }\r\n        render(h, { record }) {\r\n          if (record.isEdit === true) {\r\n            return h('el-input', {\r\n              props: {\r\n                value: record.fieldCode,\r\n                clearable: true,\r\n                placeholder: '请输入参数code'\r\n              },\r\n              on: {\r\n                input: (value) => {\r\n                  record.fieldCode = value;\r\n                  _this.$set(record, 'editFlag', true);\r\n                }\r\n              }\r\n            });\r\n          } else {\r\n            return h('span', record.fieldCode);\r\n          }\r\n        }\r\n      },\r\n      {\r\n        prop: 'fieldName',\r\n        label: '字段名称',\r\n        align: 'center',\r\n        'min-width': '100',\r\n        editer: {\r\n          type: 'input',\r\n          key: 'fieldName',\r\n          placeholder: '请输入字段名称'\r\n        }\r\n      },\r\n      {\r\n        prop: 'fieldType',\r\n        align: 'center',\r\n        label: '字段类型',\r\n        'min-width': '120',\r\n        editer: {\r\n          type: 'select',\r\n          key: 'fieldType',\r\n          config: {\r\n            props: {\r\n              placeholder: '请选择字段类型'\r\n            },\r\n            options: () => {\r\n              return [\r\n                {\r\n                  label: '字符串',\r\n                  value: 0\r\n                },\r\n                {\r\n                  label: '数字',\r\n                  value: 1\r\n                },\r\n                {\r\n                  label: '日期',\r\n                  value: 2\r\n                },\r\n                {\r\n                  label: '布尔',\r\n                  value: 3\r\n                }\r\n              ];\r\n            }\r\n          }\r\n        }\r\n      },\r\n      {\r\n        prop: 'foreignFieldCode',\r\n        label: '关联视图',\r\n        align: 'center',\r\n        'min-width': '100',\r\n        render(h: any, { record }: any) {\r\n          if (record.treeCode === true) {\r\n            return h('span', [\r\n              h('span', record.foreignFieldName),\r\n              h('el-button', {\r\n                props: {\r\n                  type: 'text',\r\n                  icon: 'el-icon-delete'\r\n                },\r\n                style: 'margin-left: 10px',\r\n                on: {\r\n                  click: () => _this.deleteFiled(record)\r\n                }\r\n              })\r\n            ]);\r\n          } else if (record.treeButton === true) {\r\n            return h('span', record.foreignFieldName);\r\n          } else {\r\n            return h('span', [\r\n              h(\r\n                'el-button',\r\n                {\r\n                  props: {\r\n                    type: 'text'\r\n                  },\r\n                  on: {\r\n                    click: () => _this.setFiled(record)\r\n                  }\r\n                },\r\n                '设置'\r\n              )\r\n            ]);\r\n          }\r\n        }\r\n      },\r\n      {\r\n        prop: 'isPrimaryKey',\r\n        'header-align': 'left',\r\n        label: '是否主键',\r\n        'min-width': '120',\r\n        render(h: any, { $index, record }: any) {\r\n          return h('el-switch', {\r\n            props: {\r\n              value: record.isPrimaryKey,\r\n              'active-value': 0,\r\n              'inactive-value': 1,\r\n              'active-text': '是',\r\n              'inactive-text': '否'\r\n            },\r\n            on: {\r\n              change: () => _this.changKey(record, $index)\r\n            }\r\n          });\r\n        }\r\n      },\r\n      {\r\n        prop: '',\r\n        align: 'center',\r\n        label: '操作',\r\n        width: '150',\r\n        headerAlign: 'center',\r\n        render(h: any, { record }: any) {\r\n          if (record.addButton === true) {\r\n            return h('span', [\r\n              h(\r\n                'el-button',\r\n                {\r\n                  props: {\r\n                    type: 'text',\r\n                    disabled: record.delButton\r\n                  },\r\n                  on: {\r\n                    click: () => _this.deleteEdit(record)\r\n                  }\r\n                },\r\n                '删除'\r\n              ),\r\n              h(\r\n                'span',\r\n                {\r\n                  style: 'padding: 0 5px'\r\n                },\r\n                '|'\r\n              ),\r\n              h(\r\n                'el-button',\r\n                {\r\n                  props: {\r\n                    type: 'text'\r\n                  },\r\n                  on: {\r\n                    click: () => _this.addEdit(record)\r\n                  }\r\n                },\r\n                '添加'\r\n              )\r\n            ]);\r\n          } else {\r\n            return h('span', [\r\n              h(\r\n                'el-button',\r\n                {\r\n                  props: {\r\n                    type: 'text',\r\n                    disabled: record.delButton\r\n                  },\r\n                  on: {\r\n                    click: () => _this.deleteEdit(record)\r\n                  }\r\n                },\r\n                '删除'\r\n              )\r\n            ]);\r\n          }\r\n        }\r\n      }\r\n    ];\r\n  }\r\n  actionsView() {\r\n    const _this = this;\r\n    return [\r\n      {\r\n        icon: '',\r\n        onClick: _this.setCustom,\r\n        type: 'primary',\r\n        title: '确定'\r\n      },\r\n      {\r\n        icon: '',\r\n        onClick: _this.canelDetermines,\r\n        type: 'button',\r\n        title: '取消'\r\n      }\r\n    ];\r\n  }\r\n  actionsContent() {\r\n    const _this = this;\r\n    return [\r\n      {\r\n        title: '新增',\r\n        icon: 'stack-line',\r\n        onClick: _this.addbutton\r\n      }\r\n    ];\r\n  }\r\n  // 新增查询\r\n  addbutton() {\r\n    this.dialogTitle = '新增';\r\n    this.contentList = [];\r\n    if (this.customList.length > 0 && this.customList[0].fieldCode) {\r\n      this.contentList = this.customList;\r\n      this.dialogSwitch = true;\r\n    } else {\r\n      this.$message.error('请输入需要增加的字段');\r\n    }\r\n  }\r\n  needTempContents() {\r\n    return (\r\n      differenceWith(\r\n        this.customList,\r\n        this.oldCustomFieldList,\r\n        (s, t) => s.fieldCode === t.fieldCode\r\n      ).length > 0\r\n    );\r\n  }\r\n  treeDataTest() {\r\n    let modelList: any = {};\r\n    modelList = this.$refs.advance['spread'].model;\r\n    let same: any = {};\r\n    for (const key in modelList) {\r\n      if (modelList[key]) {\r\n        same = modelList;\r\n      }\r\n    }\r\n    if (JSON.stringify(same) == '{}') {\r\n      this.$message.error('新增数据不能为空');\r\n    } else {\r\n      if (this.dialogTitle === '新增') {\r\n        this.spreadQuery.push(same);\r\n        if (this.updateId && this.isCompatible !== '3') {\r\n          same.viewId = this.updateId;\r\n          if (this.needTempContents()) {\r\n            this.tempAddContens.push(same);\r\n          } else {\r\n            addCuetom(same).then((res) => {\r\n              if (!res.error) {\r\n                this.$message.success('新增成功');\r\n                this.cancelSwitch();\r\n                this.queryCuetom(this.updateId);\r\n              } else {\r\n                this.$message.error('新增失败:' + res.error.message);\r\n              }\r\n            });\r\n          }\r\n        } else {\r\n          this.customData.rows = this.spreadQuery;\r\n          this.cancelSwitch();\r\n        }\r\n      } else if (this.dialogTitle === '修改') {\r\n        this.customData.rows.forEach((item, index) => {\r\n          if (index === this.indexUpdate) {\r\n            this.customData.rows.splice(index, 1, same);\r\n          }\r\n        });\r\n        if (this.updateId && this.isCompatible !== '3') {\r\n          same.id = this.customData.id;\r\n          if (this.needTempContents()) {\r\n            this.tempEditContens.push(same);\r\n          } else {\r\n            this.handleStatusChange(same);\r\n          }\r\n        } else {\r\n          this.cancelSwitch();\r\n        }\r\n      }\r\n      this.customList.forEach((item) => {\r\n        item.dafalutValue = '';\r\n      });\r\n    }\r\n  }\r\n  // 修改\r\n  updateButton(record, $index) {\r\n    this.indexUpdate = $index;\r\n    this.dialogTitle = '修改';\r\n    this.customData.id = record.id;\r\n    const list: Array<any> = [];\r\n    this.customData.headers.forEach((sa) => {\r\n      this.customList.forEach((item) => {\r\n        if (item.fieldCode === sa.prop) {\r\n          item.dafalutValue = record[sa.prop];\r\n          list.push(item);\r\n        }\r\n      });\r\n    });\r\n    this.contentList = list;\r\n    this.dialogSwitch = true;\r\n  }\r\n  cancelSwitch() {\r\n    this.contentList = [];\r\n    this.dialogSwitch = false;\r\n    this.customData.id = '';\r\n  }\r\n  changKey(record, index: any) {\r\n    this.customList.splice(index, 1, {\r\n      ...record,\r\n      isPrimaryKey: 1 - record.isPrimaryKey\r\n    });\r\n  }\r\n  // 判断参数对象里面有没有空值\r\n  deleteEmptyParam(value: any) {\r\n    for (const key in value) {\r\n      if (\r\n        value[key] === '' ||\r\n        value[key] === null ||\r\n        value[key] === undefined ||\r\n        value[key] === [] ||\r\n        value[key].length === 0\r\n      ) {\r\n        delete value[key];\r\n      }\r\n    }\r\n  }\r\n  addEdit(row: any) {\r\n    const addData = Object.assign({}, row);\r\n    for (const i in addData) {\r\n      if (i === 'id') {\r\n        addData[i] = addData[i] + 1;\r\n      } else if (i !== 'edits') {\r\n        addData[i] = '';\r\n      } else if (i === 'edits') {\r\n        addData[i] = [0, 1, 1, 1, 0, 0, 0];\r\n      }\r\n    }\r\n    addData.isCompatible = '1';\r\n    addData.delButton = false;\r\n    addData.isEdit = true;\r\n    addData.rule = [];\r\n    this.customList.push(addData);\r\n    if (this.customList.length > 1) {\r\n      this.customList.forEach((item) => {\r\n        this.$delete(item, 'addButton');\r\n      });\r\n    }\r\n    this.buttonChange();\r\n  }\r\n  buttonChange() {\r\n    const addView: Array<any> = this.customList.slice(-1);\r\n    addView.forEach((item) => {\r\n      this.$set(item, 'addButton', true);\r\n    });\r\n  }\r\n  // 表格删除\r\n  deleteEdit(row: any) {\r\n    if (this.customList.length > 1) {\r\n      this.$confirm('是否删除这条记录?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning',\r\n        center: true\r\n      })\r\n        .then(() => {\r\n          this.$message({\r\n            type: 'success',\r\n            message: '删除成功!'\r\n          });\r\n          for (let i = 0; i < this.customList.length; i++) {\r\n            if (row.id) {\r\n              if (this.customList[i].id === row.id) {\r\n                this.customList.splice(i, 1);\r\n              }\r\n            } else {\r\n              if (this.customList[i].fieldCode === row.fieldCode) {\r\n                this.customList.splice(i, 1);\r\n              }\r\n            }\r\n          }\r\n          this.buttonChange();\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: 'info',\r\n            message: '已取消删除'\r\n          });\r\n        });\r\n    }\r\n  }\r\n  // 设置\r\n  setFiled(record: any) {\r\n    this.parameterId = record.id;\r\n    this.parameterCode = record.fieldCode;\r\n    this.dialogVisible = true;\r\n  }\r\n  // 设置弹框树选择\r\n  handleNodeClick(data: any) {\r\n    this.treeId = data.id;\r\n    this.treeName = data.fieldName;\r\n    this.treeCode = data.fieldCode;\r\n  }\r\n  // 视图字段面板 - 确定\r\n  setDetermines() {\r\n    if (this.treeId && this.treeName) {\r\n      this.customList.forEach((item) => {\r\n        if (item.id) {\r\n          if (item.id === this.parameterId) {\r\n            item.foreignId = this.treeId;\r\n            item.foreignFieldCode = this.treeCode;\r\n            item.foreignFieldName = this.treeName;\r\n            this.$set(item, 'treeButton', true);\r\n          }\r\n        } else {\r\n          if (item.fieldCode === this.parameterCode) {\r\n            item.foreignId = this.treeId;\r\n            item.foreignFieldCode = this.treeCode;\r\n            item.foreignFieldName = this.treeName;\r\n            this.$set(item, 'treeButton', true);\r\n          }\r\n        }\r\n      });\r\n      this.dialogVisible = false;\r\n    } else {\r\n      this.$message.error('请选择关联字段');\r\n    }\r\n  }\r\n  cellMouseEnter(row: any, column: any) {\r\n    if (column.property === 'foreignFieldCode' && row.foreignFieldCode) {\r\n      this.$delete(row, 'treeButton');\r\n      this.$set(row, 'treeCode', true);\r\n    }\r\n  }\r\n  cellMouseleave(row: any) {\r\n    if (row.foreignFieldCode) {\r\n      this.$delete(row, 'treeCode');\r\n      this.$set(row, 'treeButton', true);\r\n    }\r\n  }\r\n  // 视图字段面板 - 取消\r\n  cancelDialog() {\r\n    this.dialogVisible = false;\r\n  }\r\n  // 删除-设置\r\n  deleteFiled(row: any) {\r\n    this.$confirm('确定要删除该关联字段吗?', '提示', {\r\n      confirmButtonText: '确定',\r\n      cancelButtonText: '取消',\r\n      type: 'warning',\r\n      center: true\r\n    })\r\n      .then(() => {\r\n        this.$delete(row, 'treeButton');\r\n        this.$delete(row, 'treeCode');\r\n        row.foreignFieldCode = '';\r\n        row.foreignFieldName = '';\r\n        row.foreignName = '';\r\n        row.foreignId = '';\r\n      })\r\n      .catch(() => {});\r\n  }\r\n\r\n  canelDetermines() {\r\n    this.$router.push('/sysSupport/dataService/viewDateManagent');\r\n  }\r\n  // 确定\r\n  setCustom() {\r\n    (this.$refs.customForm as any).validate((valid: boolean) => {\r\n      let checkFlag = false;\r\n      if (valid) {\r\n        checkFlag = statementChange(null, this.customList);\r\n        if (checkFlag === false) {\r\n          const params: any = {\r\n            name: this.customForm.viewName,\r\n            dictFlag: this.customForm.dictFlag,\r\n            type: 0,\r\n            kind: 3,\r\n            fields: this.customList\r\n          };\r\n          if (this.isCompatible && this.updateId && this.isCompatible !== '3') {\r\n            params.id = this.updateId;\r\n            params.isCompatible = this.isCompatible;\r\n            viewDataEdit(params).then(({ data, error }) => {\r\n              if (!error) {\r\n                this.$message.success('保存成功');\r\n                this.saveTempContents();\r\n                this.$router.back();\r\n              } else {\r\n                this.$message.error('保存失败:' + error.message);\r\n              }\r\n            });\r\n          } else {\r\n            dataViewAdd(params).then(({ data, error }) => {\r\n              if (!error) {\r\n                this.$message.success('保存成功');\r\n                const conId = data;\r\n                this.addDataContent(conId);\r\n              } else {\r\n                this.$message.error('保存失败:' + error.message);\r\n              }\r\n            });\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n  // 视图内容--表头处理\r\n  headerChange() {\r\n    const _this = this;\r\n    const testList: Array<any> = [];\r\n    const rowList: any = {};\r\n    const typeName = '';\r\n    this.customList.forEach((item) => {\r\n      rowList[item.fieldCode] = '';\r\n      if (item.fieldCode) {\r\n        testList.push({\r\n          label: item.fieldName,\r\n          prop: item.fieldCode,\r\n          align: 'center'\r\n        });\r\n      }\r\n    });\r\n    testList.push({\r\n      label: '操作',\r\n      prop: '',\r\n      align: 'center',\r\n      width: '150',\r\n      headerAlign: 'center',\r\n      render(h: any, { record, $index }: any) {\r\n        return h('span', [\r\n          h(\r\n            'el-button',\r\n            {\r\n              props: {\r\n                type: 'text'\r\n              },\r\n              on: {\r\n                click: () => _this.deleteChange(record, $index)\r\n              }\r\n            },\r\n            '删除'\r\n          ),\r\n          h(\r\n            'span',\r\n            {\r\n              style: 'padding: 0 5px'\r\n            },\r\n            '|'\r\n          ),\r\n          h(\r\n            'el-button',\r\n            {\r\n              props: {\r\n                type: 'text'\r\n              },\r\n              on: {\r\n                click: () => _this.updateButton(record, $index)\r\n              }\r\n            },\r\n            '修改'\r\n          )\r\n        ]);\r\n      }\r\n    });\r\n    this.customData.headers = testList;\r\n    this.changeButton();\r\n  }\r\n  // 视图查询\r\n  queryCuetom(id) {\r\n    const params = {\r\n      viewId: id,\r\n      page: 1,\r\n      limit: 10000\r\n    };\r\n    queryCuetom(params).then(({ data }) => {\r\n      if (data) {\r\n        this.customData.rows = data.rows;\r\n      }\r\n    });\r\n  }\r\n  changeButton() {\r\n    const addView = this.customData.rows.slice(-1);\r\n    addView.forEach((item) => {\r\n      this.$set(item, 'addButton', true);\r\n    });\r\n  }\r\n  async addDataContent(val) {\r\n    for (let i = 0; i < this.customData.rows.length; i++) {\r\n      const item = this.customData.rows[i];\r\n      item.viewId = val;\r\n      await addCuetom(item);\r\n    }\r\n    this.$router.back();\r\n  }\r\n  saveTempContents() {\r\n    if (this.needTempContents()) {\r\n      if (this.tempAddContens.length > 0) {\r\n        this.tempAddContens.forEach((item) => {\r\n          addCuetom(item);\r\n        });\r\n      }\r\n      if (this.tempEditContens.length > 0) {\r\n        this.tempEditContens.forEach((item) => {\r\n          editCuetom(item);\r\n        });\r\n      }\r\n    }\r\n  }\r\n  queryDataViewsFields() {\r\n    dataViewFields({ dictFlag: '0' }).then(({ data }) => {\r\n      if (data) {\r\n        data.forEach((item: any) => {\r\n          item.fieldName = item.name;\r\n        });\r\n        this.dataViewsTree = data;\r\n      }\r\n    });\r\n  }\r\n  // 关联视图模糊查询\r\n  changeSearch() {\r\n    const params = {\r\n      dictFlag: '0',\r\n      type: '0',\r\n      searchName: this.searchView\r\n    };\r\n    dataViewFields(params).then(({ data }) => {\r\n      if (data) {\r\n        data.forEach((item: any) => {\r\n          item.fieldName = item.name;\r\n        });\r\n        this.dataViewsTree = data;\r\n      }\r\n    });\r\n  }\r\n  // 视图内容 - 修改\r\n  handleStatusChange(val) {\r\n    editCuetom(val).then((res) => {\r\n      if (!res.error) {\r\n        this.$message.success('修改成功');\r\n        this.queryCuetom(this.updateId);\r\n        this.cancelSwitch();\r\n      } else {\r\n        this.$message.error('修改失败:' + res.error.message);\r\n      }\r\n    });\r\n  }\r\n  // 视图内容-删除\r\n  deleteChange(row, $index) {\r\n    const delteInd = $index;\r\n    if (this.updateId && this.isCompatible !== '3') {\r\n      this.$confirm('是否删除这条记录?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning',\r\n        center: true\r\n      })\r\n        .then(() => {\r\n          const id: any = row.id;\r\n          deleteCuetom({ id }).then((res) => {\r\n            if (!res.error) {\r\n              this.$message.success('删除成功');\r\n              this.queryCuetom(this.updateId);\r\n            } else {\r\n              this.$message.error('删除失败:' + res.error.message);\r\n            }\r\n          });\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: 'info',\r\n            message: '已取消删除'\r\n          });\r\n        });\r\n    } else {\r\n      if (this.customData.rows.length) {\r\n        this.customData.rows.forEach((item, ind) => {\r\n          if (ind === delteInd) {\r\n            this.customData.rows.splice(ind, 1);\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n  // 字段列表字段code修改新增区别\r\n  codeChange() {\r\n    this.changeDis();\r\n    if (this.isAdd !== '0') {\r\n      this.customList.forEach((item) => {\r\n        item.isEdit = true;\r\n        item.delButton = false;\r\n      });\r\n    } else {\r\n      this.customList.forEach((item) => {\r\n        if (item.isCompatible === '1') {\r\n          item.isEdit = true;\r\n          item.delButton = false;\r\n        } else {\r\n          item.delButton = true;\r\n          item.isEdit = false;\r\n        }\r\n        if (this.isCompatible === '1') {\r\n          item.delButton = false;\r\n        }\r\n      });\r\n    }\r\n    this.buttonChange();\r\n  }\r\n  changeDis() {\r\n    if (this.isCompatible === '0' || this.isCompatible === '1') {\r\n      this.isAdd = '0';\r\n    }\r\n  }\r\n  // 数据视图详情接口\r\n  getDataViewDetail() {\r\n    const id: any = this.$route.query.id;\r\n    this.updateId = this.$route.query.id;\r\n    this.isCompatible = this.$route.query.isCompatible;\r\n    if (id) {\r\n      dataViewDetail(id).then(({ data }) => {\r\n        this.customForm.viewName = data.name;\r\n        const cl: any = cloneDeep(data.fields);\r\n        cl.forEach((item) => {\r\n          if (item.foreignFieldCode) {\r\n            item.treeCode = true;\r\n          }\r\n        });\r\n        this.customList = cl;\r\n        this.oldCustomFieldList = data.fields;\r\n      });\r\n      this.queryCuetom(id);\r\n    }\r\n  }\r\n  // 数据初始化\r\n  created() {\r\n    this.getDataViewDetail();\r\n    this.changeDis();\r\n    this.queryDataViewsFields();\r\n    this.buttonChange();\r\n  }\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./customView.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./customView.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./customView.vue?vue&type=template&id=c435838a&\"\nimport script from \"./customView.vue?vue&type=script&lang=ts&\"\nexport * from \"./customView.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./customView.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-form',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.screenLoading),expression:\"screenLoading\"}],ref:\"adsfrom\",staticClass:\"formCss labelSuffix\",attrs:{\"label-width\":_vm.labelWidth,\"model\":_vm.model,\"rules\":_vm.rules,\"size\":\"medium\",\"label-suffix\":\"：\"}},_vm._l((_vm.items),function(item){return _c('div',{key:item.key,staticClass:\"box\"},[_c('el-form-item',{attrs:{\"label\":item.label,\"prop\":item.key}},[(item.type === 'date')?_c('el-date-picker',{attrs:{\"type\":item.type,\"picker-options\":item.TimePickerOptions,\"clearable\":item.clearable,\"disabled\":item.disabled,\"format\":\"yyyy 年 MM 月 dd 日\",\"value-format\":\"yyyy-MM-dd\"},model:{value:(_vm.model[item.key]),callback:function ($$v) {_vm.$set(_vm.model, item.key, $$v)},expression:\"model[item.key]\"}}):(item.type === 'switch')?_c('el-switch',{model:{value:(_vm.model[item.key]),callback:function ($$v) {_vm.$set(_vm.model, item.key, $$v)},expression:\"model[item.key]\"}}):_c('item-render',{attrs:{\"type\":item.type,\"config\":Object.assign({}, {placeholder: item.placeholder || ''},\n            item.config,\n            {model: _vm.model,\n            key: item.key})}})],1)],1)}),0)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-form\r\n      ref=\"adsfrom\"\r\n      v-loading=\"screenLoading\"\r\n      :label-width=\"labelWidth\"\r\n      :model=\"model\"\r\n      :rules=\"rules\"\r\n      size=\"medium\"\r\n      label-suffix=\"：\"\r\n      class=\"formCss labelSuffix\"\r\n    >\r\n      <div v-for=\"item in items\" :key=\"item.key\" class=\"box\">\r\n        <el-form-item :label=\"item.label\" :prop=\"item.key\">\r\n          <el-date-picker\r\n            v-if=\"item.type === 'date'\"\r\n            v-model=\"model[item.key]\"\r\n            :type=\"item.type\"\r\n            :picker-options=\"item.TimePickerOptions\"\r\n            :clearable=\"item.clearable\"\r\n            :disabled=\"item.disabled\"\r\n            format=\"yyyy 年 MM 月 dd 日\"\r\n            value-format=\"yyyy-MM-dd\"\r\n          />\r\n          <el-switch\r\n            v-else-if=\"item.type === 'switch'\"\r\n            v-model=\"model[item.key]\"\r\n          ></el-switch>\r\n          <item-render\r\n            v-else\r\n            :type=\"item.type\"\r\n            :config=\"{\r\n              placeholder: item.placeholder || '',\r\n              ...item.config,\r\n              model,\r\n              key: item.key\r\n            }\"\r\n          />\r\n        </el-form-item>\r\n      </div>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ItemRender from '@components/renders/ItemRender';\r\nexport default {\r\n  name: 'AdvancedScreening',\r\n  components: { 'item-render': ItemRender },\r\n  props: {\r\n    spread: {\r\n      type: Boolean\r\n    },\r\n    model: {\r\n      type: Object,\r\n      default: () => {}\r\n    },\r\n    items: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    labelWidth: {\r\n      type: String,\r\n      default: () => ''\r\n    },\r\n    screenLoading: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      rules: {},\r\n      boxBtnStyle: ''\r\n    };\r\n  },\r\n  created() {\r\n    this.initRules();\r\n  },\r\n  watch: {\r\n    items() {\r\n      this.initRules();\r\n    }\r\n  },\r\n  methods: {\r\n    initRules() {\r\n      const rules = {};\r\n      this.items.forEach((item) => {\r\n        if (item.rule && item.required === 0) {\r\n          rules[item.key] = item.rule;\r\n        }\r\n      });\r\n      this.rules = rules;\r\n      this.$nextTick(() => {\r\n        this.$emit('adsfrom', this.$refs.adsfrom);\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./advanced.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./advanced.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./advanced.vue?vue&type=template&id=d7b5c31c&\"\nimport script from \"./advanced.vue?vue&type=script&lang=js&\"\nexport * from \"./advanced.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('simple-dialog',{ref:\"advance\",attrs:{\"dialog-title\":_vm.dialogTitle,\"dialog-visible\":_vm.dialogTestSwitch,\"dialog-width\":\"600px\",\"botton-show\":\"true\",\"save-text\":\"保存\",\"cancel-text\":\"取消\"},on:{\"saveEmit\":_vm.treeDataTest,\"cancelEmit\":_vm.cancelSwitch}},[_c('AdvancedScreening',{attrs:{\"spread\":_vm.spread.visible,\"model\":_vm.spread.model,\"items\":_vm.spread.items,\"label-width\":\"30%\",\"screen-loading\":_vm.spread.loading},on:{\"doQuery\":_vm.handleQuery,\"doReset\":_vm.handleReset}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Vue, Component, Prop, Emit, Watch } from 'vue-property-decorator';\r\nimport AdvancedScreening from './advanced.vue';\r\n@Component({\r\n  components: { AdvancedScreening }\r\n})\r\nexport default class AddContent extends Vue {\r\n  spread: any = {\r\n    visible: true,\r\n    model: {},\r\n    items: [],\r\n    loading: false\r\n  };\r\n  @Prop(Array) paramsList: [];\r\n  @Prop(String) dialogTitle: '';\r\n  @Prop({ default: false }) dialogTestSwitch: boolean;\r\n  @Emit('saveEmitSwitch')\r\n  treeDataTest() {}\r\n  @Emit('cancelEmitSwitch')\r\n  cancelSwitch() {}\r\n  @Watch('paramsList', { immediate: true, deep: true })\r\n  getVisible(newVal: any) {\r\n    const kong: Array<any> = [];\r\n    const dataModel: any = {};\r\n    newVal.forEach((item: any) => {\r\n      if (item.value) {\r\n        dataModel[item.fieldCode] = item.value;\r\n      } else if (item.dafalutValue) {\r\n        dataModel[item.fieldCode] = item.dafalutValue;\r\n      } else {\r\n        dataModel[item.fieldCode] = '';\r\n      }\r\n      if (item.fieldType === 3) {\r\n        kong.push({\r\n          key: item.fieldCode,\r\n          label: item.fieldName,\r\n          type: 'switch'\r\n        });\r\n      } else if (item.fieldType === 2) {\r\n        kong.push({\r\n          key: item.fieldCode,\r\n          label: item.fieldName,\r\n          type: 'date',\r\n          TimePickerOptions: '',\r\n          clearable: true,\r\n          disabled: false\r\n        });\r\n      } else {\r\n        kong.push({\r\n          type: 'input',\r\n          key: item.fieldCode,\r\n          label: item.fieldName,\r\n          placeholder: item.fieldType === 1 ? '请输入数字' : '请输入文本',\r\n          config: {\r\n            props: {\r\n              type: item.fieldType === 1 ? 'number' : 'input'\r\n            }\r\n          }\r\n        });\r\n      }\r\n    });\r\n    this.spread.items = kong;\r\n    this.spread.model = dataModel;\r\n    // console.log(\"this.spread\", this.spread);\r\n  }\r\n}\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addContent.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./addContent.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./addContent.vue?vue&type=template&id=3ca4f7b1&\"\nimport script from \"./addContent.vue?vue&type=script&lang=ts&\"\nexport * from \"./addContent.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}